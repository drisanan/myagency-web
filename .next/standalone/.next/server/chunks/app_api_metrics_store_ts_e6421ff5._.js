module.exports=[43530,e=>{"use strict";let t={},n={},s={};function o(e=new Date){return e.toISOString().slice(0,10)}function i(e,t,n){e[t]||(e[t]={}),e[t][n]||(e[t][n]=new Set)}function r(e,n,s){e&&n&&Number.isFinite(s)&&(t[e]||(t[e]={}),t[e][n]||(t[e][n]=0),t[e][n]+=Math.max(0,s))}function a(e,t,s){e&&t&&s&&(i(n,e,t),n[e][t].add(s))}function c(e,t,n){e&&t&&n&&(i(s,e,t),s[e][t].add(n))}function d(e,i){let r=[],a=new Date,c=0,d=0;for(let u=i-1;u>=0;u--){let i=new Date(a);i.setDate(a.getDate()-u);let l=o(i),f=t[e]?.[l]||0,S=n[e]?.[l]?.size||0,p=s[e]?.[l]?.size||0;c+=f,d+=S,r.push({date:l,sends:f,opens:S,clicks:p})}let u=c>0?d/c:0;return{days:r,totals:{sends:c,opens:d},openRate:u}}e.s(["getStats",()=>d,"recordClick",()=>c,"recordOpen",()=>a,"recordSend",()=>r,"todayISO",()=>o])}];

//# sourceMappingURL=app_api_metrics_store_ts_e6421ff5._.js.map