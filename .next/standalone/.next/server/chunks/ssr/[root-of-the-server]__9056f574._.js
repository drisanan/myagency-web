module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},35112,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored["react-ssr"].ReactDOM},9270,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored["react-ssr"].ReactServerDOMTurbopackClient},7946,a=>{"use strict";var b=a.i(44365);a.s(["Paper",()=>b.default])},34741,a=>{"use strict";var b=a.i(72131);a.s(["default",0,function(a,c){return b.isValidElement(a)&&-1!==c.indexOf(a.type.muiName??a.type?._payload?.value?.muiName)}],34741)},56068,30055,a=>{"use strict";var b=a.i(72131),c=a.i(98621),d=a.i(36472),e=a.i(74443),f=a.i(59027),g=a.i(25054),h=a.i(33115),i=a.i(43267),j=a.i(94805),k=a.i(68604),l=a.i(29297);function m(a){return(0,l.default)("MuiTypography",a)}let n=(0,k.default)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);a.s(["default",0,n,"getTypographyUtilityClass",()=>m],30055);var o=a.i(87924);let p={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},q=(0,f.internal_createExtendSxProp)(),r=(0,e.styled)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.variant&&b[c.variant],"inherit"!==c.align&&b[`align${(0,i.default)(c.align)}`],c.noWrap&&b.noWrap,c.gutterBottom&&b.gutterBottom,c.paragraph&&b.paragraph]}})((0,g.default)(({theme:a})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(a.typography).filter(([a,b])=>"inherit"!==a&&b&&"object"==typeof b).map(([a,b])=>({props:{variant:a},style:b})),...Object.entries(a.palette).filter((0,j.default)()).map(([b])=>({props:{color:b},style:{color:(a.vars||a).palette[b].main}})),...Object.entries(a.palette?.text||{}).filter(([,a])=>"string"==typeof a).map(([b])=>({props:{color:`text${(0,i.default)(b)}`},style:{color:(a.vars||a).palette.text[b]}})),{props:({ownerState:a})=>"inherit"!==a.align,style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:a})=>a.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:a})=>a.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:a})=>a.paragraph,style:{marginBottom:16}}]}))),s={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},t=b.forwardRef(function(a,b){let{color:e,...f}=(0,h.useDefaultProps)({props:a,name:"MuiTypography"}),g=!p[e],j=q({...f,...g&&{color:e}}),{align:k="inherit",className:l,component:n,gutterBottom:t=!1,noWrap:u=!1,paragraph:v=!1,variant:w="body1",variantMapping:x=s,...y}=j,z={...j,align:k,color:e,className:l,component:n,gutterBottom:t,noWrap:u,paragraph:v,variant:w,variantMapping:x},A=n||(v?"p":x[w]||s[w])||"span",B=(a=>{let{align:b,gutterBottom:c,noWrap:e,paragraph:f,variant:g,classes:h}=a,j={root:["root",g,"inherit"!==a.align&&`align${(0,i.default)(b)}`,c&&"gutterBottom",e&&"noWrap",f&&"paragraph"]};return(0,d.default)(j,m,h)})(z);return(0,o.jsx)(r,{as:A,ref:b,className:(0,c.default)(B.root,l),...y,ownerState:z,style:{..."inherit"!==k&&{"--Typography-textAlign":k},...y.style}})});a.s(["default",0,t],56068)},19470,a=>{"use strict";var b=a.i(56068);a.s(["Typography",()=>b.default])},24089,a=>{"use strict";var b=a.i(72131),c=a.i(98621),d=a.i(90998),e=a.i(65840),f=a.i(22844),g=a.i(5721),h=a.i(87924),i=a.i(25164),i=i,j=a.i(54460),k=a.i(21945);let l=(0,a.i(68604).default)("MuiBox",["root"]),m=(0,j.createTheme)(),n=function(a={}){let{themeId:i,defaultTheme:j,defaultClassName:k="MuiBox-root",generateClassName:l}=a,m=(0,d.default)("div",{shouldForwardProp:a=>"theme"!==a&&"sx"!==a&&"as"!==a})(e.default);return b.forwardRef(function(a,b){let d=(0,g.default)(j),{className:e,component:n="div",...o}=(0,f.extendSxProp)(a);return(0,h.jsx)(m,{as:n,ref:b,className:(0,c.default)(e,l?l(k):k),theme:i&&d[i]||d,...o})})}({themeId:k.default,defaultTheme:m,defaultClassName:l.root,generateClassName:i.default.generate});a.s(["Box",0,n],24089)},77940,a=>{"use strict";var b=a.i(75139);a.s(["Button",()=>b.default])},89381,a=>{"use strict";let b;function c(a){}let d=[{id:"agency-001",name:"Prime Sports",email:"agency1@an.test",settings:{primaryColor:"#1976d2"}},{id:"agency-002",name:"NextGen",email:"agency2@an.test",settings:{primaryColor:"#9c27b0"}},{id:"agency-003",name:"Elite Edge",email:"agency3@an.test",settings:{primaryColor:"#2e7d32"}}],e=(b=[]).length>0?b:(c(d),[...d]);async function f(){return e.map(a=>({id:a.id,name:a.name}))}async function g(){return[...e]}async function h(a){return e.find(b=>b.email===a)??null}async function i(a){return e.find(b=>b.id===a)??null}async function j(a){if(a.id){let b=e.findIndex(b=>b.id===a.id);if(b>=0)return e[b]={...e[b],...a,id:a.id},c(e),{id:a.id}}let b=`agency-${(1e6*Math.random()).toFixed(0)}`;return e.push({id:b,name:a.name,email:a.email,password:a.password,ownerFirstName:a.ownerFirstName,ownerLastName:a.ownerLastName,ownerEmail:a.ownerEmail,ownerPhone:a.ownerPhone,active:a.active??!0,settings:a.settings??{}}),c(e),{id:b}}a.s(["getAgencies",()=>g,"getAgencyByEmail",()=>h,"getAgencyById",()=>i,"listAgencies",()=>f,"upsertAgency",()=>j])},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},54427,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},93110,a=>{"use strict";var b=a.i(72131),c=a.i(98621),d=a.i(36472),e=a.i(74443),f=a.i(25054),g=a.i(33115),h=a.i(68604),i=a.i(29297);function j(a){return(0,i.default)("MuiToolbar",a)}(0,h.default)("MuiToolbar",["root","gutters","regular","dense"]);var k=a.i(87924);let l=(0,e.styled)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,!c.disableGutters&&b.gutters,b[c.variant]]}})((0,f.default)(({theme:a})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:a.mixins.toolbar}]}))),m=b.forwardRef(function(a,b){let e=(0,g.useDefaultProps)({props:a,name:"MuiToolbar"}),{className:f,component:h="div",disableGutters:i=!1,variant:m="regular",...n}=e,o={...e,component:h,disableGutters:i,variant:m},p=(a=>{let{classes:b,disableGutters:c,variant:e}=a;return(0,d.default)({root:["root",!c&&"gutters",e]},j,b)})(o);return(0,k.jsx)(l,{as:h,className:(0,c.default)(p.root,f),ref:b,ownerState:o,...n})});a.s(["default",0,m],93110)},25895,63692,a=>{"use strict";var b=a.i(72131),c=a.i(98621),d=a.i(36472),e=a.i(74443),f=a.i(25054),g=a.i(33115),h=a.i(43267),i=a.i(94805),j=a.i(44365),k=a.i(68604),l=a.i(29297);function m(a){return(0,l.default)("MuiAppBar",a)}(0,k.default)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var n=a.i(87924);let o=(a,b)=>a?`${a?.replace(")","")}, ${b})`:b,p=(0,e.styled)(j.default,{name:"MuiAppBar",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[`position${(0,h.default)(c.position)}`],b[`color${(0,h.default)(c.color)}`]]}})((0,f.default)(({theme:a})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(a.vars||a).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(a.vars||a).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(a.vars||a).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":a.vars?a.vars.palette.AppBar.defaultBg:a.palette.grey[100],"--AppBar-color":a.vars?a.vars.palette.text.primary:a.palette.getContrastText(a.palette.grey[100]),...a.applyStyles("dark",{"--AppBar-background":a.vars?a.vars.palette.AppBar.defaultBg:a.palette.grey[900],"--AppBar-color":a.vars?a.vars.palette.text.primary:a.palette.getContrastText(a.palette.grey[900])})}},...Object.entries(a.palette).filter((0,i.default)(["contrastText"])).map(([b])=>({props:{color:b},style:{"--AppBar-background":(a.vars??a).palette[b].main,"--AppBar-color":(a.vars??a).palette[b].contrastText}})),{props:a=>!0===a.enableColorOnDark&&!["inherit","transparent"].includes(a.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:a=>!1===a.enableColorOnDark&&!["inherit","transparent"].includes(a.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...a.applyStyles("dark",{backgroundColor:a.vars?o(a.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:a.vars?o(a.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...a.applyStyles("dark",{backgroundImage:"none"})}}]}))),q=b.forwardRef(function(a,b){let e=(0,g.useDefaultProps)({props:a,name:"MuiAppBar"}),{className:f,color:i="primary",enableColorOnDark:j=!1,position:k="fixed",...l}=e,o={...e,color:i,position:k,enableColorOnDark:j},q=(a=>{let{color:b,position:c,classes:e}=a,f={root:["root",`color${(0,h.default)(b)}`,`position${(0,h.default)(c)}`]};return(0,d.default)(f,m,e)})(o);return(0,n.jsx)(p,{square:!0,component:"header",ownerState:o,elevation:4,className:(0,c.default)(q.root,f,"fixed"===k&&"mui-fixed"),ref:b,...l})});a.s(["AppBar",0,q],25895);var r=a.i(93110);a.s(["Toolbar",()=>r.default],63692)},3888,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7329),e=a.i(60433),f=a.i(75139),g=a.i(48577),h=a.i(98621),i=a.i(36472),j=a.i(74443),k=a.i(25054),l=a.i(33115),m=a.i(56068),n=a.i(68604),o=a.i(29297);function p(a){return(0,o.default)("MuiAlertTitle",a)}(0,n.default)("MuiAlertTitle",["root"]);let q=(0,j.styled)(m.default,{name:"MuiAlertTitle",slot:"Root"})((0,k.default)(({theme:a})=>({fontWeight:a.typography.fontWeightMedium,marginTop:-2}))),r=c.forwardRef(function(a,c){let d=(0,l.useDefaultProps)({props:a,name:"MuiAlertTitle"}),{className:e,...f}=d,g=(a=>{let{classes:b}=a;return(0,i.default)({root:["root"]},p,b)})(d);return(0,b.jsx)(q,{gutterBottom:!0,component:"div",ownerState:d,ref:c,className:(0,h.default)(g.root,e),...f})});function s({onSubmit:a}){let[h,i]=c.default.useState(""),[j,k]=c.default.useState(""),[l,m]=c.default.useState(""),[n,o]=c.default.useState({}),[p,q]=c.default.useState(!1),s=async b=>{b.preventDefault();let c={};if(h)/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)||(c.email="Invalid email");else c.email="Required";let d=j.trim(),e=l.trim();if(d?/^\+?\d+$/.test(d)||(c.phone="Phone must be digits only"):c.phone="Required",e?/^\d+$/.test(e)||(c.accessCode="Access code must be digits only"):c.accessCode="Required",o(c),!(Object.keys(c).length>0))try{q(!0),await a({email:h.trim(),phone:d,accessCode:e})}finally{q(!1)}};return(0,b.jsx)("form",{onSubmit:s,noValidate:!0,children:(0,b.jsxs)(e.default,{spacing:2,sx:{maxWidth:480},children:[(n.email||n.phone||n.accessCode)&&(0,b.jsxs)(g.default,{severity:"error","data-testid":"error-list",children:[(0,b.jsx)(r,{children:"There were problems with your submission"}),(0,b.jsxs)("ul",{style:{margin:0,paddingInlineStart:20},children:[n.email&&(0,b.jsxs)("li",{children:["Email: ",n.email]}),n.phone&&(0,b.jsxs)("li",{children:["Phone: ",n.phone]}),n.accessCode&&(0,b.jsxs)("li",{children:["Access Code: ",n.accessCode]})]})]}),(0,b.jsx)(d.default,{label:"Email",type:"email",value:h,onChange:a=>i(a.target.value),error:!!n.email,helperText:n.email}),(0,b.jsx)(d.default,{label:"Phone",type:"tel",value:j,onChange:a=>k(a.target.value),error:!!n.phone,helperText:n.phone}),(0,b.jsx)(d.default,{label:"Access Code",type:"text",value:l,onChange:a=>m(a.target.value),error:!!n.accessCode,helperText:n.accessCode}),(0,b.jsx)(f.default,{type:"submit",variant:"contained",disabled:p,children:"Sign in"})]})})}var t=a.i(89381);async function u(a,b,c){try{let d=await fetch("/api/auth/ghl-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,phone:b,accessCode:c})}),e=await d.json();if(!d.ok||!e?.ok)return{ok:!1,error:e?.error||"Login failed"};return{ok:!0,contact:e.contact}}catch(a){return{ok:!1,error:a?.message||"Login failed"}}}async function v(a){let b=await u(a.email.trim(),a.phone.trim(),a.accessCode.trim());if(!b.ok)throw Error(b.error);let c=await (0,t.getAgencyByEmail)(b.contact.email);return{role:"agency",email:b.contact.email,agencyId:c?.id,contactId:b.contact.id}}var w=a.i(29026),x=a.i(50944),y=a.i(24089),z=a.i(4439),A=a.i(19470),B=a.i(7946),C=a.i(37783);function D(){let{setSession:a}=(0,w.useSession)(),d=(0,x.useRouter)(),[e,f]=c.default.useState(null),g=async b=>{try{f(null);let c=await v(b);a(c),d.push("/dashboard")}catch(a){f(a?.message||"Login failed")}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.MarketingHeader,{}),(0,b.jsx)(y.Box,{sx:{minHeight:"100vh",bgcolor:"#121212",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",py:8},children:(0,b.jsx)(z.Container,{maxWidth:"xs",sx:{display:"flex",justifyContent:"center"},children:(0,b.jsxs)(B.Paper,{"data-testid":"login-card",elevation:4,sx:{p:4,borderRadius:2,bgcolor:"#fff",color:"inherit",width:"100%",maxWidth:420},children:[(0,b.jsx)(A.Typography,{variant:"h4",gutterBottom:!0,color:"text.primary",children:"Sign in"}),e?(0,b.jsx)(A.Typography,{color:"error",sx:{mb:2},children:e}):null,(0,b.jsx)(s,{onSubmit:g})]})})})]})}a.s(["default",()=>D],3888)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9056f574._.js.map