module.exports=[27120,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(24089),e=a.i(61696),f=a.i(25895),g=a.i(63692),h=a.i(19470),i=a.i(98621),j=a.i(36472),k=a.i(64719),l=a.i(57847),m=a.i(56949),n=a.i(59956),o=a.i(73946),p=a.i(7049),q=a.i(35926),r=a.i(51233),s=a.i(69807);function t(a,b,c){let d=function(a,b,c){let d,e=b.getBoundingClientRect(),f=c&&c.getBoundingClientRect(),g=(0,s.ownerWindow)(b);if(b.fakeTransform)d=b.fakeTransform;else{let a=g.getComputedStyle(b);d=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}let h=0,i=0;if(d&&"none"!==d&&"string"==typeof d){let a=d.split("(")[1].split(")")[0].split(",");h=parseInt(a[4],10),i=parseInt(a[5],10)}return"left"===a?f?`translateX(${f.right+h-e.left}px)`:`translateX(${g.innerWidth+h-e.left}px)`:"right"===a?f?`translateX(-${e.right-f.left-h}px)`:`translateX(-${e.left+e.width-h}px)`:"up"===a?f?`translateY(${f.bottom+i-e.top}px)`:`translateY(${g.innerHeight+i-e.top}px)`:f?`translateY(-${e.top-f.top+e.height-i}px)`:`translateY(-${e.top+e.height-i}px)`}(a,b,"function"==typeof c?c():c);b.style.webkitTransform=d,b.style.transform=d}let u=c.forwardRef(function(a,d){let e=(0,q.useTheme)(),f={enter:e.transitions.easing.easeOut,exit:e.transitions.easing.sharp},g={enter:e.transitions.duration.enteringScreen,exit:e.transitions.duration.leavingScreen},{addEndListener:h,appear:i=!0,children:j,container:k,direction:l="down",easing:u=f,in:v,onEnter:w,onEntered:x,onEntering:y,onExit:z,onExited:A,onExiting:B,style:C,timeout:D=g,TransitionComponent:E=m.Transition,...F}=a,G=c.useRef(null),H=(0,p.default)((0,n.default)(j),G,d),I=a=>b=>{a&&(void 0===b?a(G.current):a(G.current,b))},J=I((a,b)=>{t(l,a,k),(0,r.reflow)(a),w&&w(a,b)}),K=I((a,b)=>{let c=(0,r.getTransitionProps)({timeout:D,style:C,easing:u},{mode:"enter"});a.style.webkitTransition=e.transitions.create("-webkit-transform",{...c}),a.style.transition=e.transitions.create("transform",{...c}),a.style.webkitTransform="none",a.style.transform="none",y&&y(a,b)}),L=I(x),M=I(B),N=I(a=>{let b=(0,r.getTransitionProps)({timeout:D,style:C,easing:u},{mode:"exit"});a.style.webkitTransition=e.transitions.create("-webkit-transform",b),a.style.transition=e.transitions.create("transform",b),t(l,a,k),z&&z(a)}),O=I(a=>{a.style.webkitTransition="",a.style.transition="",A&&A(a)}),P=c.useCallback(()=>{G.current&&t(l,G.current,k)},[l,k]);return c.useEffect(()=>{if(v||"down"===l||"right"===l)return;let a=(0,o.default)(()=>{G.current&&t(l,G.current,k)}),b=(0,s.ownerWindow)(G.current);return b.addEventListener("resize",a),()=>{a.clear(),b.removeEventListener("resize",a)}},[l,v,k]),c.useEffect(()=>{v||P()},[v,P]),(0,b.jsx)(E,{nodeRef:G,onEnter:J,onEntered:L,onEntering:K,onExit:N,onExited:O,onExiting:M,addEndListener:a=>{h&&h(G.current,a)},appear:i,in:v,timeout:D,...F,children:(a,{ownerState:b,...d})=>c.cloneElement(j,{ref:H,style:{visibility:"exited"!==a||v?void 0:"hidden",...C,...j.props.style},...d})})});var v=a.i(44365),w=a.i(43267),x=a.i(52506),y=a.i(74443),z=a.i(25054),A=a.i(33115),B=a.i(68604),C=a.i(29297);function D(a){return(0,C.default)("MuiDrawer",a)}(0,B.default)("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var E=a.i(49126),F=a.i(98685);let G=(a,b)=>{let{ownerState:c}=a;return[b.root,("permanent"===c.variant||"persistent"===c.variant)&&b.docked,b.modal]},H=(0,y.styled)(l.default,{name:"MuiDrawer",slot:"Root",overridesResolver:G})((0,z.default)(({theme:a})=>({zIndex:(a.vars||a).zIndex.drawer}))),I=(0,y.styled)("div",{shouldForwardProp:x.default,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:G})({flex:"0 0 auto"}),J=(0,y.styled)(v.default,{name:"MuiDrawer",slot:"Paper",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.paper,b[`paperAnchor${(0,w.default)(c.anchor)}`],"temporary"!==c.variant&&b[`paperAnchorDocked${(0,w.default)(c.anchor)}`]]}})((0,z.default)(({theme:a})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(a.vars||a).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:a})=>"left"===a.anchor&&"temporary"!==a.variant,style:{borderRight:`1px solid ${(a.vars||a).palette.divider}`}},{props:({ownerState:a})=>"top"===a.anchor&&"temporary"!==a.variant,style:{borderBottom:`1px solid ${(a.vars||a).palette.divider}`}},{props:({ownerState:a})=>"right"===a.anchor&&"temporary"!==a.variant,style:{borderLeft:`1px solid ${(a.vars||a).palette.divider}`}},{props:({ownerState:a})=>"bottom"===a.anchor&&"temporary"!==a.variant,style:{borderTop:`1px solid ${(a.vars||a).palette.divider}`}}]}))),K={left:"right",right:"left",top:"down",bottom:"up"},L=c.forwardRef(function(a,d){let e=(0,A.useDefaultProps)({props:a,name:"MuiDrawer"}),f=(0,q.useTheme)(),g=(0,k.useRtl)(),h={enter:f.transitions.duration.enteringScreen,exit:f.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:m,children:n,className:o,elevation:p=16,hideBackdrop:r=!1,ModalProps:{BackdropProps:s,...t}={},onClose:v,open:x=!1,PaperProps:y={},SlideProps:z,TransitionComponent:B,transitionDuration:C=h,variant:G="temporary",slots:L={},slotProps:M={},...N}=e,O=c.useRef(!1);c.useEffect(()=>{O.current=!0},[]);let P=function({direction:a},b){return"rtl"===a&&["left","right"].includes(b)?K[b]:b}({direction:g?"rtl":"ltr"},l),Q={...e,anchor:l,elevation:p,open:x,variant:G,...N},R=(a=>{let{classes:b,anchor:c,variant:d}=a,e={root:["root",`anchor${(0,w.default)(c)}`],docked:[("permanent"===d||"persistent"===d)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,w.default)(c)}`,"temporary"!==d&&`paperAnchorDocked${(0,w.default)(c)}`]};return(0,j.default)(e,D,b)})(Q),S={slots:{transition:B,...L},slotProps:{paper:y,transition:z,...M,backdrop:(0,F.mergeSlotProps)(M.backdrop||{...m,...s},{transitionDuration:C})}},[T,U]=(0,E.default)("root",{ref:d,elementType:H,className:(0,i.default)(R.root,R.modal,o),shouldForwardComponentProp:!0,ownerState:Q,externalForwardedProps:{...S,...N,...t},additionalProps:{open:x,onClose:v,hideBackdrop:r,slots:{backdrop:S.slots.backdrop},slotProps:{backdrop:S.slotProps.backdrop}}}),[V,W]=(0,E.default)("paper",{elementType:J,shouldForwardComponentProp:!0,className:(0,i.default)(R.paper,y.className),ownerState:Q,externalForwardedProps:S,additionalProps:{elevation:"temporary"===G?p:0,square:!0,..."temporary"===G&&{role:"dialog","aria-modal":"true"}}}),[X,Y]=(0,E.default)("docked",{elementType:I,ref:d,className:(0,i.default)(R.root,R.docked,o),ownerState:Q,externalForwardedProps:S,additionalProps:N}),[Z,$]=(0,E.default)("transition",{elementType:u,ownerState:Q,externalForwardedProps:S,additionalProps:{in:x,direction:K[P],timeout:C,appear:O.current}}),_=(0,b.jsx)(V,{...W,children:n});if("permanent"===G)return(0,b.jsx)(X,{...Y,children:_});let aa=(0,b.jsx)(Z,{...$,children:_});return"persistent"===G?(0,b.jsx)(X,{...Y,children:aa}):(0,b.jsx)(T,{...U,children:aa})});var M=a.i(93598),N=a.i(26893),O=a.i(18843),P=a.i(84275),Q=a.i(27015);let R=(0,y.styled)(N.default,{shouldForwardProp:a=>(0,x.default)(a)||"classes"===a,name:"MuiListItemButton",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.dense&&b.dense,"flex-start"===c.alignItems&&b.alignItemsFlexStart,c.divider&&b.divider,!c.disableGutters&&b.gutters]}})((0,z.default)(({theme:a})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Q.default.selected}`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,(a.vars||a).palette.action.selectedOpacity),[`&.${Q.default.focusVisible}`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.focusOpacity}`)}},[`&.${Q.default.selected}:hover`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:a.alpha((a.vars||a).palette.primary.main,(a.vars||a).palette.action.selectedOpacity)}},[`&.${Q.default.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`&.${Q.default.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity},variants:[{props:({ownerState:a})=>a.divider,style:{borderBottom:`1px solid ${(a.vars||a).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.dense,style:{paddingTop:4,paddingBottom:4}}]}))),S=c.forwardRef(function(a,d){let e=(0,A.useDefaultProps)({props:a,name:"MuiListItemButton"}),{alignItems:f="center",autoFocus:g=!1,component:h="div",children:k,dense:l=!1,disableGutters:m=!1,divider:n=!1,focusVisibleClassName:o,selected:q=!1,className:r,...s}=e,t=c.useContext(P.default),u=c.useMemo(()=>({dense:l||t.dense||!1,alignItems:f,disableGutters:m}),[f,t.dense,l,m]),v=c.useRef(null);(0,O.default)(()=>{g&&v.current&&v.current.focus()},[g]);let w={...e,alignItems:f,dense:u.dense,disableGutters:m,divider:n,selected:q},x=(a=>{let{alignItems:b,classes:c,dense:d,disabled:e,disableGutters:f,divider:g,selected:h}=a,i=(0,j.default)({root:["root",d&&"dense",!f&&"gutters",g&&"divider",e&&"disabled","flex-start"===b&&"alignItemsFlexStart",h&&"selected"]},Q.getListItemButtonUtilityClass,c);return{...c,...i}})(w),y=(0,p.default)(v,d);return(0,b.jsx)(P.default.Provider,{value:u,children:(0,b.jsx)(R,{ref:y,href:s.href||s.to,component:(s.href||s.to)&&"div"===h?"button":h,focusVisibleClassName:(0,i.default)(x.focusVisible,o),ownerState:w,className:(0,i.default)(x.root,r),...s,classes:x,children:k})})});var T=a.i(60204),U=a.i(77940),V=a.i(48577),V=V,W=a.i(9386),X=a.i(17110),Y=a.i(46331),Y=Y,Z=a.i(15937),$=a.i(80785),_=a.i(12218),aa=a.i(94333),ab=a.i(38246),ac=a.i(50944),ad=a.i(29026);a.i(46987);var ae=a.i(25753),af=a.i(48617),ag=a.i(33217);let ah=[];function ai({children:a}){let{session:i,setSession:j}=(0,ad.useSession)(),k=(0,ac.usePathname)(),l=c.default.useCallback(()=>{},[i,j]),m={width:"calc(100% - 20px)",mx:"10px",px:1.25,color:ae.colors.sidebarText,borderRadius:"5px",py:.5,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.04)"},"&.Mui-selected, &.Mui-selected:hover":{bgcolor:ae.colors.navActiveBg,color:ae.colors.navActiveText},justifyContent:"flex-start"},n=[{href:"/dashboard",label:"Dashboard",icon:(0,b.jsx)(af.IoAppsOutline,{})},...i?.role!=="parent"||i?.impersonatedBy?[]:[{href:"/agencies",label:"Agencies",icon:(0,b.jsx)(af.IoAppsOutline,{})}],{href:"/clients",label:"Athletes",icon:(0,b.jsx)(af.IoBarbellOutline,{})},{href:"/ai/prompts",label:"Prompts",icon:(0,b.jsx)(af.IoFlaskOutline,{})},{href:"/lists",label:"Lists",icon:(0,b.jsx)(af.IoClipboardOutline,{})},{href:"/tasks",label:"Tasks",icon:(0,b.jsx)(af.IoClipboardOutline,{})},{href:"/recruiter",label:"Recruiter",icon:(0,b.jsx)(af.IoSchoolOutline,{})}],o=(0,ag.useQuery)({queryKey:["nav-tasks",i?.email],enabled:!!i?.email,queryFn:async()=>i?.email?function(a){let{agencyEmail:b,athleteId:c,status:d}=a;return ah.filter(a=>a.agencyEmail===b&&(!c||a.athleteId===c)&&(!d||a.status===d))}({agencyEmail:i.email}):[],staleTime:3e4}).data||[],p=o.filter(a=>"done"!==a.status),q=function(a,b=864e5){let c=Date.now();return a.filter(a=>a.dueAt&&"done"!==a.status&&a.dueAt-c<=b&&a.dueAt>=c)}(o),[r,s]=c.default.useState(null);return(0,b.jsxs)(d.Box,{sx:{display:"flex",minHeight:"100vh",backgroundImage:"url(/marketing/bg-an.png)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:[(0,b.jsx)(e.CssBaseline,{}),(0,b.jsx)(f.AppBar,{position:"fixed",sx:{zIndex:a=>a.zIndex.drawer+1,bgcolor:"transparent",boxShadow:"none",color:"inherit"},children:(0,b.jsxs)(g.Toolbar,{sx:{justifyContent:"space-between",px:2},children:[(0,b.jsx)(d.Box,{sx:{display:"flex",alignItems:"center",minHeight:48},children:i?.agencyLogo?(0,b.jsx)("img",{src:i.agencyLogo,alt:"Agency Logo",style:{height:32,objectFit:"contain"}}):(0,b.jsx)("img",{src:"/marketing/an-logo.png",alt:"Athlete Narrative",style:{height:32,objectFit:"contain"}})}),(0,b.jsxs)(d.Box,{sx:{display:"flex",alignItems:"center",gap:2},children:[i?.impersonatedBy&&(0,b.jsxs)(d.Box,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,b.jsxs)(h.Typography,{variant:"body2",sx:{color:"#212636"},children:["Impersonating ","string"==typeof i.impersonatedBy?i.impersonatedBy:i.impersonatedBy?.email||"another user"]}),(0,b.jsx)(U.Button,{color:"inherit",variant:"outlined",onClick:l,children:"Stop Impersonating"})]}),i?(0,b.jsxs)(W.Stack,{direction:"row",spacing:2,alignItems:"center",children:[(0,b.jsx)(Y.default,{color:"primary",badgeContent:p.length||null,anchorOrigin:{vertical:"top",horizontal:"left"},children:(0,b.jsx)(Z.IconButton,{color:"inherit",onClick:a=>s(a.currentTarget),"aria-label":"Tasks alerts",children:(0,b.jsx)(Y.default,{variant:"dot",color:"error",invisible:0===q.length,children:(0,b.jsx)(af.IoNotificationsOutline,{size:20})})})}),(0,b.jsx)(X.Avatar,{sx:{bgcolor:"#5D4AFB",width:32,height:32},children:(i.email||"?").charAt(0).toUpperCase()})]}):null]})]})}),(0,b.jsxs)($.Menu,{anchorEl:r,open:!!r,onClose:()=>s(null),children:[(0,b.jsxs)(d.Box,{sx:{px:2,py:1},children:[(0,b.jsx)(h.Typography,{variant:"subtitle2",children:"Tasks"}),(0,b.jsxs)(h.Typography,{variant:"caption",color:"text.secondary",children:[p.length," open Â· ",q.length," due soon"]})]}),(0,b.jsx)(aa.Divider,{}),0===q.length?(0,b.jsx)(_.MenuItem,{disabled:!0,children:"No tasks due soon"}):q.slice(0,5).map(a=>(0,b.jsx)(_.MenuItem,{sx:{whiteSpace:"normal",alignItems:"flex-start"},children:(0,b.jsxs)(d.Box,{children:[(0,b.jsx)(h.Typography,{variant:"body2",sx:{fontWeight:600},children:a.title}),a.dueAt?(0,b.jsxs)(h.Typography,{variant:"caption",color:"text.secondary",children:["Due ",new Date(a.dueAt).toLocaleString()]}):null]})},a.id)),q.length>5?(0,b.jsxs)(_.MenuItem,{disabled:!0,children:["+",q.length-5," more"]}):null]}),(0,b.jsxs)(L,{variant:"permanent",sx:{width:240,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",bgcolor:ae.colors.sidebarBg,color:ae.colors.sidebarText}},children:[(0,b.jsx)(g.Toolbar,{}),(0,b.jsx)(M.List,{sx:{display:"flex",flexDirection:"column",gap:"5px",mt:2.5},children:n.map(a=>{let c=k===a.href||k?.startsWith(`${a.href}/`);return(0,b.jsx)(S,{LinkComponent:ab.default,href:a.href,sx:m,selected:c,children:(0,b.jsxs)(W.Stack,{direction:"row",spacing:2,alignItems:"center",children:[a.icon,(0,b.jsx)(T.ListItemText,{primary:a.label})]})},a.href)})})]}),(0,b.jsxs)(d.Box,{component:"main",sx:{flexGrow:1,p:3},children:[(0,b.jsx)(g.Toolbar,{}),i?.impersonatedBy&&(0,b.jsxs)(V.default,{severity:"error",sx:{mb:2},children:["You are impersonating agency account: ",i.email,". Actions will be logged."]}),a]})]})}a.s(["AppShell",()=>ai],27120)},67609,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(29026);function f({children:a}){let{session:f,loading:g}=(0,e.useSession)(),h=(0,d.useRouter)();return(c.default.useEffect(()=>{g||f||h.replace("/auth/login")},[g,f,h]),g)?null:(0,b.jsx)(b.Fragment,{children:a})}a.s(["AuthGuard",()=>f])}];

//# sourceMappingURL=app_81a609f6._.js.map