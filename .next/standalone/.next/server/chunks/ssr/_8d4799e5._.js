module.exports=[7946,a=>{"use strict";var b=a.i(44365);a.s(["Paper",()=>b.default])},34741,a=>{"use strict";var b=a.i(72131);a.s(["default",0,function(a,c){return b.isValidElement(a)&&-1!==c.indexOf(a.type.muiName??a.type?._payload?.value?.muiName)}],34741)},10446,a=>{"use strict";var b=a.i(7329);a.s(["TextField",()=>b.default])},89381,a=>{"use strict";let b;function c(a){}let d=[{id:"agency-001",name:"Prime Sports",email:"agency1@an.test",settings:{primaryColor:"#1976d2"}},{id:"agency-002",name:"NextGen",email:"agency2@an.test",settings:{primaryColor:"#9c27b0"}},{id:"agency-003",name:"Elite Edge",email:"agency3@an.test",settings:{primaryColor:"#2e7d32"}}],e=(b=[]).length>0?b:(c(d),[...d]);async function f(){return e.map(a=>({id:a.id,name:a.name}))}async function g(){return[...e]}async function h(a){return e.find(b=>b.email===a)??null}async function i(a){return e.find(b=>b.id===a)??null}async function j(a){if(a.id){let b=e.findIndex(b=>b.id===a.id);if(b>=0)return e[b]={...e[b],...a,id:a.id},c(e),{id:a.id}}let b=`agency-${(1e6*Math.random()).toFixed(0)}`;return e.push({id:b,name:a.name,email:a.email,password:a.password,ownerFirstName:a.ownerFirstName,ownerLastName:a.ownerLastName,ownerEmail:a.ownerEmail,ownerPhone:a.ownerPhone,active:a.active??!0,settings:a.settings??{}}),c(e),{id:b}}a.s(["getAgencies",()=>g,"getAgencyByEmail",()=>h,"getAgencyById",()=>i,"listAgencies",()=>f,"upsertAgency",()=>j])},66001,a=>{"use strict";a.i(89381);let b=new Date,c=new Date(Date.UTC(b.getFullYear(),b.getMonth(),5)).toISOString(),d=new Date(Date.UTC(b.getFullYear(),b.getMonth()-1,12)).toISOString(),e=[{id:"ag1-c1",email:"a1@athletes.test",firstName:"Ava",lastName:"Smith",sport:"Football",agencyEmail:"agency1@an.test",createdAt:c},{id:"ag1-c2",email:"a2@athletes.test",firstName:"Ben",lastName:"Jones",sport:"Basketball",agencyEmail:"agency1@an.test",createdAt:c},{id:"ag1-c3",email:"a3@athletes.test",firstName:"Chloe",lastName:"Diaz",sport:"Soccer",agencyEmail:"agency1@an.test",createdAt:d},{id:"ag2-c1",email:"b1@athletes.test",firstName:"Cara",lastName:"Lee",sport:"Baseball",agencyEmail:"agency2@an.test",createdAt:d},{id:"ag3-c1",email:"c1@athletes.test",firstName:"Dan",lastName:"Kim",sport:"Soccer",agencyEmail:"agency3@an.test",createdAt:d},{id:"ag3-c2",email:"c2@athletes.test",firstName:"Eli",lastName:"Moore",sport:"Football",agencyEmail:"agency3@an.test",createdAt:d}];function f(a){}let g=[...e];async function h(a){return g.filter(b=>b.agencyEmail===a)}async function i(a){let b=a.id??`c-${(1e6*Math.random()).toFixed(0)}`,c=g.findIndex(a=>a.id===b),d=a.createdAt??g[c]?.createdAt??new Date().toISOString(),e={...g[c],...a,id:b,createdAt:d};return c>=0?g[c]=e:g.push(e),f(g),e}async function j(a){let b=g.find(b=>b.id===a);return b||(b=(g=[...e]).find(b=>b.id===a)),b??{id:a,email:"athlete1@example.com",firstName:"A1",lastName:"L1",sport:"Football",agencyEmail:""}}async function k(a){let b=g.findIndex(b=>b.id===a);return b>=0&&(g.splice(b,1),f(g)),{ok:!0}}async function l(){return[]}function m(a){let b=g.find(b=>b.id===a);return b?.gmailTokens??null}a.s(["deleteClient",()=>k,"getClient",()=>j,"getClientGmailTokens",()=>m,"getClients",()=>l,"listClientsByAgencyEmail",()=>h,"upsertClient",()=>i])},34956,a=>{"use strict";async function b(a){let b=await fetch("/api/ai/intro",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});if(!b.ok){let a=await b.text().catch(()=>"");throw Error(`HTTP ${b.status}: ${a||b.statusText}`)}let c=await b.json();if(c?.error)throw Error(c.error);return String(c.intro??"")}a.s(["generateIntro",()=>b])},83972,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(24089),e=a.i(77940),f=a.i(10446),g=a.i(19470),h=a.i(12218),i=a.i(9386),j=a.i(7946),k=a.i(29026),l=a.i(66001);function m(a){}var n=a.i(34956),o=a.i(89381);function p(){let{session:a}=(0,k.useSession)(),[p,q]=c.default.useState([]),[r,s]=c.default.useState(""),[t,u]=c.default.useState(""),[v,w]=c.default.useState([]),[x,y]=c.default.useState(""),[z,A]=c.default.useState(""),[B,C]=c.default.useState(""),[D,E]=c.default.useState(""),[F,G]=c.default.useState(!1),[H,I]=c.default.useState(null),[J,K]=c.default.useState(""),L=c.default.useMemo(()=>p.find(a=>a.id===r)||null,[p,r]);async function M(){try{G(!0),I(null),E("");let a=L?.firstName||"",b=L?.lastName||"",c=L?.sport||"",d=`${a} ${b}`.trim(),e=await (0,n.generateIntro)({sport:c,collegeName:J||"",coachMessage:t||"Write a concise, friendly intro email.",tone:"A highschool kid who loves sports",qualities:["Passionate","Hardworking","Determined"],additionalInsights:`Student full name: ${d}. FirstName: ${a}. LastName: ${b}. Sport: ${c}. Use the student’s actual name; no placeholders.`});E(String(e))}catch(a){I(a?.message||"Failed to run prompt")}finally{G(!1)}}return c.default.useEffect(()=>{a?.email&&((0,l.listClientsByAgencyEmail)(a.email).then(q),(0,o.getAgencyByEmail)(a.email).then(a=>K(a?.name||"")))},[a?.email]),c.default.useEffect(()=>{if(a?.email){var b;w((b={agencyEmail:a.email,clientId:r},[].filter(a=>a.agencyEmail===b.agencyEmail&&(!b.clientId||a.clientId===b.clientId)).sort((a,b)=>b.updatedAt-a.updatedAt)))}},[a?.email,r]),(0,b.jsxs)(d.Box,{sx:{display:"grid",gap:2},children:[(0,b.jsx)(j.Paper,{variant:"outlined",sx:{p:2,borderRadius:2.5,borderColor:"#dcdfe4"},children:(0,b.jsxs)(d.Box,{sx:{display:"grid",gap:2},children:[(0,b.jsx)(g.Typography,{variant:"h5",children:"AI Prompt Playground (Playground)"}),(0,b.jsx)(g.Typography,{variant:"body2",color:"text.secondary",children:"This area is used for testing, generating, and saving your prompts for athletes. You can name prompts (e.g., “John Doe – introduction”) and reuse them when generating that athlete’s introduction email."}),H&&(0,b.jsx)(g.Typography,{color:"error",children:H}),(0,b.jsxs)(d.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:[(0,b.jsxs)(f.TextField,{select:!0,label:"Athlete",value:r,onChange:a=>s(a.target.value),SelectProps:{MenuProps:{disablePortal:!0}},children:[(0,b.jsx)(h.MenuItem,{value:"",children:"(Select a client)"}),p.map(a=>(0,b.jsxs)(h.MenuItem,{value:a.id,children:[a.email," ",a.firstName?`- ${a.firstName} ${a.lastName}`:""]},a.id))]}),(0,b.jsxs)(f.TextField,{select:!0,label:"Saved Prompts",value:B,onChange:a=>{var b;let c;return b=String(a.target.value),void((c=v.find(a=>a.id===b))&&(u(c.text),C(b)))},SelectProps:{MenuProps:{disablePortal:!0}},children:[(0,b.jsx)(h.MenuItem,{value:"",children:"(Select a prompt)"}),v.map(a=>(0,b.jsx)(h.MenuItem,{value:a.id,children:a.name},a.id))]})]}),(0,b.jsx)(f.TextField,{label:"Prompt",multiline:!0,minRows:6,value:t,onChange:a=>u(a.target.value),placeholder:"e.g., Write a warm, concise introduction that highlights the athlete’s drive and recent accomplishments..."}),(0,b.jsx)(i.Stack,{direction:{xs:"column",md:"row"},spacing:1,alignItems:{xs:"stretch",md:"center"},justifyContent:"space-between",children:(0,b.jsxs)(i.Stack,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",children:[(0,b.jsx)(f.TextField,{size:"small",label:"Run name",value:z,onChange:a=>A(a.target.value),sx:{minWidth:180}}),(0,b.jsx)(e.Button,{variant:"contained",onClick:M,disabled:F||!r,children:F?"Running…":"Run"})]})})]})}),(0,b.jsxs)(d.Box,{sx:{p:2,borderRadius:2.5},children:[(0,b.jsx)(g.Typography,{variant:"subtitle1",sx:{mb:.5},children:"Response"}),(0,b.jsx)(g.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"The response is where you determine if what’s being generated satisfies your needs."}),(0,b.jsx)(j.Paper,{variant:"outlined",sx:{p:2,minHeight:160,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:D||"—"}),(0,b.jsxs)(d.Box,{sx:{pt:1.5,mt:2,display:"flex",flexWrap:"wrap",gap:1,justifyContent:"flex-end"},children:[(0,b.jsx)(f.TextField,{size:"small",label:"Prompt name",value:x,onChange:a=>y(a.target.value),sx:{width:220}}),(0,b.jsx)(e.Button,{variant:"outlined",onClick:function(){var b;let c,d,e;if(!a?.email)return;let f=x||`Prompt ${new Date().toLocaleString()}`;w([(b={agencyEmail:a.email,clientId:r,name:f,text:t},c=`p-${Math.random().toString(36).slice(2,10)}`,d=Date.now(),m([e={id:c,agencyEmail:b.agencyEmail,clientId:b.clientId,name:b.name,text:b.text,createdAt:d,updatedAt:d}]),e),...v]),y("")},disabled:!a?.email||!t,children:"Save Prompt"}),(0,b.jsx)(e.Button,{variant:"outlined",color:"error",onClick:()=>{B&&(m([].filter(a=>a.id!==B)),w(v.filter(a=>a.id!==B)),B==B&&C(""))},disabled:!B,children:"Delete Prompt"}),(0,b.jsx)(e.Button,{variant:"text",onClick:()=>navigator.clipboard.writeText(D||""),disabled:!D,children:"Copy Response"})]})]})]})}a.s(["default",()=>p],83972)}];

//# sourceMappingURL=_8d4799e5._.js.map