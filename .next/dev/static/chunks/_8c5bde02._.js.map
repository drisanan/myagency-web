{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/aiRecruiter.ts"],"sourcesContent":["'use client';\n\nconst INTRO_URL = '/api/ai/intro';\n\ntype IntroBody = {\n  sport: string;\n  collegeName: string;\n  coachMessage: string;\n  tone: string;\n  qualities: string[];\n  additionalInsights?: string;\n};\n\nexport async function generateIntro(body: IntroBody): Promise<string> {\n  const res = await fetch(INTRO_URL, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    },\n    body: JSON.stringify(body),\n  });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`HTTP ${res.status}: ${text || res.statusText}`);\n  }\n  const data = await res.json();\n  if (data?.error) {\n    throw new Error(data.error);\n  }\n  return String(data.intro ?? '');\n}\n\nexport async function generateContentDraft(_body: unknown): Promise<string> {\n  // Placeholder: will implement once the content endpoint is provided\n  return '';\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAA;AAEA,MAAM,YAAY;AAWX,eAAe,cAAc,IAAe;IACjD,MAAM,MAAM,MAAM,MAAM,WAAW;QACjC,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,UAAU;QACZ;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAC1C,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,QAAQ,IAAI,UAAU,EAAE;IACjE;IACA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI,MAAM,OAAO;QACf,MAAM,IAAI,MAAM,KAAK,KAAK;IAC5B;IACA,OAAO,OAAO,KAAK,KAAK,IAAI;AAC9B;AAEO,eAAe,qBAAqB,KAAc;IACvD,oEAAoE;IACpE,OAAO;AACT"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/agencies.ts"],"sourcesContent":["const STORAGE_KEY = 'agencies_data';\n\nfunction readStore(): Agency[] {\n  if (typeof window === 'undefined') return [];\n  const raw = window.localStorage.getItem(STORAGE_KEY);\n  if (!raw) return [];\n  try {\n    return JSON.parse(raw) as Agency[];\n  } catch {\n    return [];\n  }\n}\n\nfunction writeStore(items: Agency[]) {\n  if (typeof window === 'undefined') return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n\nexport type AgencySettings = {\n  primaryColor?: string;\n  secondaryColor?: string;\n  logoDataUrl?: string;\n};\nexport type Agency = {\n  id: string;\n  name: string;\n  email: string;\n  password?: string;\n  ownerFirstName?: string;\n  ownerLastName?: string;\n  ownerEmail?: string;\n  ownerPhone?: string;\n  active?: boolean;\n  settings?: AgencySettings;\n};\n\nconst SEED_AGENCIES: Agency[] = [\n  { id: 'agency-001', name: 'Prime Sports', email: 'agency1@an.test', settings: { primaryColor: '#1976d2' } },\n  { id: 'agency-002', name: 'NextGen', email: 'agency2@an.test', settings: { primaryColor: '#9c27b0' } },\n  { id: 'agency-003', name: 'Elite Edge', email: 'agency3@an.test', settings: { primaryColor: '#2e7d32' } },\n];\n\nlet AGENCIES: Agency[] = (() => {\n  const fromStore = readStore();\n  if (fromStore.length > 0) return fromStore;\n  writeStore(SEED_AGENCIES);\n  return [...SEED_AGENCIES];\n})();\n\nexport { AGENCIES };\n\nexport async function listAgencies() {\n  return AGENCIES.map(a => ({ id: a.id, name: a.name }));\n}\n\nexport async function getAgencies() {\n  return [...AGENCIES];\n}\n\nexport async function getAgencyByEmail(email: string) {\n  return AGENCIES.find(a => a.email === email) ?? null;\n}\n\nexport async function getAgencyById(id: string) {\n  return AGENCIES.find(a => a.id === id) ?? null;\n}\n\nexport async function getAgencySettings(email: string) {\n  const a = AGENCIES.find(x => x.email === email);\n  return a?.settings ?? {};\n}\n\nexport async function updateAgencySettings(email: string, settings: AgencySettings) {\n  const a = AGENCIES.find(x => x.email === email);\n  if (!a) return { ok: false };\n  a.settings = { ...(a.settings ?? {}), ...settings };\n  writeStore(AGENCIES);\n  return { ok: true, settings: a.settings };\n}\n\ntype UpsertInput = Omit<Agency, 'id'> & { id?: string };\nexport async function upsertAgency(input: UpsertInput) {\n  if (input.id) {\n    const idx = AGENCIES.findIndex(a => a.id === input.id);\n    if (idx >= 0) {\n      AGENCIES[idx] = { ...AGENCIES[idx], ...input, id: input.id };\n      writeStore(AGENCIES);\n      return { id: input.id };\n    }\n  }\n  const id = `agency-${(Math.random() * 1e6).toFixed(0)}`;\n  AGENCIES.push({\n    id,\n    name: input.name,\n    email: input.email,\n    password: input.password,\n    ownerFirstName: input.ownerFirstName,\n    ownerLastName: input.ownerLastName,\n    ownerEmail: input.ownerEmail,\n    ownerPhone: input.ownerPhone,\n    active: input.active ?? true,\n    settings: input.settings ?? {},\n  });\n  writeStore(AGENCIES);\n  return { id };\n}\n\nexport async function deleteAgency(id: string) {\n  const idx = AGENCIES.findIndex(a => a.id === id);\n  if (idx >= 0) {\n    AGENCIES.splice(idx, 1);\n    writeStore(AGENCIES);\n    return { ok: true };\n  }\n  return { ok: false };\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,MAAM,cAAc;AAEpB,SAAS;IACP;;IACA,MAAM,MAAM,OAAO,YAAY,CAAC,OAAO,CAAC;IACxC,IAAI,CAAC,KAAK,OAAO,EAAE;IACnB,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEA,SAAS,WAAW,KAAe;IACjC;;IACA,OAAO,YAAY,CAAC,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;AAC1D;AAoBA,MAAM,gBAA0B;IAC9B;QAAE,IAAI;QAAc,MAAM;QAAgB,OAAO;QAAmB,UAAU;YAAE,cAAc;QAAU;IAAE;IAC1G;QAAE,IAAI;QAAc,MAAM;QAAW,OAAO;QAAmB,UAAU;YAAE,cAAc;QAAU;IAAE;IACrG;QAAE,IAAI;QAAc,MAAM;QAAc,OAAO;QAAmB,UAAU;YAAE,cAAc;QAAU;IAAE;CACzG;AAED,IAAI,WAAqB,CAAC;IACxB,MAAM,YAAY;IAClB,IAAI,UAAU,MAAM,GAAG,GAAG,OAAO;IACjC,WAAW;IACX,OAAO;WAAI;KAAc;AAC3B,CAAC;;AAIM,eAAe;IACpB,OAAO,SAAS,GAAG,CAAC,CAAA,IAAK,CAAC;YAAE,IAAI,EAAE,EAAE;YAAE,MAAM,EAAE,IAAI;QAAC,CAAC;AACtD;AAEO,eAAe;IACpB,OAAO;WAAI;KAAS;AACtB;AAEO,eAAe,iBAAiB,KAAa;IAClD,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,UAAU;AAClD;AAEO,eAAe,cAAc,EAAU;IAC5C,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO;AAC5C;AAEO,eAAe,kBAAkB,KAAa;IACnD,MAAM,IAAI,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK;IACzC,OAAO,GAAG,YAAY,CAAC;AACzB;AAEO,eAAe,qBAAqB,KAAa,EAAE,QAAwB;IAChF,MAAM,IAAI,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK;IACzC,IAAI,CAAC,GAAG,OAAO;QAAE,IAAI;IAAM;IAC3B,EAAE,QAAQ,GAAG;QAAE,GAAI,EAAE,QAAQ,IAAI,CAAC,CAAC;QAAG,GAAG,QAAQ;IAAC;IAClD,WAAW;IACX,OAAO;QAAE,IAAI;QAAM,UAAU,EAAE,QAAQ;IAAC;AAC1C;AAGO,eAAe,aAAa,KAAkB;IACnD,IAAI,MAAM,EAAE,EAAE;QACZ,MAAM,MAAM,SAAS,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,MAAM,EAAE;QACrD,IAAI,OAAO,GAAG;YACZ,QAAQ,CAAC,IAAI,GAAG;gBAAE,GAAG,QAAQ,CAAC,IAAI;gBAAE,GAAG,KAAK;gBAAE,IAAI,MAAM,EAAE;YAAC;YAC3D,WAAW;YACX,OAAO;gBAAE,IAAI,MAAM,EAAE;YAAC;QACxB;IACF;IACA,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,MAAM,KAAK,GAAG,EAAE,OAAO,CAAC,IAAI;IACvD,SAAS,IAAI,CAAC;QACZ;QACA,MAAM,MAAM,IAAI;QAChB,OAAO,MAAM,KAAK;QAClB,UAAU,MAAM,QAAQ;QACxB,gBAAgB,MAAM,cAAc;QACpC,eAAe,MAAM,aAAa;QAClC,YAAY,MAAM,UAAU;QAC5B,YAAY,MAAM,UAAU;QAC5B,QAAQ,MAAM,MAAM,IAAI;QACxB,UAAU,MAAM,QAAQ,IAAI,CAAC;IAC/B;IACA,WAAW;IACX,OAAO;QAAE;IAAG;AACd;AAEO,eAAe,aAAa,EAAU;IAC3C,MAAM,MAAM,SAAS,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAC7C,IAAI,OAAO,GAAG;QACZ,SAAS,MAAM,CAAC,KAAK;QACrB,WAAW;QACX,OAAO;YAAE,IAAI;QAAK;IACpB;IACA,OAAO;QAAE,IAAI;IAAM;AACrB"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/clients.ts"],"sourcesContent":["import { getAgencyById } from '@/services/agencies';\n\ntype Client = {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  sport: string;\n  agencyEmail: string;\n  agencyId?: string;\n  password?: string;\n  radar?: any;\n  gmailTokens?: any;\n  gmailConnected?: boolean;\n};\n\nconst STORAGE_KEY = 'clients_data';\n\nconst SEED_CLIENTS: Client[] = [\n  { id: 'ag1-c1', email: 'a1@athletes.test', firstName: 'Ava', lastName: 'Smith', sport: 'Football', agencyEmail: 'agency1@an.test' },\n  { id: 'ag1-c2', email: 'a2@athletes.test', firstName: 'Ben', lastName: 'Jones', sport: 'Basketball', agencyEmail: 'agency1@an.test' },\n  { id: 'ag2-c1', email: 'b1@athletes.test', firstName: 'Cara', lastName: 'Lee', sport: 'Baseball', agencyEmail: 'agency2@an.test' },\n  { id: 'ag3-c1', email: 'c1@athletes.test', firstName: 'Dan', lastName: 'Kim', sport: 'Soccer', agencyEmail: 'agency3@an.test' },\n];\n\nfunction readStore(): Client[] {\n  if (typeof window === 'undefined') return [...SEED_CLIENTS];\n  const raw = window.localStorage.getItem(STORAGE_KEY);\n  if (!raw) return [...SEED_CLIENTS];\n  try {\n    const parsed = JSON.parse(raw) as Client[];\n    return parsed.length ? parsed : [...SEED_CLIENTS];\n  } catch {\n    return [...SEED_CLIENTS];\n  }\n}\n\nfunction writeStore(items: Client[]) {\n  if (typeof window === 'undefined') return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n\nlet CLIENTS: Client[] = readStore();\n\nexport async function listClientsByAgencyEmail(agencyEmail: string) {\n  if (typeof window !== 'undefined') {\n    CLIENTS = readStore();\n  }\n  return CLIENTS.filter(c => c.agencyEmail === agencyEmail);\n}\n\nexport async function listClientsByAgency(agencyId: string) {\n  const agency = await getAgencyById(agencyId);\n  if (!agency) return [];\n  return listClientsByAgencyEmail(agency.email);\n}\nexport async function upsertClient(input: any) {\n  const id = input.id ?? `c-${(Math.random() * 1e6).toFixed(0)}`;\n  const idx = CLIENTS.findIndex(c => c.id === id);\n  if (typeof window !== 'undefined') {\n    // helpful for e2e debugging\n    // eslint-disable-next-line no-console\n    console.debug('[clients] upsertClient payload', input);\n  }\n  const next: Client = { ...CLIENTS[idx] , ...input, id };\n  if (idx >= 0) {\n    CLIENTS[idx] = next;\n  } else {\n    CLIENTS.push(next);\n  }\n  writeStore(CLIENTS);\n  return next;\n}\nexport async function getClient(id: string) {\n  if (typeof window !== 'undefined') {\n    CLIENTS = readStore();\n  }\n  if (typeof window !== 'undefined') {\n    try {\n      const raw = window.localStorage.getItem(STORAGE_KEY);\n      if (raw) {\n        const list = JSON.parse(raw) as Client[];\n        const hit = list.find((c) => c.id === id);\n        if (hit) {\n          CLIENTS = list;\n          return hit;\n        }\n      }\n    } catch {\n      // ignore\n    }\n  }\n  let found = CLIENTS.find(c => c.id === id);\n  if (!found) {\n    CLIENTS = readStore();\n    found = CLIENTS.find(c => c.id === id);\n  }\n  return found ?? { id, email: 'athlete1@example.com', firstName: 'A1', lastName: 'L1', sport: 'Football', agencyEmail: '' };\n}\nexport async function deleteClient(id: string) {\n  const idx = CLIENTS.findIndex(c => c.id === id);\n  if (idx >= 0) {\n    CLIENTS.splice(idx, 1);\n    writeStore(CLIENTS);\n  }\n  return { ok: true };\n}\nexport async function getClients() {\n  // Determine current session from localStorage to enforce tenancy\n  const raw = typeof window !== 'undefined' ? window.localStorage.getItem('session') : null;\n  if (raw) {\n    try {\n      const s = JSON.parse(raw) as { role: 'parent' | 'agency'; email: string };\n      if (s.role === 'agency') {\n        const list = await listClientsByAgencyEmail(s.email);\n        if (typeof window !== 'undefined') {\n          // eslint-disable-next-line no-console\n          console.debug('[clients] getClients list size', list.length);\n        }\n        return list;\n      }\n    } catch {\n      // fall through\n    }\n  }\n  return [];\n}\n\nexport function setClientGmailTokens(clientId: string, tokens: any) {\n  const idx = CLIENTS.findIndex(c => c.id === clientId);\n  if (idx >= 0) {\n    CLIENTS[idx] = { ...CLIENTS[idx], gmailTokens: tokens, gmailConnected: true };\n    writeStore(CLIENTS);\n  }\n}\n\nexport function getClientGmailTokens(clientId: string): any | null {\n  const found = CLIENTS.find(c => c.id === clientId);\n  return found?.gmailTokens ?? null;\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/recruiterMeta.ts"],"sourcesContent":["export async function getDivisions(): Promise<string[]> {\n  return ['D1', 'D1AA', 'D2', 'D3', 'JUCO', 'NAIA'];\n}\nexport async function getStates(division: string): Promise<Array<{ code: string; name: string }>> {\n  // Return all US states (and DC); division is ignored intentionally\n  return [\n    { code: 'AL', name: 'Alabama' },\n    { code: 'AK', name: 'Alaska' },\n    { code: 'AZ', name: 'Arizona' },\n    { code: 'AR', name: 'Arkansas' },\n    { code: 'CA', name: 'California' },\n    { code: 'CO', name: 'Colorado' },\n    { code: 'CT', name: 'Connecticut' },\n    { code: 'DE', name: 'Delaware' },\n    { code: 'FL', name: 'Florida' },\n    { code: 'GA', name: 'Georgia' },\n    { code: 'HI', name: 'Hawaii' },\n    { code: 'ID', name: 'Idaho' },\n    { code: 'IL', name: 'Illinois' },\n    { code: 'IN', name: 'Indiana' },\n    { code: 'IA', name: 'Iowa' },\n    { code: 'KS', name: 'Kansas' },\n    { code: 'KY', name: 'Kentucky' },\n    { code: 'LA', name: 'Louisiana' },\n    { code: 'ME', name: 'Maine' },\n    { code: 'MD', name: 'Maryland' },\n    { code: 'MA', name: 'Massachusetts' },\n    { code: 'MI', name: 'Michigan' },\n    { code: 'MN', name: 'Minnesota' },\n    { code: 'MS', name: 'Mississippi' },\n    { code: 'MO', name: 'Missouri' },\n    { code: 'MT', name: 'Montana' },\n    { code: 'NE', name: 'Nebraska' },\n    { code: 'NV', name: 'Nevada' },\n    { code: 'NH', name: 'New Hampshire' },\n    { code: 'NJ', name: 'New Jersey' },\n    { code: 'NM', name: 'New Mexico' },\n    { code: 'NY', name: 'New York' },\n    { code: 'NC', name: 'North Carolina' },\n    { code: 'ND', name: 'North Dakota' },\n    { code: 'OH', name: 'Ohio' },\n    { code: 'OK', name: 'Oklahoma' },\n    { code: 'OR', name: 'Oregon' },\n    { code: 'PA', name: 'Pennsylvania' },\n    { code: 'RI', name: 'Rhode Island' },\n    { code: 'SC', name: 'South Carolina' },\n    { code: 'SD', name: 'South Dakota' },\n    { code: 'TN', name: 'Tennessee' },\n    { code: 'TX', name: 'Texas' },\n    { code: 'UT', name: 'Utah' },\n    { code: 'VT', name: 'Vermont' },\n    { code: 'VA', name: 'Virginia' },\n    { code: 'WA', name: 'Washington' },\n    { code: 'WV', name: 'West Virginia' },\n    { code: 'WI', name: 'Wisconsin' },\n    { code: 'WY', name: 'Wyoming' },\n    { code: 'DC', name: 'District of Columbia' },\n  ];\n}\nexport async function getUniversities(input: { division: string; state: string }): Promise<Array<{ id: string; name: string }>> {\n  return [\n    { id: 'uni-1', name: 'Sample University' },\n    { id: 'uni-2', name: 'Example College' },\n  ];\n}\nexport async function getUniversity(id: string): Promise<{\n  id: string;\n  name: string;\n  city: string;\n  state: string;\n  division: string;\n  conference?: string;\n  privatePublic?: string;\n  coaches: Array<{ id: string; firstName: string; lastName: string; title: string; email?: string; twitter?: string; instagram?: string }>;\n}> {\n  return {\n    id,\n    name: id === 'uni-2' ? 'Example College' : 'Sample University',\n    city: 'Somewhere',\n    state: 'CA',\n    division: 'D1',\n    conference: 'West',\n    privatePublic: 'Public',\n    coaches: [\n      { id: 'c1', firstName: 'Alex', lastName: 'Mason', title: 'Head Coach', email: 'alex.mason@school.edu', twitter: 'https://x.com/coachmason' },\n      { id: 'c2', firstName: 'Blake', lastName: 'Reed', title: 'Assistant Coach', email: 'blake.reed@school.edu' },\n    ],\n  };\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;AAAO,eAAe;IACpB,OAAO;QAAC;QAAM;QAAQ;QAAM;QAAM;QAAQ;KAAO;AACnD;AACO,eAAe,UAAU,QAAgB;IAC9C,mEAAmE;IACnE,OAAO;QACL;YAAE,MAAM;YAAM,MAAM;QAAU;QAC9B;YAAE,MAAM;YAAM,MAAM;QAAS;QAC7B;YAAE,MAAM;YAAM,MAAM;QAAU;QAC9B;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAa;QACjC;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAc;QAClC;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAU;QAC9B;YAAE,MAAM;YAAM,MAAM;QAAU;QAC9B;YAAE,MAAM;YAAM,MAAM;QAAS;QAC7B;YAAE,MAAM;YAAM,MAAM;QAAQ;QAC5B;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAU;QAC9B;YAAE,MAAM;YAAM,MAAM;QAAO;QAC3B;YAAE,MAAM;YAAM,MAAM;QAAS;QAC7B;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAY;QAChC;YAAE,MAAM;YAAM,MAAM;QAAQ;QAC5B;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAgB;QACpC;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAY;QAChC;YAAE,MAAM;YAAM,MAAM;QAAc;QAClC;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAU;QAC9B;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAS;QAC7B;YAAE,MAAM;YAAM,MAAM;QAAgB;QACpC;YAAE,MAAM;YAAM,MAAM;QAAa;QACjC;YAAE,MAAM;YAAM,MAAM;QAAa;QACjC;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAiB;QACrC;YAAE,MAAM;YAAM,MAAM;QAAe;QACnC;YAAE,MAAM;YAAM,MAAM;QAAO;QAC3B;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAS;QAC7B;YAAE,MAAM;YAAM,MAAM;QAAe;QACnC;YAAE,MAAM;YAAM,MAAM;QAAe;QACnC;YAAE,MAAM;YAAM,MAAM;QAAiB;QACrC;YAAE,MAAM;YAAM,MAAM;QAAe;QACnC;YAAE,MAAM;YAAM,MAAM;QAAY;QAChC;YAAE,MAAM;YAAM,MAAM;QAAQ;QAC5B;YAAE,MAAM;YAAM,MAAM;QAAO;QAC3B;YAAE,MAAM;YAAM,MAAM;QAAU;QAC9B;YAAE,MAAM;YAAM,MAAM;QAAW;QAC/B;YAAE,MAAM;YAAM,MAAM;QAAa;QACjC;YAAE,MAAM;YAAM,MAAM;QAAgB;QACpC;YAAE,MAAM;YAAM,MAAM;QAAY;QAChC;YAAE,MAAM;YAAM,MAAM;QAAU;QAC9B;YAAE,MAAM;YAAM,MAAM;QAAuB;KAC5C;AACH;AACO,eAAe,gBAAgB,KAA0C;IAC9E,OAAO;QACL;YAAE,IAAI;YAAS,MAAM;QAAoB;QACzC;YAAE,IAAI;YAAS,MAAM;QAAkB;KACxC;AACH;AACO,eAAe,cAAc,EAAU;IAU5C,OAAO;QACL;QACA,MAAM,OAAO,UAAU,oBAAoB;QAC3C,MAAM;QACN,OAAO;QACP,UAAU;QACV,YAAY;QACZ,eAAe;QACf,SAAS;YACP;gBAAE,IAAI;gBAAM,WAAW;gBAAQ,UAAU;gBAAS,OAAO;gBAAc,OAAO;gBAAyB,SAAS;YAA2B;YAC3I;gBAAE,IAAI;gBAAM,WAAW;gBAAS,UAAU;gBAAQ,OAAO;gBAAmB,OAAO;YAAwB;SAC5G;IACH;AACF"}},
    {"offset": {"line": 675, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/recruiter.ts"],"sourcesContent":["'use client';\n// Real Lambda-backed recruiter service for universities list and details\nconst BASE_URL = 'https://c3gognktxzx6xqlrdfb6bxvxsu0ojalg.lambda-url.us-west-2.on.aws';\n\nexport const DIVISION_API_MAPPING: Record<string, string> = {\n  D1: 'division-1',\n  D1AA: 'division-1aa',\n  D2: 'division-2',\n  D3: 'division-3',\n  JUCO: 'division-juco',\n  NAIA: 'division-naia',\n};\n\nconst DIVISION_SLUG_TO_LABEL: Record<string, string> = {\n  'division-1': 'D1',\n  'division-1aa': 'D1AA',\n  'division-2': 'D2',\n  'division-3': 'D3',\n  'division-juco': 'JUCO',\n  'division-naia': 'NAIA',\n};\n\nfunction toName(item: any): string {\n  return item?.name ?? item?.School ?? item?.school ?? '';\n}\n\nexport async function listUniversities(params: { sport: string; division: string; state: string }): Promise<Array<{ name: string }>> {\n  const qs = new URLSearchParams({\n    sport: params.sport,\n    division: params.division,\n    state: params.state,\n  });\n  const url = `${BASE_URL}?${qs.toString()}`;\n  // eslint-disable-next-line no-console\n  console.log('[Recruiter:listUniversities] GET', url);\n  const res = await fetch(url, { cache: 'no-store' });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    // eslint-disable-next-line no-console\n    console.error('[Recruiter:listUniversities] HTTP error', res.status, text);\n    throw new Error(`HTTP ${res.status}: ${text || res.statusText}`);\n  }\n  const data = await res.json();\n  return (Array.isArray(data) ? data : []).map((u: any) => ({ name: toName(u) })).filter((u: any) => u.name);\n}\n\nexport type Coach = {\n  id: string;\n  firstName: string;\n  lastName: string;\n  title: string;\n  email?: string;\n  twitter?: string;\n  instagram?: string;\n};\n\nexport type University = {\n  id?: string;\n  name: string;\n  city: string;\n  state: string;\n  division: string;\n  conference?: string;\n  privatePublic?: string;\n  coaches: Coach[];\n  // raw school info payload from Lambda for richer rendering\n  schoolInfo?: Record<string, any>;\n};\n\nexport async function getUniversityDetails(params: { sport: string; division: string; state: string; school: string }): Promise<University> {\n  const qs = new URLSearchParams({\n    sport: params.sport,\n    division: params.division,\n    state: params.state,\n    school: params.school,\n  });\n  const url = `${BASE_URL}?${qs.toString()}`;\n  // eslint-disable-next-line no-console\n  console.log('[Recruiter:getUniversityDetails] GET', url);\n  const res = await fetch(url, { cache: 'no-store' });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    // eslint-disable-next-line no-console\n    console.error('[Recruiter:getUniversityDetails] HTTP error', res.status, text);\n    throw new Error(`HTTP ${res.status}: ${text || res.statusText}`);\n  }\n  const raw = await res.json();\n  const obj = Array.isArray(raw) ? (raw[0] ?? {}) : raw;\n\n  const coachesRaw = obj.coaches ?? obj.Coaches ?? [];\n  const coaches = (Array.isArray(coachesRaw) ? coachesRaw : []).map((c: any, i: number) => {\n    const firstName = c.firstName ?? c.FirstName ?? '';\n    const lastName = c.lastName ?? c.LastName ?? '';\n    const title = c.title ?? c.Title ?? c.Position ?? '';\n    const email = c.email ?? c.Email ?? '';\n    const baseId = String(c.id ?? c.Id ?? email ?? '').trim();\n    const synthetic = [firstName, lastName, title, email].filter(Boolean).join('|');\n    const id = (baseId ? `${baseId}|` : '') + `${synthetic}|${i}`;\n    return {\n      id,\n      firstName,\n      lastName,\n      title,\n      email: email || undefined,\n      twitter: c.twitter ?? c.Twitter,\n      instagram: c.instagram ?? c.Instagram,\n    };\n  });\n\n  const cityCandidate = (() => {\n    const direct =\n      obj.city ?? obj.City ?? obj.cityName ?? obj.CityName;\n    if (direct) return direct as string;\n    if (typeof obj.Location === 'string' && obj.Location.includes(',')) {\n      return obj.Location.split(',')[0].trim();\n    }\n    return '';\n  })();\n\n  const divisionRaw =\n    obj.division ?? obj.Division ?? obj.divisionName ?? obj.DivisionName ?? obj.NcaaDivision ?? obj.NCAADivision ?? '';\n  const divisionResolved =\n    divisionRaw ||\n    DIVISION_SLUG_TO_LABEL[(params.division || '').toLowerCase()] ||\n    params.division;\n\n  return {\n    id: obj.id ?? obj.Id,\n    name: obj.name ?? obj.Name ?? obj.school ?? obj.School ?? params.school,\n    city: cityCandidate,\n    state: obj.state ?? obj.State ?? params.state,\n    division: divisionResolved,\n    conference: obj.conference ?? obj.Conference,\n    privatePublic: obj.privatePublic ?? obj.PrivatePublic,\n    coaches,\n    schoolInfo: obj.schoolInfo ?? obj,\n  };\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/templates.ts"],"sourcesContent":["'use client';\n\nexport type EmailTemplate = {\n  id: string;\n  agencyEmail: string;\n  clientId?: string | null;\n  name: string;\n  html: string; // uses placeholders like {{StudentFullName}}, {{UniversityName}}, etc.\n  enabledSections?: Record<string, boolean>;\n  createdAt: number;\n};\n\nconst KEY = 'email_templates_v1';\n\nfunction loadAll(): EmailTemplate[] {\n  try {\n    const raw = localStorage.getItem(KEY);\n    return raw ? (JSON.parse(raw) as EmailTemplate[]) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveAll(list: EmailTemplate[]) {\n  localStorage.setItem(KEY, JSON.stringify(list));\n}\n\nfunction uid() {\n  return Math.random().toString(36).slice(2) + Date.now().toString(36);\n}\n\nexport function listTemplates(input: { agencyEmail: string; clientId?: string | null }): EmailTemplate[] {\n  const all = loadAll();\n  return all\n    .filter(t => t.agencyEmail === input.agencyEmail && (input.clientId ? t.clientId === input.clientId : true))\n    .sort((a, b) => b.createdAt - a.createdAt);\n}\n\nexport function saveTemplate(input: Omit<EmailTemplate, 'id' | 'createdAt'>): EmailTemplate {\n  const all = loadAll();\n  const rec: EmailTemplate = { ...input, id: uid(), createdAt: Date.now() };\n  saveAll([rec, ...all]);\n  return rec;\n}\n\nexport function getTemplate(id: string): EmailTemplate | undefined {\n  return loadAll().find(t => t.id === id);\n}\n\nfunction escapeRegExp(s: string) {\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\n// Replace actual values with placeholders for saving as template\nexport function toTemplateHtml(\n  html: string,\n  ctx: {\n    studentFirstName: string;\n    studentLastName: string;\n    studentFullName: string;\n    universityName: string;\n    primaryCoachLastName?: string;\n    coachList?: string;\n  }\n) {\n  let out = String(html);\n  // Replace longer tokens first to avoid partial overlaps\n  const replacements: Record<string, string> = {\n    [ctx.studentFullName]: '{{StudentFullName}}',\n    [ctx.studentFirstName]: '{{StudentFirstName}}',\n    [ctx.studentLastName]: '{{StudentLastName}}',\n    [ctx.universityName]: '{{UniversityName}}',\n  };\n  if (ctx.primaryCoachLastName) {\n    replacements[ctx.primaryCoachLastName] = '{{PrimaryCoachLastName}}';\n  }\n  if (ctx.coachList) {\n    replacements[ctx.coachList] = '{{CoachList}}';\n  }\n  for (const [from, to] of Object.entries(replacements)) {\n    if (from && from.trim().length) {\n      const re = new RegExp(escapeRegExp(from), 'g');\n      out = out.replace(re, to);\n    }\n  }\n  return out;\n}\n\n// Apply placeholders to current context when loading a template\nexport function applyTemplate(\n  html: string,\n  ctx: {\n    studentFirstName: string;\n    studentLastName: string;\n    studentFullName: string;\n    universityName: string;\n    primaryCoachLastName?: string;\n    coachList?: string;\n  }\n) {\n  let out = String(html);\n  const map: Record<string, string> = {\n    '{{StudentFirstName}}': ctx.studentFirstName || '',\n    '{{StudentLastName}}': ctx.studentLastName || '',\n    '{{StudentFullName}}': ctx.studentFullName || '',\n    '{{UniversityName}}': ctx.universityName || '',\n    '{{PrimaryCoachLastName}}': ctx.primaryCoachLastName || '',\n    '{{CoachList}}': ctx.coachList || '',\n  };\n  for (const [k, v] of Object.entries(map)) {\n    const re = new RegExp(escapeRegExp(k), 'g');\n    out = out.replace(re, v);\n  }\n  return out;\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAYA,MAAM,MAAM;AAEZ,SAAS;IACP,IAAI;QACF,MAAM,MAAM,aAAa,OAAO,CAAC;QACjC,OAAO,MAAO,KAAK,KAAK,CAAC,OAA2B,EAAE;IACxD,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEA,SAAS,QAAQ,IAAqB;IACpC,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;AAC3C;AAEA,SAAS;IACP,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,KAAK,KAAK,GAAG,GAAG,QAAQ,CAAC;AACnE;AAEO,SAAS,cAAc,KAAwD;IACpF,MAAM,MAAM;IACZ,OAAO,IACJ,MAAM,CAAC,CAAA,IAAK,EAAE,WAAW,KAAK,MAAM,WAAW,IAAI,CAAC,MAAM,QAAQ,GAAG,EAAE,QAAQ,KAAK,MAAM,QAAQ,GAAG,IAAI,GACzG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;AAC7C;AAEO,SAAS,aAAa,KAA8C;IACzE,MAAM,MAAM;IACZ,MAAM,MAAqB;QAAE,GAAG,KAAK;QAAE,IAAI;QAAO,WAAW,KAAK,GAAG;IAAG;IACxE,QAAQ;QAAC;WAAQ;KAAI;IACrB,OAAO;AACT;AAEO,SAAS,YAAY,EAAU;IACpC,OAAO,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;AACtC;AAEA,SAAS,aAAa,CAAS;IAC7B,OAAO,EAAE,OAAO,CAAC,uBAAuB;AAC1C;AAGO,SAAS,eACd,IAAY,EACZ,GAOC;IAED,IAAI,MAAM,OAAO;IACjB,wDAAwD;IACxD,MAAM,eAAuC;QAC3C,CAAC,IAAI,eAAe,CAAC,EAAE;QACvB,CAAC,IAAI,gBAAgB,CAAC,EAAE;QACxB,CAAC,IAAI,eAAe,CAAC,EAAE;QACvB,CAAC,IAAI,cAAc,CAAC,EAAE;IACxB;IACA,IAAI,IAAI,oBAAoB,EAAE;QAC5B,YAAY,CAAC,IAAI,oBAAoB,CAAC,GAAG;IAC3C;IACA,IAAI,IAAI,SAAS,EAAE;QACjB,YAAY,CAAC,IAAI,SAAS,CAAC,GAAG;IAChC;IACA,KAAK,MAAM,CAAC,MAAM,GAAG,IAAI,OAAO,OAAO,CAAC,cAAe;QACrD,IAAI,QAAQ,KAAK,IAAI,GAAG,MAAM,EAAE;YAC9B,MAAM,KAAK,IAAI,OAAO,aAAa,OAAO;YAC1C,MAAM,IAAI,OAAO,CAAC,IAAI;QACxB;IACF;IACA,OAAO;AACT;AAGO,SAAS,cACd,IAAY,EACZ,GAOC;IAED,IAAI,MAAM,OAAO;IACjB,MAAM,MAA8B;QAClC,wBAAwB,IAAI,gBAAgB,IAAI;QAChD,uBAAuB,IAAI,eAAe,IAAI;QAC9C,uBAAuB,IAAI,eAAe,IAAI;QAC9C,sBAAsB,IAAI,cAAc,IAAI;QAC5C,4BAA4B,IAAI,oBAAoB,IAAI;QACxD,iBAAiB,IAAI,SAAS,IAAI;IACpC;IACA,KAAK,MAAM,CAAC,GAAG,EAAE,IAAI,OAAO,OAAO,CAAC,KAAM;QACxC,MAAM,KAAK,IAAI,OAAO,aAAa,IAAI;QACvC,MAAM,IAAI,OAAO,CAAC,IAAI;IACxB;IACA,OAAO;AACT"}},
    {"offset": {"line": 899, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/lists.ts"],"sourcesContent":["const STORAGE_KEY = 'coach_lists_v1';\n\nexport type CoachEntry = {\n  id?: string;\n  firstName?: string;\n  lastName?: string;\n  email: string;\n  title?: string;\n  school: string;\n  division: string;\n  state: string;\n};\n\nexport type CoachList = {\n  id: string;\n  agencyEmail: string;\n  name: string;\n  items: CoachEntry[];\n  createdAt: number;\n  updatedAt: number;\n};\n\nfunction read(): CoachList[] {\n  if (typeof window === 'undefined') return [];\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    return raw ? (JSON.parse(raw) as CoachList[]) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction write(items: CoachList[]) {\n  if (typeof window === 'undefined') return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n\nexport function listLists(agencyEmail: string): CoachList[] {\n  const all = read();\n  return all\n    .filter(l => l.agencyEmail === agencyEmail)\n    .sort((a, b) => b.updatedAt - a.updatedAt);\n}\n\nexport function getList(id: string): CoachList | null {\n  const all = read();\n  return all.find(l => l.id === id) ?? null;\n}\n\nexport function saveList(input: { agencyEmail: string; name: string; items: CoachEntry[] }): CoachList {\n  const all = read();\n  const id = `list-${Math.random().toString(36).slice(2, 10)}`;\n  const now = Date.now();\n  const rec: CoachList = { id, agencyEmail: input.agencyEmail, name: input.name, items: input.items, createdAt: now, updatedAt: now };\n  write([rec, ...all]);\n  return rec;\n}\n\nexport function updateList(input: { id: string; name: string; items: CoachEntry[] }): CoachList | null {\n  const all = read();\n  const idx = all.findIndex(l => l.id === input.id);\n  if (idx < 0) return null;\n  const now = Date.now();\n  const next = { ...all[idx], name: input.name, items: input.items, updatedAt: now };\n  all[idx] = next;\n  write(all);\n  return next;\n}\n\nexport function deleteList(id: string) {\n  const all = read();\n  write(all.filter(l => l.id !== id));\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,MAAM,cAAc;AAsBpB,SAAS;IACP;;IACA,IAAI;QACF,MAAM,MAAM,OAAO,YAAY,CAAC,OAAO,CAAC;QACxC,OAAO,MAAO,KAAK,KAAK,CAAC,OAAuB,EAAE;IACpD,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEA,SAAS,MAAM,KAAkB;IAC/B;;IACA,OAAO,YAAY,CAAC,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;AAC1D;AAEO,SAAS,UAAU,WAAmB;IAC3C,MAAM,MAAM;IACZ,OAAO,IACJ,MAAM,CAAC,CAAA,IAAK,EAAE,WAAW,KAAK,aAC9B,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;AAC7C;AAEO,SAAS,QAAQ,EAAU;IAChC,MAAM,MAAM;IACZ,OAAO,IAAI,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO;AACvC;AAEO,SAAS,SAAS,KAAiE;IACxF,MAAM,MAAM;IACZ,MAAM,KAAK,CAAC,KAAK,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,GAAG,KAAK;IAC5D,MAAM,MAAM,KAAK,GAAG;IACpB,MAAM,MAAiB;QAAE;QAAI,aAAa,MAAM,WAAW;QAAE,MAAM,MAAM,IAAI;QAAE,OAAO,MAAM,KAAK;QAAE,WAAW;QAAK,WAAW;IAAI;IAClI,MAAM;QAAC;WAAQ;KAAI;IACnB,OAAO;AACT;AAEO,SAAS,WAAW,KAAwD;IACjF,MAAM,MAAM;IACZ,MAAM,MAAM,IAAI,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,MAAM,EAAE;IAChD,IAAI,MAAM,GAAG,OAAO;IACpB,MAAM,MAAM,KAAK,GAAG;IACpB,MAAM,OAAO;QAAE,GAAG,GAAG,CAAC,IAAI;QAAE,MAAM,MAAM,IAAI;QAAE,OAAO,MAAM,KAAK;QAAE,WAAW;IAAI;IACjF,GAAG,CAAC,IAAI,GAAG;IACX,MAAM;IACN,OAAO;AACT;AAEO,SAAS,WAAW,EAAU;IACnC,MAAM,MAAM;IACZ,MAAM,IAAI,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;AACjC"}},
    {"offset": {"line": 979, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/mailStatus.ts"],"sourcesContent":["const STORAGE_KEY = 'mail_log_v1';\n\ntype MailEntry = { clientId: string; email: string; mailedAt: number };\n\nfunction read(): MailEntry[] {\n  if (typeof window === 'undefined') return [];\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    return raw ? (JSON.parse(raw) as MailEntry[]) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction write(items: MailEntry[]) {\n  if (typeof window === 'undefined') return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n\nexport function hasMailed(clientId: string, email: string): boolean {\n  const all = read();\n  return all.some((e) => e.clientId === clientId && e.email === email);\n}\n\nexport function markMailed(clientId: string, emails: string[]) {\n  const now = Date.now();\n  const all = read();\n  const next = [...all];\n  emails.forEach((e) => {\n    const email = (e || '').trim();\n    if (!email) return;\n    if (!next.some((x) => x.clientId === clientId && x.email === email)) {\n      next.push({ clientId, email, mailedAt: now });\n    }\n  });\n  write(next);\n}\n\nexport function getMailEntries() {\n  return read();\n}\n\n\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,cAAc;AAIpB,SAAS;IACP;;IACA,IAAI;QACF,MAAM,MAAM,OAAO,YAAY,CAAC,OAAO,CAAC;QACxC,OAAO,MAAO,KAAK,KAAK,CAAC,OAAuB,EAAE;IACpD,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEA,SAAS,MAAM,KAAkB;IAC/B;;IACA,OAAO,YAAY,CAAC,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;AAC1D;AAEO,SAAS,UAAU,QAAgB,EAAE,KAAa;IACvD,MAAM,MAAM;IACZ,OAAO,IAAI,IAAI,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK,YAAY,EAAE,KAAK,KAAK;AAChE;AAEO,SAAS,WAAW,QAAgB,EAAE,MAAgB;IAC3D,MAAM,MAAM,KAAK,GAAG;IACpB,MAAM,MAAM;IACZ,MAAM,OAAO;WAAI;KAAI;IACrB,OAAO,OAAO,CAAC,CAAC;QACd,MAAM,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI;QAC5B,IAAI,CAAC,OAAO;QACZ,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK,YAAY,EAAE,KAAK,KAAK,QAAQ;YACnE,KAAK,IAAI,CAAC;gBAAE;gBAAU;gBAAO,UAAU;YAAI;QAC7C;IACF;IACA,MAAM;AACR;AAEO,SAAS;IACd,OAAO;AACT"}},
    {"offset": {"line": 1036, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/recruiter/RecruiterWizard.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { Box, Button, Step, StepLabel, Stepper, TextField, Typography, Card, CardContent, Checkbox, FormControlLabel, MenuItem, Stack, Accordion, AccordionSummary, AccordionDetails, Switch } from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { generateIntro } from '@/services/aiRecruiter';\nimport { useSession } from '@/features/auth/session';\nimport { listClientsByAgencyEmail, setClientGmailTokens, getClientGmailTokens } from '@/services/clients';\nimport { getDivisions, getStates } from '@/services/recruiterMeta';\nimport { listUniversities, getUniversityDetails, DIVISION_API_MAPPING } from '@/services/recruiter';\nimport { EmailTemplate, listTemplates, saveTemplate, toTemplateHtml, applyTemplate } from '@/services/templates';\nimport { listLists, CoachList } from '@/services/lists';\nimport { hasMailed, markMailed } from '@/services/mailStatus';\n\ntype ClientRow = { id: string; email: string; firstName?: string; lastName?: string; sport?: string };\n\nexport function RecruiterWizard() {\n  const { session } = useSession();\n  const [activeStep, setActiveStep] = React.useState(0);\n\n  // Step 1 - client selection\n  const [clients, setClients] = React.useState<ClientRow[]>([]);\n  const [clientId, setClientId] = React.useState<string>('');\n\n  // Step 2 - division/state/schools\n  const [divisions, setDivisions] = React.useState<string[]>([]);\n  const [division, setDivision] = React.useState<string>('');\n  const [states, setStates] = React.useState<Array<{ code: string; name: string }>>([]);\n  const [state, setState] = React.useState<string>('');\n  const [schools, setSchools] = React.useState<Array<{ name: string }>>([]);\n  const [lists, setLists] = React.useState<CoachList[]>([]);\n  const [selectedListId, setSelectedListId] = React.useState<string>('');\n  const [selectedList, setSelectedList] = React.useState<CoachList | null>(null);\n  const [listMode, setListMode] = React.useState(false);\n\n  // Step 3 - school details and coach selection\n  const [selectedSchoolName, setSelectedSchoolName] = React.useState<string>('');\n  const [schoolDetails, setSchoolDetails] = React.useState<any>(null);\n  const [selectedCoachIds, setSelectedCoachIds] = React.useState<Record<string, boolean>>({});\n\n  // Draft\n  const [draft, setDraft] = React.useState<string>('');\n  const [error, setError] = React.useState<string | null>(null);\n\n  // Step 4 - sections and granular selections for email building\n  const [enabledSections, setEnabledSections] = React.useState<Record<string, boolean>>({\n    accomplishments: true,\n    motivation: true,\n    academic: true,\n    athletic: true,\n    highlights: true,\n    contact: true,\n    coach: true,\n    references: true,\n    profilePicture: false,\n    radarPage: true,\n  });\n  const [selectedFields, setSelectedFields] = React.useState<Record<string, Record<string, boolean>>>({});\n  const [templates, setTemplates] = React.useState<EmailTemplate[]>([]);\n  const [templateName, setTemplateName] = React.useState('');\n  const [selectedTemplateId, setSelectedTemplateId] = React.useState<string>('');\n  const [gmailConnecting, setGmailConnecting] = React.useState(false);\n  const [gmailConnected, setGmailConnected] = React.useState(false);\n  const popupRef = React.useRef<Window | null>(null);\n  const lastConnectedClientIdRef = React.useRef<string>('');\n\n  const currentClient = React.useMemo(() => clients.find(c => c.id === clientId) || null, [clients, clientId]);\n  const contact = React.useMemo(() => {\n    const radar = (currentClient as any)?.radar ?? {};\n    return {\n      email: currentClient?.email ?? '',\n      phone: (currentClient as any)?.phone ?? '',\n      firstName: currentClient?.firstName ?? '',\n      lastName: currentClient?.lastName ?? '',\n      school: radar.school ?? '',\n      accomplishments: radar.accomplishments ?? [],\n      motivationalQuotes: radar.motivationalQuotes ?? (radar.athleteAdvice ? [radar.athleteAdvice] : []),\n      gpa: radar.gpa ?? '',\n      preferredAreaOfStudy: radar.preferredAreaOfStudy ?? '',\n      athleteMetricsTitleOne: radar.athleteMetricsTitleOne ?? '',\n      athleteMetricsValueOne: radar.athleteMetricsValueOne ?? '',\n      athleteMetricsTitleTwo: radar.athleteMetricsTitleTwo ?? '',\n      athleteMetricsValueTwo: radar.athleteMetricsValueTwo ?? '',\n      athleteMetricsTitleThree: radar.athleteMetricsTitleThree ?? '',\n      athleteMetricsValueThree: radar.athleteMetricsValueThree ?? '',\n      athleteMetricsTitleFour: radar.athleteMetricsTitleFour ?? '',\n      athleteMetricsValueFour: radar.athleteMetricsValueFour ?? '',\n      youtubeHighlightUrl: radar.youtubeHighlightUrl ?? '',\n      hudlLink: radar.hudlLink ?? '',\n      instagramProfileUrl: radar.instagramProfileUrl ?? '',\n      newsArticleLinks: radar.newsArticleLinks ?? [],\n      headCoachName: radar.headCoachName ?? '',\n      headCoachEmail: radar.headCoachEmail ?? '',\n      headCoachPhone: radar.headCoachPhone ?? '',\n      referenceOneName: radar.referenceOneName ?? '',\n      referenceOneEmail: radar.referenceOneEmail ?? '',\n      referenceOnePhone: radar.referenceOnePhone ?? '',\n      referenceTwoName: radar.referenceTwoName ?? '',\n      referenceTwoEmail: radar.referenceTwoEmail ?? '',\n      referenceTwoPhone: radar.referenceTwoPhone ?? '',\n      profileImage: radar.profileImage ?? '',\n    };\n  }, [currentClient]);\n  const selectedCoaches = React.useMemo(() => {\n    const map = selectedCoachIds || {};\n    if (listMode && selectedList) {\n      const items = selectedList.items || [];\n      return items\n        .map((it, idx) => {\n          const id = String(\n            it.id || `List::${(it.school || '')}::${it.email || ''}::${(it.firstName || '')}-${(it.lastName || '')}::${it.title || ''}::${idx}`\n          );\n        \n          return { id, firstName: it.firstName || '', lastName: it.lastName || '', email: it.email || '', title: it.title || '' } as any;\n        })\n        .filter((c: any) => map[c.id]);\n    }\n    const all = (schoolDetails?.coaches ?? []) as any[];\n    return all.filter((c) => map[c.id]);\n  }, [selectedCoachIds, schoolDetails, listMode, selectedList]);\n  const universityName = schoolDetails?.schoolInfo?.School || schoolDetails?.name || '';\n\n  function toggleSection(k: string, v: boolean) {\n    setEnabledSections((p) => ({ ...p, [k]: v }));\n  }\n  function setField(section: string, fieldKey: string, checked: boolean) {\n    setSelectedFields((p) => ({ ...p, [section]: { ...(p[section] ?? {}), [fieldKey]: checked } }));\n  }\n  function buildEmailPreview(): string {\n    const coachName = selectedCoaches[0]?.lastName || selectedCoaches[0]?.LastName || 'Coach';\n    const enabledIds = Object.keys(enabledSections).filter((k) => enabledSections[k]);\n    let emailContent = '';\n    const generatedIntro = `${contact.firstName || ''} ${contact.lastName || ''} - ${contact.school || ''}`.trim();\n    emailContent += `<p>Hello Coach ${coachName || ''},</p><p>${generatedIntro}</p>`;\n    if (enabledIds.includes('accomplishments')) {\n      const valid = (contact.accomplishments || []).filter((item: string) => item && item.trim() !== '' && item !== 'undefined' && item !== 'null');\n      if (valid.length) {\n        emailContent += `<p><strong>Accomplishments:</strong></p><ul>${valid.map((item: string, i: number) => {\n          const prefix = valid.length > 1 ? `${i + 1}. ` : '';\n          return `<li>${prefix}${item.trim()}</li>`;\n        }).join('')}</ul>\\n\\n`;\n      }\n    }\n    if (enabledIds.includes('motivation') && (contact as any).motivationalQuotes?.[0]) {\n      const first = (contact as any).motivationalQuotes[0];\n      emailContent += `<p><strong>Why I'm Ready For The Next Level:</strong></p><p>\"${first}\"</p>\\n\\n`;\n    }\n    if (enabledIds.includes('academic') && (contact.gpa || (contact as any).preferredAreaOfStudy)) {\n      emailContent += `<p><strong>Academic Information:</strong></p><ul>${[\n        contact.gpa ? `<li>GPA: ${contact.gpa}</li>` : '',\n        (contact as any).preferredAreaOfStudy ? `<li>Preferred Area of Study: ${(contact as any).preferredAreaOfStudy}</li>` : ''\n      ].filter(Boolean).join('')}</ul>\\n`;\n    }\n    if (enabledIds.includes('athletic')) {\n      const metrics = [\n        { title: contact.athleteMetricsTitleOne, value: contact.athleteMetricsValueOne },\n        { title: contact.athleteMetricsTitleTwo, value: contact.athleteMetricsValueTwo },\n        { title: contact.athleteMetricsTitleThree, value: contact.athleteMetricsValueThree },\n        { title: contact.athleteMetricsTitleFour, value: contact.athleteMetricsValueFour },\n      ].filter(m => m.title && m.value);\n      if (metrics.length) {\n        emailContent += `<p><strong>Athletic Metrics:</strong></p><ul>${metrics.map((m, i) => {\n          const prefix = metrics.length > 1 ? `${i + 1}. ` : '';\n          return `<li>${prefix}${m.title}: ${m.value}</li>`;\n        }).join('')}</ul>\\n`;\n      } else {\n        emailContent += `<p><strong>Athletic Metrics:</strong></p><p>No athletic metrics available.</p>\\n`;\n      }\n    }\n    if (enabledIds.includes('highlights')) {\n      const highlights = [\n        contact.youtubeHighlightUrl ? { type: 'YouTube Highlight', url: `https://www.youtube.com/watch?v=${contact.youtubeHighlightUrl}` } : null,\n        contact.hudlLink ? { type: 'Hudl Profile', url: `https://www.hudl.com/profile/${contact.hudlLink}` } : null,\n        contact.instagramProfileUrl ? { type: 'Instagram', url: `https://www.instagram.com/${contact.instagramProfileUrl}` } : null,\n        ...(((contact as any).newsArticleLinks || []).map((url: string) => ({ type: 'Article', url })) || [])\n      ].filter(Boolean) as Array<{ type: string; url: string }>;\n      if (highlights.length) {\n        emailContent += `<p><strong>View My Highlights:</strong></p><ul>${highlights.map((h, i) => {\n          const prefix = highlights.length > 1 ? `${i + 1}. ` : '';\n          return `<li>${prefix}<a href=\"${h.url}\" target=\"_blank\">${h.type}</a></li>`;\n        }).join('')}</ul>\\n`;\n      } else {\n        emailContent += `<p><strong>View My Highlights:</strong></p><p>No highlights available.</p>\\n`;\n      }\n    }\n    if (enabledIds.includes('contact') && (contact.email || contact.phone)) {\n      emailContent += `<p><strong>Contact Info:</strong></p><ul>${[\n        contact.email ? `<li>Email: <a href=\"mailto:${contact.email}\">${contact.email}</a></li>` : '',\n        contact.phone ? `<li>Phone: <a href=\"tel:${contact.phone}\">${contact.phone}</a></li>` : ''\n      ].filter(Boolean).join('')}</ul>\\n`;\n    }\n    if (enabledIds.includes('coach') && ((contact as any).headCoachName || (contact as any).headCoachEmail || (contact as any).headCoachPhone)) {\n      emailContent += `<p><strong>Head Coach Info:</strong></p><ul>${[\n        (contact as any).headCoachName ? `<li>Name: ${(contact as any).headCoachName}</li>` : '',\n        (contact as any).headCoachEmail ? `<li>Email: <a href=\"mailto:${(contact as any).headCoachEmail}\">${(contact as any).headCoachEmail}</a></li>` : '',\n        (contact as any).headCoachPhone ? `<li>Phone: <a href=\"tel:${(contact as any).headCoachPhone}\">${(contact as any).headCoachPhone}</a></li>` : ''\n      ].filter(Boolean).join('')}</ul>\\n`;\n    }\n    if (enabledIds.includes('references') && ((contact as any).referenceOneName || (contact as any).referenceTwoName)) {\n      emailContent += `<p><strong>References:</strong></p><ul>${[\n        (contact as any).referenceOneName ? `<li>${(contact as any).referenceOneName}<br>${(contact as any).referenceOnePhone ? `Phone: <a href=\"tel:${(contact as any).referenceOnePhone}\">${(contact as any).referenceOnePhone}</a>` : ''} <br>${(contact as any).referenceOneEmail ? `Email: <a href=\"mailto:${(contact as any).referenceOneEmail}\">${(contact as any).referenceOneEmail}</a>` : ''}</li>` : '',\n        (contact as any).referenceTwoName ? `<li>${(contact as any).referenceTwoName}<br>${(contact as any).referenceTwoPhone ? `Phone: <a href=\"tel:${(contact as any).referenceTwoPhone}\">${(contact as any).referenceTwoPhone}</a>` : ''} <br>${(contact as any).referenceTwoEmail ? `Email: <a href=\"mailto:${(contact as any).referenceTwoEmail}\">${(contact as any).referenceTwoEmail}</a>` : ''}</li>` : '',\n      ].filter(Boolean).join('')}</ul>\\n`;\n    }\n    if (enabledIds.includes('profilePicture') && (contact as any).profileImage) {\n      emailContent += `<p><img src=\"${(contact as any).profileImage}\" alt=\"Profile Picture\" width=\"250px\" height=\"250px\" style=\"max-width: 250px; height: auto; display: block;\"></p>`;\n    }\n    emailContent += `<p>Thank you for your time!</p><p>${contact.firstName || ''} ${contact.lastName || ''} - ${contact.school || ''}</p>`;\n    if (enabledIds.includes('radarPage') && contact.email) {\n      emailContent += `\\nFollow My Radar Page: <a href=\"https://radar.athletenarrative.com/?username=${encodeURIComponent(contact.email)}\" target=\"_blank\">HERE</a>`;\n    }\n    return emailContent;\n  }\n\n  React.useEffect(() => {\n    function onMessage(e: MessageEvent) {\n      if (typeof window === 'undefined') return;\n      if (e.origin !== window.location.origin) return;\n      if (e.data?.type === 'google-oauth-success') {\n        const id = e.data?.clientId || currentClient?.id || clientId || '';\n        console.info('[gmail-ui:oauth-success]', { clientId: id });\n        setGmailConnecting(false);\n        setGmailConnected(Boolean(id));\n        try { popupRef.current?.close(); } catch {}\n        if (id) lastConnectedClientIdRef.current = id;\n        // fetch tokens from server memory and persist onto the client record\n        (async () => {\n          try {\n            if (!id) return;\n            const r = await fetch(`/api/google/tokens?clientId=${encodeURIComponent(id)}`);\n            const j = await r.json();\n            console.info('[gmail-ui:tokens:fetched]', {\n              clientId: id,\n              ok: j?.ok,\n              exists: Boolean(j?.tokens),\n              hasAccess: Boolean(j?.tokens?.access_token),\n              hasRefresh: Boolean(j?.tokens?.refresh_token),\n            });\n            if (j?.ok && j?.tokens) {\n              setClientGmailTokens(id, j.tokens);\n              console.info('[gmail-ui:tokens:stored]', { clientId: id });\n            }\n          } catch { /* ignore */ }\n        })();\n      }\n      if (e.data?.type === 'google-oauth-error') {\n        setGmailConnecting(false);\n        try { popupRef.current?.close(); } catch {}\n        setError('Gmail connection failed. Please try again.');\n      }\n    }\n    window.addEventListener('message', onMessage);\n    return () => window.removeEventListener('message', onMessage);\n  }, []);\n\n  React.useEffect(() => {\n    if (!currentClient?.id) { setGmailConnected(false); return; }\n    if (typeof window === 'undefined' || typeof fetch === 'undefined') { setGmailConnected(false); return; }\n    fetch(`/api/google/status?clientId=${encodeURIComponent(currentClient.id)}`)\n      .then(r => r.json())\n      .then(d => setGmailConnected(Boolean(d?.connected)))\n      .catch(() => setGmailConnected(false));\n  }, [currentClient?.id]);\n\n  async function handleConnectGmail() {\n    try {\n      if (!currentClient?.id) {\n        setError('Select a client first');\n        return;\n      }\n      setGmailConnecting(true);\n      const res = await fetch(`/api/google/oauth/url?clientId=${encodeURIComponent(currentClient.id)}`);\n      const data = await res.json();\n      if (!data?.url) throw new Error('Failed to start Gmail connection flow');\n      const w = 500, h = 700;\n      const y = window.top?.outerHeight ? Math.max(0, (window.top.outerHeight - h) / 2) : 100;\n      const x = window.top?.outerWidth ? Math.max(0, (window.top.outerWidth - w) / 2) : 100;\n      popupRef.current = window.open(\n        data.url,\n        'an-google-oauth',\n        `toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=${w},height=${h},top=${y},left=${x}`\n      );\n      if (!popupRef.current) throw new Error('Popup blocked. Allow popups and retry.');\n    } catch (e: any) {\n      setGmailConnecting(false);\n      setError(e?.message || 'Failed to start Gmail connection');\n    }\n  }\n\n  async function handleCreateGmailDraft() {\n    try {\n      const id = currentClient?.id || lastConnectedClientIdRef.current || clientId || '';\n      if (!id) {\n        setError('Select a client first');\n        return;\n      }\n      console.info('[gmail-ui:draft:start]', { clientId: id });\n      // Ensure server has tokens for this client; rehydrate from client record if not\n      try {\n        const statusRes = await fetch(`/api/google/status?clientId=${encodeURIComponent(id)}`);\n        const status = await statusRes.json();\n        console.info('[gmail-ui:status]', { clientId: id, connected: Boolean(status?.connected) });\n        if (!status?.connected) {\n          const saved = getClientGmailTokens(id);\n           console.info('[gmail-ui:rehydrate:attempt]', {\n             clientId: id,\n             hasSavedTokens: Boolean(saved),\n             hasAccess: Boolean(saved?.access_token),\n             hasRefresh: Boolean(saved?.refresh_token),\n           });\n          if (saved) {\n            await fetch('/api/google/tokens', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ clientId: id, tokens: saved }),\n            });\n            setGmailConnected(true);\n            console.info('[gmail-ui:rehydrate:result]', { clientId: id, ok: true });\n          }\n        }\n      } catch { /* ignore */ }\n      const to = selectedCoaches.map((c: any) => c.email || c.Email).filter(Boolean);\n      if (!to.length) {\n        setError('Select at least one coach with an email');\n        return;\n      }\n      const subject = `Intro: ${contact.firstName || ''} ${contact.lastName || ''}  ${universityName || ''}`.trim();\n      const html = aiHtml || buildEmailPreview();\n      const savedTokens = getClientGmailTokens(id);\n      const res = await fetch('/api/gmail/create-draft', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ clientId: id, to, subject, html, tokens: savedTokens || undefined, agencyEmail: session?.email || '' }),\n      });\n      const data = await res.json();\n      if (!res.ok || !data?.ok) {\n        throw new Error(data?.error || 'Draft creation failed');\n      }\n      if (data.openUrl) {\n        window.open(data.openUrl, '_blank');\n      }\n      try {\n        if (currentClient?.id) {\n          const emailsToMark = selectedCoaches.map((c: any) => c.email).filter(Boolean);\n          markMailed(currentClient.id, emailsToMark);\n        }\n      } catch {}\n    } catch (e: any) {\n      console.error(e);\n      setError(e?.message || 'Failed to create Gmail draft');\n    }\n  }\n\n  // AI improvement flow for intro sentence\n  const [aiLoading, setAiLoading] = React.useState(false);\n  const [aiHtml, setAiHtml] = React.useState<string>('');\n  const [isGenerating, setIsGenerating] = React.useState(false);\n\n  async function handleImproveWithAI() {\n    try {\n      setAiLoading(true);\n      setError(null);\n      const sport = currentClient?.sport || '';\n      const collegeName = universityName || '';\n      const coachLast = selectedCoaches[0]?.lastName || selectedCoaches[0]?.LastName || 'Coach';\n      const fullName = `${contact.firstName || ''} ${contact.lastName || ''}`.trim();\n      const parts: string[] = [];\n      if (enabledSections.accomplishments && (contact as any).accomplishments?.length) parts.push('notable accomplishments');\n      if (enabledSections.academic && (contact.gpa || (contact as any).preferredAreaOfStudy)) parts.push('key academic details');\n      if (enabledSections.athletic) parts.push('athletic metrics and performance');\n      if (enabledSections.highlights) parts.push('highlight links for review');\n      const coachMessage = `This is an introduction email for ${fullName}. The student-athlete is introducing themselves with ${parts.join(', ') || 'basic profile details'}. Please use the student's actual name; do not use placeholders.`;\n\n      const intro = await generateIntro({\n        sport,\n        collegeName,\n        coachMessage,\n        tone: 'A highschool kid who loves sports',\n        qualities: ['Passionate', 'Hardworking', 'Determined'],\n        additionalInsights: `Student full name: ${fullName}. Use this exact name; do not output placeholders like [StudentName].`,\n      });\n\n      const introFixed = String(intro).replace(/\\[StudentName\\]/gi, fullName);\n      // Merge AI intro with the rest of the composed email\n      const base = buildEmailPreview();\n      const stripped = base.replace(/^<p>Hello Coach[\\s\\S]*?<\\/p>\\s*<p>[\\s\\S]*?<\\/p>/, '');\n      const rest = stripped || base;\n      const improved = `<p>Hello Coach ${coachLast},</p><p>${introFixed}</p>${rest}`;\n      setAiHtml(improved);\n    } catch (e: any) {\n      setError(e?.message || 'AI generation failed');\n    } finally {\n      setAiLoading(false);\n    }\n  }\n\n  async function generateFullEmailHtml(): Promise<string> {\n    const coachLast = selectedCoaches[0]?.lastName || selectedCoaches[0]?.LastName || 'Coach';\n    const fullName = `${contact.firstName || ''} ${contact.lastName || ''}`.trim();\n    const sport = (currentClient as any)?.sport || '';\n    const collegeName = universityName || '';\n\n    const parts: string[] = [];\n    if (enabledSections.accomplishments && (contact as any).accomplishments?.length) parts.push('notable accomplishments');\n    if (enabledSections.academic && (contact.gpa || (contact as any).preferredAreaOfStudy)) parts.push('academic information');\n    if (enabledSections.athletic) parts.push('athletic metrics');\n    if (enabledSections.highlights) parts.push('highlights');\n\n    const coachMessage =\n      `This is an introduction email for ${fullName}. The student-athlete is introducing themselves with ${parts.join(', ') || 'basic profile details'}. Please use the student's actual name; do not use placeholders.`;\n\n    const intro = await generateIntro({\n      sport,\n      collegeName,\n      coachMessage,\n      tone: 'A highschool kid who loves sports',\n      qualities: ['Passionate', 'Hardworking', 'Determined'],\n      additionalInsights: `Student full name: ${fullName}. Use this exact name; do not output placeholders like [StudentName].`,\n    });\n    const introFixed = String(intro).replace(/\\[StudentName\\]/gi, fullName);\n\n    const base = buildEmailPreview();\n    const stripped = base.replace(/^<[^>]*>Hello\\s+Coach[\\s\\S]*?<\\/p>\\s*<p>[\\s\\S]*?<\\/p>/i, \"\");\n    const rest = stripped || base;\n    return `<p>Hello Coach ${coachLast},</p><p>${introFixed}</p>${rest}`;\n  }\n\n  React.useEffect(() => {\n    if (!session) return;\n    if (session.role !== 'agency') return;\n    listClientsByAgencyEmail(session.email).then(setClients);\n    getDivisions().then(setDivisions);\n    // load saved lists for this agency\n    setLists(listLists(session.email));\n  }, [session]);\n\n  React.useEffect(() => {\n    if (!division) {\n      setStates([]);\n      setState('');\n      setSchools([]);\n      return;\n    }\n    getStates(division).then(setStates);\n    setState('');\n    setSchools([]);\n  }, [division]);\n\n  React.useEffect(() => {\n    if (division && state && clientId) {\n      const client = clients.find(c => c.id === clientId) || null;\n      const sport = client?.sport || '';\n      if (!sport) { setSchools([]); return; }\n      const divisionSlug = DIVISION_API_MAPPING[division] || division;\n      listUniversities({ sport, division: divisionSlug, state })\n        .then(setSchools)\n        .catch((e) => { setSchools([]); setError(e?.message || 'Failed to load universities'); });\n    } else {\n      setSchools([]);\n    }\n  }, [division, state, clientId, clients]);\n\n  React.useEffect(() => {\n    if (!selectedSchoolName) {\n      setSchoolDetails(null);\n      setSelectedCoachIds({});\n      return;\n    }\n    const client = clients.find(c => c.id === clientId) || null;\n    const sport = client?.sport || '';\n    if (!sport || !division || !state) { setSchoolDetails(null); return; }\n    const divisionSlug = DIVISION_API_MAPPING[division] || division;\n    getUniversityDetails({ sport, division: divisionSlug, state, school: selectedSchoolName })\n      .then((u) => { setSchoolDetails(u); setSelectedCoachIds({}); })\n      .catch((e) => { setSchoolDetails(null); setSelectedCoachIds({}); setError(e?.message || 'Failed to load university'); });\n  }, [selectedSchoolName, clientId, division, state, clients]);\n  React.useEffect(() => { setError(null); }, [division, state, selectedSchoolName, clientId]);\n  React.useEffect(() => {\n    if (!session?.email) return;\n    setTemplates(listTemplates({ agencyEmail: session.email, clientId }));\n  }, [session, clientId]);\n\n  const isLast = activeStep === 3;\n  const canNext =\n    (activeStep === 0 && Boolean(clientId)) ||\n    (activeStep === 1 && (Boolean(selectedListId) || (Boolean(division) && Boolean(state) && schools.length > 0))) ||\n    (activeStep === 2 && (listMode ? selectedCoaches.length > 0 : Boolean(selectedSchoolName))) ||\n    (activeStep === 3);\n\n  const handleNext = async () => {\n    if (isLast) {\n      try {\n        setIsGenerating(true);\n        setError(null);\n        const html = await generateFullEmailHtml();\n        setAiHtml(html);\n        setDraft(html);\n      } catch (e: any) {\n        setError(e?.message || 'Failed to generate email');\n      } finally {\n        setIsGenerating(false);\n      }\n      return;\n    }\n    setActiveStep((s) => s + 1);\n  };\n  const handleBack = () => setActiveStep((s) => Math.max(0, s - 1));\n\n  const toggleCoach = (id: string) => {\n    setSelectedCoachIds((prev) => ({ ...prev, [id]: !prev[id] }));\n  };\n\n  function currentEmailContext() {\n    const studentFirstName = contact.firstName || '';\n    const studentLastName = contact.lastName || '';\n    const studentFullName = `${studentFirstName} ${studentLastName}`.trim();\n    const uName = universityName || (schoolDetails?.schoolInfo?.School || schoolDetails?.name || '');\n    const primaryCoachLastName = selectedCoaches[0]?.lastName || selectedCoaches[0]?.LastName || '';\n    const coachList = (selectedCoaches || [])\n      .map((c: any) => `${c.firstName || c.FirstName || ''} ${c.lastName || c.LastName || ''}`.trim())\n      .filter(Boolean)\n      .join(', ');\n    return { studentFirstName, studentLastName, studentFullName, universityName: uName, primaryCoachLastName, coachList };\n  }\n\n  function handleSaveTemplate() {\n    if (!session?.email) return;\n    const html = (aiHtml || buildEmailPreview());\n    const ctx = currentEmailContext();\n    const placeholderHtml = toTemplateHtml(html, ctx);\n    const rec = saveTemplate({\n      agencyEmail: session.email,\n      clientId,\n      name: templateName || `Template ${new Date().toLocaleString()}`,\n      html: placeholderHtml,\n      enabledSections\n    });\n    setTemplates([rec, ...templates]);\n    setTemplateName('');\n  }\n\n  function handleApplyTemplate(id: string) {\n    const t = (templates as unknown as EmailTemplate[]).find(x => (x as EmailTemplate).id === id) as EmailTemplate | undefined;\n    if (!t) return;\n    const html = applyTemplate(t.html, currentEmailContext());\n    setAiHtml(html);\n    setDraft(html);\n    if (t.enabledSections) setEnabledSections(t.enabledSections);\n    setSelectedTemplateId(id);\n  }\n\n  return (\n    <Box>\n      <Stepper activeStep={activeStep} alternativeLabel sx={{ mb: 3 }}>\n        {['Select Client', 'Universities', 'Details & Coaches', 'Draft'].map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <Box sx={{ mb: 2 }}>\n        {error && (\n          <Typography color=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Typography>\n        )}\n        {activeStep === 0 && (\n          <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: '1fr 1fr' }, gap: 2, maxWidth: 700 }}>\n            <TextField\n              select\n              label=\"Client\"\n              value={clientId}\n              onChange={(e) => setClientId(e.target.value)}\n              SelectProps={{ MenuProps: { disablePortal: true } }}\n              inputProps={{ 'data-testid': 'recruiter-client-select' }}\n            >\n              {clients.map((c) => (\n                <MenuItem key={c.id} value={c.id}>\n                  {c.email} {c.firstName ? `- ${c.firstName} ${c.lastName}` : ''}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Box>\n        )}\n        {activeStep === 1 && (\n          <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: '1fr 1fr' }, gap: 2, maxWidth: 800 }}>\n            <TextField\n              select\n              label=\"Division\"\n              value={division}\n              onChange={(e) => setDivision(e.target.value)}\n              SelectProps={{ MenuProps: { disablePortal: true } }}\n              inputProps={{ 'data-testid': 'recruiter-division' }}\n            >\n              {divisions.map((d) => (\n                <MenuItem key={d} value={d}>\n                  {d}\n                </MenuItem>\n              ))}\n            </TextField>\n            <TextField\n              select\n              label=\"State\"\n              value={state}\n              onChange={(e) => setState(e.target.value)}\n              disabled={!division}\n              SelectProps={{ MenuProps: { disablePortal: true } }}\n              inputProps={{ 'data-testid': 'recruiter-state' }}\n            >\n              {states.map((s) => (\n                <MenuItem key={s.code} value={s.code}>\n                  {s.name}\n                </MenuItem>\n              ))}\n            </TextField>\n            <TextField\n              select\n              label=\"List\"\n              value={selectedListId}\n              onChange={(e) => {\n                const id = String(e.target.value);\n                setSelectedListId(id);\n                const l = lists.find((x) => x.id === id) || null;\n                setSelectedList(l);\n                if (l) {\n                  setListMode(true);\n                  const mapping: Record<string, boolean> = {};\n                  (l.items || []).forEach((it, idx) => {\n                    const rowId = String(\n                      it.id || `List::${(it.school || '')}::${(it.email || '')}::${(it.firstName || '')}-${(it.lastName || '')}::${it.title || ''}::${idx}`\n                    );\n                    mapping[rowId] = true;\n                  });\n                  setSelectedCoachIds(mapping);\n                  setSelectedSchoolName('');\n                  setSchoolDetails(null);\n                  setActiveStep(2);\n                } else {\n                  setListMode(false);\n                  setSelectedCoachIds({});\n                }\n              }}\n              SelectProps={{ MenuProps: { disablePortal: true } }}\n            >\n              <MenuItem value=\"\">(Select a list)</MenuItem>\n              {lists.map((l) => (\n                <MenuItem key={l.id} value={l.id}>\n                  {l.name}\n                </MenuItem>\n              ))}\n            </TextField>\n            <Box sx={{ gridColumn: '1 / -1' }}>\n              <Typography variant=\"subtitle2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                Universities\n              </Typography>\n              <Stack direction=\"row\" spacing={2} sx={{ flexWrap: 'wrap' }}>\n                {schools.map((u) => (\n                  <Card\n                    key={u.name}\n                    onClick={() => setSelectedSchoolName(u.name)}\n                    sx={{\n                      width: 260,\n                      cursor: 'pointer',\n                      outline: selectedSchoolName === u.name ? '2px solid #1976d2' : 'none',\n                    }}\n                  >\n                    <CardContent>\n                      <Typography>{u.name}</Typography>\n                    </CardContent>\n                  </Card>\n                ))}\n              </Stack>\n            </Box>\n          </Box>\n        )}\n        {activeStep === 2 && listMode && selectedList && (\n          <Box sx={{ maxWidth: 1000 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              {selectedList.name}\n            </Typography>\n            <Stack direction=\"row\" spacing={1} sx={{ mb: 1 }}>\n              <Button size=\"small\" variant=\"outlined\" onClick={() => {\n                const mapping: Record<string, boolean> = {};\n                (selectedList.items || []).forEach((it, idx) => {\n                  const rowId = String(\n                    it.id || `List::${(it.school || '')}::${(it.email || '')}::${(it.firstName || '')}-${(it.lastName || '')}::${it.title || ''}::${idx}`\n                  );\n                  mapping[rowId] = true;\n                });\n                setSelectedCoachIds(mapping);\n              }}>Select All</Button>\n              <Button size=\"small\" onClick={() => setSelectedCoachIds({})}>Deselect All</Button>\n            </Stack>\n            <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: '1fr 1fr' }, gap: 1 }}>\n              {(selectedList.items || []).map((it, idx) => {\n                const rowId = String(\n                  it.id || `List::${(it.school || '')}::${(it.email || '')}::${(it.firstName || '')}-${(it.lastName || '')}::${it.title || ''}::${idx}`\n                );\n                const mailed = currentClient?.id && it.email ? hasMailed(currentClient.id, it.email) : false;\n                const labelName = `${(it.firstName || '')} ${(it.lastName || '')}`.trim() || (it.email || '');\n                return (\n                  <FormControlLabel\n                    key={rowId}\n                    control={<Checkbox checked={Boolean(selectedCoachIds[rowId])} onChange={() => setSelectedCoachIds((p) => ({ ...p, [rowId]: !p[rowId] }))} />}\n                    label={`${labelName}${it.title ? `  ${it.title}` : ''}${it.email ? ` (${it.email})` : ''}${mailed ? '  Mailed' : ''}`}\n                  />\n                );\n              })}\n            </Box>\n          </Box>\n        )}\n        {activeStep === 2 && !listMode && schoolDetails && (\n          <Box sx={{ maxWidth: 1000 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              {schoolDetails?.schoolInfo?.School || schoolDetails?.name || ''}\n            </Typography>\n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Location: {schoolDetails?.schoolInfo?.City || ''}, {schoolDetails?.schoolInfo?.State || ''}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Division: {schoolDetails?.division || ''}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Conference: {schoolDetails?.schoolInfo?.Conference || schoolDetails?.conference || ''}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Type: {schoolDetails?.schoolInfo?.PrivatePublic || schoolDetails?.privatePublic || ''}\n              </Typography>\n            </Box>\n\n            <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: 'repeat(4, 1fr)' }, gap: 2, mb: 2 }}>\n              <Box>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">GPA</Typography>\n                <Typography>{schoolDetails?.schoolInfo?.AverageGPA || ''}</Typography>\n              </Box>\n              <Box>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">SAT Math</Typography>\n                <Typography>{schoolDetails?.schoolInfo?.SATMath || ''}</Typography>\n              </Box>\n              <Box>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">SAT Reading</Typography>\n                <Typography>{schoolDetails?.schoolInfo?.SATReading || ''}</Typography>\n              </Box>\n              <Box>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">ACT</Typography>\n                <Typography>{schoolDetails?.schoolInfo?.ACTComposite || ''}</Typography>\n              </Box>\n            </Box>\n\n            <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: 'repeat(3, 1fr)' }, gap: 2, mb: 2 }}>\n              <Box>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Acceptance Rate</Typography>\n                <Typography>{schoolDetails?.schoolInfo?.AcceptanceRate || ''}</Typography>\n              </Box>\n              <Box>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Yearly Cost</Typography>\n                <Typography>{schoolDetails?.schoolInfo?.YearlyCost || ''}</Typography>\n              </Box>\n              <Box>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">US News Ranking</Typography>\n                <Typography>{schoolDetails?.schoolInfo?.USNewsRanking ? `#${schoolDetails.schoolInfo.USNewsRanking}` : ''}</Typography>\n              </Box>\n            </Box>\n\n            <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap', mb: 3 }}>\n              {schoolDetails?.schoolInfo?.MajorsOfferedLink && (\n                <Button size=\"small\" variant=\"outlined\" onClick={() => window.open(schoolDetails.schoolInfo.MajorsOfferedLink, '_blank')}>\n                  View Majors\n                </Button>\n              )}\n              {schoolDetails?.schoolInfo?.Questionnaire && (\n                <Button size=\"small\" variant=\"outlined\" onClick={() => window.open(schoolDetails.schoolInfo.Questionnaire, '_blank')}>\n                  Recruiting Questionnaire\n                </Button>\n              )}\n              {schoolDetails?.schoolInfo?.LandingPage && (\n                <Button size=\"small\" variant=\"outlined\" onClick={() => window.open(schoolDetails.schoolInfo.LandingPage, '_blank')}>\n                  Team Website\n                </Button>\n              )}\n              {schoolDetails?.schoolInfo?.SchoolTwitter && schoolDetails.schoolInfo.SchoolTwitter !== '-' && (\n                <Button size=\"small\" variant=\"text\" onClick={() => window.open(schoolDetails.schoolInfo.SchoolTwitter, '_blank')}>\n                  Twitter\n                </Button>\n              )}\n              {schoolDetails?.schoolInfo?.SchoolInstagram && schoolDetails.schoolInfo.SchoolInstagram !== '-' && (\n                <Button size=\"small\" variant=\"text\" onClick={() => window.open(schoolDetails.schoolInfo.SchoolInstagram, '_blank')}>\n                  Instagram\n                </Button>\n              )}\n            </Box>\n\n            <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\n              Coaches\n            </Typography>\n            <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: '1fr 1fr' }, gap: 1 }}>\n              {(schoolDetails.coaches ?? []).map((c: any) => {\n                const id = c.id;\n                const first = c.firstName || c.FirstName || '';\n                const last = c.lastName || c.LastName || '';\n                const title = c.title || c.Position || '';\n                const email = c.email || c.Email;\n                return (\n                  <FormControlLabel\n                    key={id}\n                    control={<Checkbox checked={Boolean(selectedCoachIds[id])} onChange={() => setSelectedCoachIds((p) => ({ ...p, [id]: !p[id] }))} />}\n                    label={`${first} ${last}  ${title}${email ? ` (${email})` : ''}`}\n                  />\n                );\n              })}\n            </Box>\n          </Box>\n        )}\n        {activeStep === 3 && (\n          <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: '1.2fr 1fr' }, gap: 3 }}>\n            <Box>\n              <Typography variant=\"h6\" gutterBottom>Selected Targets</Typography>\n              <Typography variant=\"body2\">\n                {listMode && selectedList ? (\n                  <>List: {selectedList.name}</>\n                ) : (\n                  <>University: {universityName || ''}</>\n                )}\n              </Typography>\n              <Typography variant=\"body2\" sx={{ mt: 1, mb: 2 }}>\n                {`Coaches: ${selectedCoaches.length ? selectedCoaches.map((c: any) => {\n                  const nm = `${c.firstName || c.FirstName || ''} ${c.lastName || c.LastName || ''}`.trim();\n                  return nm || (c.email || '');\n                }).join(', ') : ''}`}\n              </Typography>\n              <Box sx={{ mb: 2, display: 'grid', gridTemplateColumns: { xs: '1fr', md: '1fr 1fr' }, gap: 1 }}>\n                <TextField\n                  label=\"Template name\"\n                  value={templateName}\n                  onChange={(e) => setTemplateName(e.target.value)}\n                  size=\"small\"\n                />\n                <Button\n                  variant=\"outlined\"\n                  onClick={handleSaveTemplate}\n                  disabled={!(aiHtml || buildEmailPreview()) || !session?.email}\n                >\n                  Save as Template\n                </Button>\n                <TextField\n                  select\n                  label=\"Templates\"\n                  value={selectedTemplateId}\n                  onChange={(e) => handleApplyTemplate(String(e.target.value))}\n                  size=\"small\"\n                >\n                  <MenuItem value=\"\">(Select a template)</MenuItem>\n                  {templates.map(t => (\n                    <MenuItem key={t.id} value={t.id}>{t.name}</MenuItem>\n                  ))}\n                </TextField>\n              </Box>\n              <Typography variant=\"h6\" gutterBottom>Email Sections</Typography>\n              {Object.entries(enabledSections).map(([sectionKey, enabled]) => (\n                <Accordion\n                  key={sectionKey}\n                  expanded={enabled}\n                  onChange={(_, exp) => toggleSection(sectionKey, exp)}\n                  sx={{ mb: 1 }}\n                >\n                  <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n                      <Switch checked={enabled} onChange={(e) => toggleSection(sectionKey, e.target.checked)} />\n                      <Typography sx={{ textTransform: 'capitalize' }}>{sectionKey}</Typography>\n                    </Box>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    {!enabled ? (\n                      <Typography variant=\"body2\" color=\"text.secondary\">Section disabled</Typography>\n                    ) : (\n                      <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: '1fr 1fr' }, gap: 1 }}>\n                        {sectionKey === 'accomplishments' && ((contact as any).accomplishments || []).map((item: string, i: number) => (\n                          <FormControlLabel\n                            key={`acc-${i}`}\n                            control={<Checkbox checked={Boolean(selectedFields.accomplishments?.[`acc-${i}`])} onChange={(e) => setField('accomplishments', `acc-${i}`, e.target.checked)} />}\n                            label={item}\n                          />\n                        ))}\n                        {sectionKey === 'athletic' && [\n                          { k: 'm1', label: `${(contact as any).athleteMetricsTitleOne || ''}: ${(contact as any).athleteMetricsValueOne || ''}`.trim() },\n                          { k: 'm2', label: `${(contact as any).athleteMetricsTitleTwo || ''}: ${(contact as any).athleteMetricsValueTwo || ''}`.trim() },\n                          { k: 'm3', label: `${(contact as any).athleteMetricsTitleThree || ''}: ${(contact as any).athleteMetricsValueThree || ''}`.trim() },\n                          { k: 'm4', label: `${(contact as any).athleteMetricsTitleFour || ''}: ${(contact as any).athleteMetricsValueFour || ''}`.trim() },\n                        ]\n                        .filter(m => m.label !== ':')\n                        .map((m) => (\n                          <FormControlLabel\n                            key={m.k}\n                            control={<Checkbox checked={Boolean(selectedFields.athletic?.[m.k])} onChange={(e) => setField('athletic', m.k, e.target.checked)} />}\n                            label={m.label}\n                          />\n                        ))}\n                      </Box>\n                    )}\n                  </AccordionDetails>\n                </Accordion>\n              ))}\n            </Box>\n            <Box>\n              <Typography variant=\"h6\" gutterBottom>Preview</Typography>\n              <Box sx={{ border: '1px solid #ddd', borderRadius: 1, p: 2, minHeight: 200, bgcolor: '#fafafa' }}>\n                <div dangerouslySetInnerHTML={{ __html: aiHtml || buildEmailPreview() }} />\n              </Box>\n              <Box sx={{ display: 'flex', gap: 1, mt: 2 }}>\n                <Button onClick={() => navigator.clipboard.writeText(aiHtml || buildEmailPreview())}>Copy HTML</Button>\n                <Button\n                  onClick={async () => {\n                    const html = (aiHtml || buildEmailPreview());\n                    try {\n                      // Prefer rich-text copy when supported\n                      // @ts-ignore ClipboardItem may not be present in TS lib depending on environment\n                      if (navigator.clipboard && typeof navigator.clipboard.write === 'function' && typeof window !== 'undefined' && (window as any).ClipboardItem) {\n                        const htmlBlob = new Blob([html], { type: 'text/html' });\n                        const tmp = document.createElement('div');\n                        tmp.innerHTML = html;\n                        const text = (tmp.textContent || '').toString();\n                        const textBlob = new Blob([text], { type: 'text/plain' });\n                        // @ts-ignore\n                        await navigator.clipboard.write([\n                          new (window as any).ClipboardItem({ 'text/html': htmlBlob, 'text/plain': textBlob })\n                        ]);\n                      } else {\n                        // Fallback to plain text if rich copy is unavailable\n                        const tmp = document.createElement('div');\n                        tmp.innerHTML = html;\n                        await navigator.clipboard.writeText(tmp.textContent || '');\n                      }\n                    } catch (e) {\n                      console.error('Clipboard copy failed', e);\n                    }\n                  }}\n                >\n                  Copy Rich Text\n                </Button>\n                <Button variant=\"outlined\" onClick={handleConnectGmail}>\n                  {gmailConnected ? 'Gmail Connected' : (gmailConnecting ? 'Connecting' : 'Connect Gmail')}\n                </Button>\n                <Button variant=\"outlined\" onClick={handleCreateGmailDraft} disabled={!selectedCoaches.length || !gmailConnected}>\n                  Create Gmail Draft\n                </Button>\n                <Button variant=\"contained\" onClick={() => setDraft(aiHtml || buildEmailPreview())}>Lock In</Button>\n                <Button\n                  variant=\"outlined\"\n                  onClick={handleImproveWithAI}\n                  disabled={aiHtml ? false : (aiHtml ? false : (aiLoading || !selectedCoaches.length || !universityName))}\n                >\n                  {aiHtml ? 'Improve' : 'Improve with AI'}\n                </Button>\n              </Box>\n            </Box>\n          </Box>\n        )}\n      </Box>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n        <Button disabled={activeStep === 0} onClick={handleBack}>\n          Back\n        </Button>\n        <Button variant=\"contained\" onClick={handleNext} disabled={!canNext || (isLast && isGenerating)}>\n          {isLast ? (isGenerating ? 'Generating' : 'Generate') : 'Next'}\n        </Button>\n      </Box>\n    </Box>\n  );\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3017, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/%28app%29/recruiter/page.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { Typography } from '@mui/material';\nimport { RecruiterWizard } from '@/features/recruiter/RecruiterWizard';\n\nexport default function RecruiterBackofficePage() {\n  return (\n    <main style={{ padding: 24 }}>\n      <Typography variant=\"h4\" gutterBottom>Recruiter</Typography>\n      <RecruiterWizard />\n    </main>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,6LAAC;QAAK,OAAO;YAAE,SAAS;QAAG;;0BACzB,6LAAC,8NAAU;gBAAC,SAAQ;gBAAK,YAAY;0BAAC;;;;;;0BACtC,6LAAC,+JAAe;;;;;;;;;;;AAGtB;KAPwB"}}]
}