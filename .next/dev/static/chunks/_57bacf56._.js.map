{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/auth/validators.ts"],"sourcesContent":["export function validateEmail(email: string): boolean {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n}\n\nexport function validatePassword(password: string): boolean {\n  return typeof password === 'string' && password.length >= 8;\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,cAAc,KAAa;IACzC,MAAM,KAAK;IACX,OAAO,GAAG,IAAI,CAAC;AACjB;AAEO,SAAS,iBAAiB,QAAgB;IAC/C,OAAO,OAAO,aAAa,YAAY,SAAS,MAAM,IAAI;AAC5D"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/auth/LoginForm.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nimport MuiButton from '@mui/material/Button';\nimport Alert from '@mui/material/Alert';\nimport { validateEmail, validatePassword } from '@/features/auth/validators';\n\ntype Credentials = { email: string; password: string };\ntype Props = {\n  onSubmit: (creds: Credentials) => Promise<void> | void;\n};\n\nexport function LoginForm({ onSubmit }: Props) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [errors, setErrors] = React.useState<{ email?: string; password?: string }>({});\n  const [submitting, setSubmitting] = React.useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const nextErrors: { email?: string; password?: string } = {};\n    if (!email) nextErrors.email = 'Required';\n    else if (!validateEmail(email)) nextErrors.email = 'Invalid email';\n    if (!password) nextErrors.password = 'Required';\n    else if (!validatePassword(password)) nextErrors.password = 'Password must be at least 8 characters';\n    setErrors(nextErrors);\n    if (Object.keys(nextErrors).length > 0) return;\n    try {\n      setSubmitting(true);\n      await onSubmit({ email, password });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} noValidate>\n      <Stack spacing={2} sx={{ maxWidth: 360 }}>\n        <TextField\n          label=\"Email\"\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          error={Boolean(errors.email)}\n          helperText={errors.email}\n        />\n        <TextField\n          label=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          error={Boolean(errors.password)}\n          helperText={errors.password}\n        />\n        {(errors.email || errors.password) && <Alert severity=\"error\">Please fix the errors</Alert>}\n        <MuiButton type=\"submit\" variant=\"contained\" disabled={submitting}>\n          Sign in\n        </MuiButton>\n      </Stack>\n    </form>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAaO,SAAS,UAAU,EAAE,QAAQ,EAAS;;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,wKAAK,CAAC,QAAQ,CAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAC/C,MAAM,CAAC,QAAQ,UAAU,GAAG,wKAAK,CAAC,QAAQ,CAAwC,CAAC;IACnF,MAAM,CAAC,YAAY,cAAc,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAEnD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,aAAoD,CAAC;QAC3D,IAAI,CAAC,OAAO,WAAW,KAAK,GAAG;aAC1B,IAAI,CAAC,IAAA,kJAAa,EAAC,QAAQ,WAAW,KAAK,GAAG;QACnD,IAAI,CAAC,UAAU,WAAW,QAAQ,GAAG;aAChC,IAAI,CAAC,IAAA,qJAAgB,EAAC,WAAW,WAAW,QAAQ,GAAG;QAC5D,UAAU;QACV,IAAI,OAAO,IAAI,CAAC,YAAY,MAAM,GAAG,GAAG;QACxC,IAAI;YACF,cAAc;YACd,MAAM,SAAS;gBAAE;gBAAO;YAAS;QACnC,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,UAAU;kBACtC,cAAA,6LAAC,wKAAK;YAAC,SAAS;YAAG,IAAI;gBAAE,UAAU;YAAI;;8BACrC,6LAAC,gLAAS;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,OAAO,QAAQ,OAAO,KAAK;oBAC3B,YAAY,OAAO,KAAK;;;;;;8BAE1B,6LAAC,gLAAS;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oBAC3C,OAAO,QAAQ,OAAO,QAAQ;oBAC9B,YAAY,OAAO,QAAQ;;;;;;gBAE5B,CAAC,OAAO,KAAK,IAAI,OAAO,QAAQ,mBAAK,6LAAC,wKAAK;oBAAC,UAAS;8BAAQ;;;;;;8BAC9D,6LAAC,0KAAS;oBAAC,MAAK;oBAAS,SAAQ;oBAAY,UAAU;8BAAY;;;;;;;;;;;;;;;;;AAM3E;GAjDgB;KAAA"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/agencies.ts"],"sourcesContent":["export type Agency = { id: string; name: string; email: string; settings?: { primaryColor?: string } };\n\nexport const AGENCIES: Agency[] = [\n  { id: 'agency-001', name: 'Prime Sports', email: 'agency1@an.test', settings: { primaryColor: '#1976d2' } },\n  { id: 'agency-002', name: 'NextGen', email: 'agency2@an.test', settings: { primaryColor: '#9c27b0' } },\n  { id: 'agency-003', name: 'Elite Edge', email: 'agency3@an.test', settings: { primaryColor: '#2e7d32' } },\n];\n\nexport async function listAgencies() {\n  return AGENCIES.map(a => ({ id: a.id, name: a.name }));\n}\n\nexport async function getAgencyByEmail(email: string) {\n  return AGENCIES.find(a => a.email === email) ?? null;\n}\n\nexport async function getAgencyById(id: string) {\n  return AGENCIES.find(a => a.id === id) ?? null;\n}\n\nexport async function getAgencySettings(email: string) {\n  const a = AGENCIES.find(x => x.email === email);\n  return a?.settings ?? {};\n}\n\nexport async function updateAgencySettings(email: string, settings: { primaryColor?: string }) {\n  const a = AGENCIES.find(x => x.email === email);\n  if (!a) return { ok: false };\n  a.settings = { ...(a.settings ?? {}), ...settings };\n  return { ok: true, settings: a.settings };\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAEO,MAAM,WAAqB;IAChC;QAAE,IAAI;QAAc,MAAM;QAAgB,OAAO;QAAmB,UAAU;YAAE,cAAc;QAAU;IAAE;IAC1G;QAAE,IAAI;QAAc,MAAM;QAAW,OAAO;QAAmB,UAAU;YAAE,cAAc;QAAU;IAAE;IACrG;QAAE,IAAI;QAAc,MAAM;QAAc,OAAO;QAAmB,UAAU;YAAE,cAAc;QAAU;IAAE;CACzG;AAEM,eAAe;IACpB,OAAO,SAAS,GAAG,CAAC,CAAA,IAAK,CAAC;YAAE,IAAI,EAAE,EAAE;YAAE,MAAM,EAAE,IAAI;QAAC,CAAC;AACtD;AAEO,eAAe,iBAAiB,KAAa;IAClD,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,UAAU;AAClD;AAEO,eAAe,cAAc,EAAU;IAC5C,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO;AAC5C;AAEO,eAAe,kBAAkB,KAAa;IACnD,MAAM,IAAI,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK;IACzC,OAAO,GAAG,YAAY,CAAC;AACzB;AAEO,eAAe,qBAAqB,KAAa,EAAE,QAAmC;IAC3F,MAAM,IAAI,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK;IACzC,IAAI,CAAC,GAAG,OAAO;QAAE,IAAI;IAAM;IAC3B,EAAE,QAAQ,GAAG;QAAE,GAAI,EAAE,QAAQ,IAAI,CAAC,CAAC;QAAG,GAAG,QAAQ;IAAC;IAClD,OAAO;QAAE,IAAI;QAAM,UAAU,EAAE,QAAQ;IAAC;AAC1C"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/auth/service.ts"],"sourcesContent":["import { getAgencyByEmail } from '@/services/agencies';\nexport type Session = { role: 'parent' | 'agency'; agencyId?: string; email: string };\n\nexport async function login(input: { email: string; password: string }): Promise<Session> {\n  if ((input.email === 'admin' || input.email === 'admin@example.com') && input.password === 'password123') {\n    return { role: 'parent', email: 'admin' };\n  }\n  // Recognized agency emails map to agencies by email (tenancy boundary)\n  if (input.password === 'password123') {\n    const agency = await getAgencyByEmail(input.email);\n    if (agency) {\n      return { role: 'agency', email: agency.email, agencyId: agency.id };\n    }\n  }\n  // Fallback: treat as agency, default to first id for demo purposes\n  return { role: 'agency', email: input.email, agencyId: 'agency-001' };\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;;AAGO,eAAe,MAAM,KAA0C;IACpE,IAAI,CAAC,MAAM,KAAK,KAAK,WAAW,MAAM,KAAK,KAAK,mBAAmB,KAAK,MAAM,QAAQ,KAAK,eAAe;QACxG,OAAO;YAAE,MAAM;YAAU,OAAO;QAAQ;IAC1C;IACA,uEAAuE;IACvE,IAAI,MAAM,QAAQ,KAAK,eAAe;QACpC,MAAM,SAAS,MAAM,IAAA,2IAAgB,EAAC,MAAM,KAAK;QACjD,IAAI,QAAQ;YACV,OAAO;gBAAE,MAAM;gBAAU,OAAO,OAAO,KAAK;gBAAE,UAAU,OAAO,EAAE;YAAC;QACpE;IACF;IACA,mEAAmE;IACnE,OAAO;QAAE,MAAM;QAAU,OAAO,MAAM,KAAK;QAAE,UAAU;IAAa;AACtE"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/auth/login/page.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { LoginForm } from '@/features/auth/LoginForm';\nimport { login } from '@/features/auth/service';\nimport { useSession } from '@/features/auth/session';\nimport { useRouter } from 'next/navigation';\n\nexport default function LoginPage() {\n  const { setSession } = useSession();\n  const router = useRouter();\n  const onSubmit = async (creds: { email: string; password: string }) => {\n    const s = await login(creds);\n    setSession(s);\n    router.push('/dashboard');\n  };\n  return (\n    <main style={{ padding: 24 }}>\n      <h1>Sign in</h1>\n      <LoginForm onSubmit={onSubmit} />\n    </main>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,6IAAU;IACjC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,OAAO;QACtB,MAAM,IAAI,MAAM,IAAA,uIAAK,EAAC;QACtB,WAAW;QACX,OAAO,IAAI,CAAC;IACd;IACA,qBACE,6LAAC;QAAK,OAAO;YAAE,SAAS;QAAG;;0BACzB,6LAAC;0BAAG;;;;;;0BACJ,6LAAC,8IAAS;gBAAC,UAAU;;;;;;;;;;;;AAG3B;GAdwB;;QACC,6IAAU;QAClB,kJAAS;;;KAFF"}}]
}