{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/auth/validators.ts"],"sourcesContent":["export function validateEmail(email: string): boolean {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n}\n\nexport function validatePassword(password: string): boolean {\n  return typeof password === 'string' && password.length >= 8;\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,cAAc,KAAa;IACzC,MAAM,KAAK;IACX,OAAO,GAAG,IAAI,CAAC;AACjB;AAEO,SAAS,iBAAiB,QAAgB;IAC/C,OAAO,OAAO,aAAa,YAAY,SAAS,MAAM,IAAI;AAC5D"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/auth/LoginForm.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nimport MuiButton from '@mui/material/Button';\nimport Alert from '@mui/material/Alert';\nimport AlertTitle from '@mui/material/AlertTitle';\nimport { validateEmail } from '@/features/auth/validators';\n\ntype Credentials = { email: string; phone: string; accessCode: string };\ntype Props = {\n  onSubmit: (creds: Credentials) => Promise<void> | void;\n};\n\nexport function LoginForm({ onSubmit }: Props) {\n  const [email, setEmail] = React.useState('');\n  const [phone, setPhone] = React.useState('');\n  const [accessCode, setAccessCode] = React.useState('');\n  const [errors, setErrors] = React.useState<{ email?: string; phone?: string; accessCode?: string }>({});\n  const [submitting, setSubmitting] = React.useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const nextErrors: { email?: string; phone?: string; accessCode?: string } = {};\n    if (!email) nextErrors.email = 'Required';\n    else if (!validateEmail(email)) nextErrors.email = 'Invalid email';\n    const phoneTrim = phone.trim();\n    const accessTrim = accessCode.trim();\n    if (!phoneTrim) nextErrors.phone = 'Required';\n    else if (!/^\\+?\\d+$/.test(phoneTrim)) nextErrors.phone = 'Phone must be digits only';\n    if (!accessTrim) nextErrors.accessCode = 'Required';\n    else if (!/^\\d+$/.test(accessTrim)) nextErrors.accessCode = 'Access code must be digits only';\n    setErrors(nextErrors);\n    if (Object.keys(nextErrors).length > 0) return;\n    try {\n      setSubmitting(true);\n      await onSubmit({ email: email.trim(), phone: phoneTrim, accessCode: accessTrim });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} noValidate>\n      <Stack spacing={2} sx={{ maxWidth: 480 }}>\n        {(errors.email || errors.phone || errors.accessCode) && (\n          <Alert severity=\"error\" data-testid=\"error-list\">\n            <AlertTitle>There were problems with your submission</AlertTitle>\n            <ul style={{ margin: 0, paddingInlineStart: 20 }}>\n              {errors.email && <li>Email: {errors.email}</li>}\n              {errors.phone && <li>Phone: {errors.phone}</li>}\n              {errors.accessCode && <li>Access Code: {errors.accessCode}</li>}\n            </ul>\n          </Alert>\n        )}\n        <TextField\n          label=\"Email\"\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          error={Boolean(errors.email)}\n          helperText={errors.email}\n        />\n        <TextField\n          label=\"Phone\"\n          type=\"tel\"\n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n          error={Boolean(errors.phone)}\n          helperText={errors.phone}\n        />\n        <TextField\n          label=\"Access Code\"\n          type=\"text\"\n          value={accessCode}\n          onChange={(e) => setAccessCode(e.target.value)}\n          error={Boolean(errors.accessCode)}\n          helperText={errors.accessCode}\n        />\n        <MuiButton type=\"submit\" variant=\"contained\" disabled={submitting}>\n          Sign in\n        </MuiButton>\n      </Stack>\n    </form>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;;AAcO,SAAS,UAAU,EAAE,QAAQ,EAAS;;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,wKAAK,CAAC,QAAQ,CAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,wKAAK,CAAC,QAAQ,CAAC;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,wKAAK,CAAC,QAAQ,CAAC;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,wKAAK,CAAC,QAAQ,CAA0D,CAAC;IACrG,MAAM,CAAC,YAAY,cAAc,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAEnD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,aAAsE,CAAC;QAC7E,IAAI,CAAC,OAAO,WAAW,KAAK,GAAG;aAC1B,IAAI,CAAC,IAAA,kJAAa,EAAC,QAAQ,WAAW,KAAK,GAAG;QACnD,MAAM,YAAY,MAAM,IAAI;QAC5B,MAAM,aAAa,WAAW,IAAI;QAClC,IAAI,CAAC,WAAW,WAAW,KAAK,GAAG;aAC9B,IAAI,CAAC,WAAW,IAAI,CAAC,YAAY,WAAW,KAAK,GAAG;QACzD,IAAI,CAAC,YAAY,WAAW,UAAU,GAAG;aACpC,IAAI,CAAC,QAAQ,IAAI,CAAC,aAAa,WAAW,UAAU,GAAG;QAC5D,UAAU;QACV,IAAI,OAAO,IAAI,CAAC,YAAY,MAAM,GAAG,GAAG;QACxC,IAAI;YACF,cAAc;YACd,MAAM,SAAS;gBAAE,OAAO,MAAM,IAAI;gBAAI,OAAO;gBAAW,YAAY;YAAW;QACjF,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,UAAU;kBACtC,cAAA,6LAAC,wKAAK;YAAC,SAAS;YAAG,IAAI;gBAAE,UAAU;YAAI;;gBACpC,CAAC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,OAAO,UAAU,mBACjD,6LAAC,wKAAK;oBAAC,UAAS;oBAAQ,eAAY;;sCAClC,6LAAC,kLAAU;sCAAC;;;;;;sCACZ,6LAAC;4BAAG,OAAO;gCAAE,QAAQ;gCAAG,oBAAoB;4BAAG;;gCAC5C,OAAO,KAAK,kBAAI,6LAAC;;wCAAG;wCAAQ,OAAO,KAAK;;;;;;;gCACxC,OAAO,KAAK,kBAAI,6LAAC;;wCAAG;wCAAQ,OAAO,KAAK;;;;;;;gCACxC,OAAO,UAAU,kBAAI,6LAAC;;wCAAG;wCAAc,OAAO,UAAU;;;;;;;;;;;;;;;;;;;8BAI/D,6LAAC,gLAAS;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,OAAO,QAAQ,OAAO,KAAK;oBAC3B,YAAY,OAAO,KAAK;;;;;;8BAE1B,6LAAC,gLAAS;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,OAAO,QAAQ,OAAO,KAAK;oBAC3B,YAAY,OAAO,KAAK;;;;;;8BAE1B,6LAAC,gLAAS;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oBAC7C,OAAO,QAAQ,OAAO,UAAU;oBAChC,YAAY,OAAO,UAAU;;;;;;8BAE/B,6LAAC,0KAAS;oBAAC,MAAK;oBAAS,SAAQ;oBAAY,UAAU;8BAAY;;;;;;;;;;;;;;;;;AAM3E;GAvEgB;KAAA"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/agencies.ts"],"sourcesContent":["const STORAGE_KEY = 'agencies_data';\n\nfunction readStore(): Agency[] {\n  if (typeof window === 'undefined') return [];\n  const raw = window.localStorage.getItem(STORAGE_KEY);\n  if (!raw) return [];\n  try {\n    return JSON.parse(raw) as Agency[];\n  } catch {\n    return [];\n  }\n}\n\nfunction writeStore(items: Agency[]) {\n  if (typeof window === 'undefined') return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n\nexport type AgencySettings = {\n  primaryColor?: string;\n  secondaryColor?: string;\n  logoDataUrl?: string;\n};\nexport type Agency = {\n  id: string;\n  name: string;\n  email: string;\n  password?: string;\n  ownerFirstName?: string;\n  ownerLastName?: string;\n  ownerEmail?: string;\n  ownerPhone?: string;\n  active?: boolean;\n  settings?: AgencySettings;\n};\n\nconst SEED_AGENCIES: Agency[] = [\n  { id: 'agency-001', name: 'Prime Sports', email: 'agency1@an.test', settings: { primaryColor: '#1976d2' } },\n  { id: 'agency-002', name: 'NextGen', email: 'agency2@an.test', settings: { primaryColor: '#9c27b0' } },\n  { id: 'agency-003', name: 'Elite Edge', email: 'agency3@an.test', settings: { primaryColor: '#2e7d32' } },\n];\n\nlet AGENCIES: Agency[] = (() => {\n  const fromStore = readStore();\n  if (fromStore.length > 0) return fromStore;\n  writeStore(SEED_AGENCIES);\n  return [...SEED_AGENCIES];\n})();\n\nexport { AGENCIES };\n\nexport async function listAgencies() {\n  return AGENCIES.map(a => ({ id: a.id, name: a.name }));\n}\n\nexport async function getAgencies() {\n  return [...AGENCIES];\n}\n\nexport async function getAgencyByEmail(email: string) {\n  return AGENCIES.find(a => a.email === email) ?? null;\n}\n\nexport async function getAgencyById(id: string) {\n  return AGENCIES.find(a => a.id === id) ?? null;\n}\n\nexport async function getAgencySettings(email: string) {\n  const a = AGENCIES.find(x => x.email === email);\n  return a?.settings ?? {};\n}\n\nexport async function updateAgencySettings(email: string, settings: AgencySettings) {\n  const a = AGENCIES.find(x => x.email === email);\n  if (!a) return { ok: false };\n  a.settings = { ...(a.settings ?? {}), ...settings };\n  writeStore(AGENCIES);\n  return { ok: true, settings: a.settings };\n}\n\ntype UpsertInput = Omit<Agency, 'id'> & { id?: string };\nexport async function upsertAgency(input: UpsertInput) {\n  if (input.id) {\n    const idx = AGENCIES.findIndex(a => a.id === input.id);\n    if (idx >= 0) {\n      AGENCIES[idx] = { ...AGENCIES[idx], ...input, id: input.id };\n      writeStore(AGENCIES);\n      return { id: input.id };\n    }\n  }\n  const id = `agency-${(Math.random() * 1e6).toFixed(0)}`;\n  AGENCIES.push({\n    id,\n    name: input.name,\n    email: input.email,\n    password: input.password,\n    ownerFirstName: input.ownerFirstName,\n    ownerLastName: input.ownerLastName,\n    ownerEmail: input.ownerEmail,\n    ownerPhone: input.ownerPhone,\n    active: input.active ?? true,\n    settings: input.settings ?? {},\n  });\n  writeStore(AGENCIES);\n  return { id };\n}\n\nexport async function deleteAgency(id: string) {\n  const idx = AGENCIES.findIndex(a => a.id === id);\n  if (idx >= 0) {\n    AGENCIES.splice(idx, 1);\n    writeStore(AGENCIES);\n    return { ok: true };\n  }\n  return { ok: false };\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/authGHL.ts"],"sourcesContent":["'use client';\n\nexport type GHLLoginResult =\n  | { ok: true; contact: { id: string; email: string; firstName?: string; lastName?: string; phone?: string; accessCode: string } }\n  | { ok: false; error: string };\n\nexport async function loginWithGHL(email: string, phone: string, accessCodeInput: string): Promise<GHLLoginResult> {\n  try {\n    const res = await fetch('/api/auth/ghl-login', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, phone, accessCode: accessCodeInput }),\n    });\n    const data = await res.json();\n    if (!res.ok || !data?.ok) {\n      return { ok: false, error: data?.error || 'Login failed' };\n    }\n    return { ok: true, contact: data.contact };\n  } catch (e: any) {\n    return { ok: false, error: e?.message || 'Login failed' };\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AAMO,eAAe,aAAa,KAAa,EAAE,KAAa,EAAE,eAAuB;IACtF,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,uBAAuB;YAC7C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;gBAAO,YAAY;YAAgB;QACnE;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,IAAI;YACxB,OAAO;gBAAE,IAAI;gBAAO,OAAO,MAAM,SAAS;YAAe;QAC3D;QACA,OAAO;YAAE,IAAI;YAAM,SAAS,KAAK,OAAO;QAAC;IAC3C,EAAE,OAAO,GAAQ;QACf,OAAO;YAAE,IAAI;YAAO,OAAO,GAAG,WAAW;QAAe;IAC1D;AACF"}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/auth/service.ts"],"sourcesContent":["import { getAgencyByEmail } from '@/services/agencies';\nimport { loginWithGHL } from '@/services/authGHL';\nexport type Session = {\n  role: 'parent' | 'agency';\n  agencyId?: string;\n  email: string;\n  agencyLogo?: string;\n  impersonatedBy?: { email: string; role: 'parent' };\n  contactId?: string;\n};\n\nexport async function login(input: { email: string; phone: string; accessCode: string }): Promise<Session> {\n  const result = await loginWithGHL(input.email.trim(), input.phone.trim(), input.accessCode.trim());\n  if (!result.ok) {\n    throw new Error(result.error);\n  }\n  const agency = await getAgencyByEmail(result.contact.email);\n  return {\n    role: 'agency',\n    email: result.contact.email,\n    agencyId: agency?.id,\n    contactId: result.contact.id,\n  };\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAUO,eAAe,MAAM,KAA2D;IACrF,MAAM,SAAS,MAAM,IAAA,sIAAY,EAAC,MAAM,KAAK,CAAC,IAAI,IAAI,MAAM,KAAK,CAAC,IAAI,IAAI,MAAM,UAAU,CAAC,IAAI;IAC/F,IAAI,CAAC,OAAO,EAAE,EAAE;QACd,MAAM,IAAI,MAAM,OAAO,KAAK;IAC9B;IACA,MAAM,SAAS,MAAM,IAAA,2IAAgB,EAAC,OAAO,OAAO,CAAC,KAAK;IAC1D,OAAO;QACL,MAAM;QACN,OAAO,OAAO,OAAO,CAAC,KAAK;QAC3B,UAAU,QAAQ;QAClB,WAAW,OAAO,OAAO,CAAC,EAAE;IAC9B;AACF"}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/marketing/MarketingHeader.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { AppBar, Toolbar, Box, Button, Container } from '@mui/material';\nimport Link from 'next/link';\nimport Image from 'next/image';\n\nexport function MarketingHeader() {\n  return (\n    <AppBar position=\"static\" color=\"inherit\" elevation={0} className=\"marketing-header\">\n      <Container>\n        <Toolbar disableGutters>\n          <Box className=\"marketing-logo\" sx={{ flex: 1, display: 'inline-flex', alignItems: 'center' }}>\n            <Image src=\"/marketing/logo.svg\" alt=\"Athlete Narrative\" width={120} height={28} />\n          </Box>\n          <Box>\n            <Button LinkComponent={Link} href=\"/auth/login\" color=\"inherit\">Sign in</Button>\n            <Button LinkComponent={Link} href=\"/auth/signup\" variant=\"contained\" sx={{ ml: 1 }}>Sign up</Button>\n          </Box>\n        </Toolbar>\n      </Container>\n    </AppBar>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;;;;;AAMO,SAAS;IACd,qBACE,6LAAC,8MAAM;QAAC,UAAS;QAAS,OAAM;QAAU,WAAW;QAAG,WAAU;kBAChE,cAAA,6LAAC,0NAAS;sBACR,cAAA,6LAAC,kNAAO;gBAAC,cAAc;;kCACrB,6LAAC,kMAAG;wBAAC,WAAU;wBAAiB,IAAI;4BAAE,MAAM;4BAAG,SAAS;4BAAe,YAAY;wBAAS;kCAC1F,cAAA,6LAAC,2IAAK;4BAAC,KAAI;4BAAsB,KAAI;4BAAoB,OAAO;4BAAK,QAAQ;;;;;;;;;;;kCAE/E,6LAAC,kMAAG;;0CACF,6LAAC,8MAAM;gCAAC,eAAe,0KAAI;gCAAE,MAAK;gCAAc,OAAM;0CAAU;;;;;;0CAChE,6LAAC,8MAAM;gCAAC,eAAe,0KAAI;gCAAE,MAAK;gCAAe,SAAQ;gCAAY,IAAI;oCAAE,IAAI;gCAAE;0CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhG;KAhBgB"}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/auth/login/page.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { LoginForm } from '@/features/auth/LoginForm';\nimport { login } from '@/features/auth/service';\nimport { useSession } from '@/features/auth/session';\nimport { useRouter } from 'next/navigation';\nimport { Box, Container, Typography, Paper } from '@mui/material';\nimport { MarketingHeader } from '@/features/marketing/MarketingHeader';\n\nexport default function LoginPage() {\n  const { setSession } = useSession();\n  const router = useRouter();\n  const [error, setError] = React.useState<string | null>(null);\n  const onSubmit = async (creds: { email: string; phone: string; accessCode: string }) => {\n    try {\n      setError(null);\n      const s = await login(creds);\n      setSession(s);\n      router.push('/dashboard');\n    } catch (e: any) {\n      setError(e?.message || 'Login failed');\n    }\n  };\n  return (\n    <>\n      <MarketingHeader />\n      <Box\n        sx={{\n          minHeight: '100vh',\n          bgcolor: '#121212',\n          color: '#fff',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          py: 8,\n        }}\n      >\n        <Container maxWidth=\"xs\" sx={{ display: 'flex', justifyContent: 'center' }}>\n          <Paper\n            data-testid=\"login-card\"\n            elevation={4}\n            sx={{\n              p: 4,\n              borderRadius: 2,\n              bgcolor: '#fff',\n              color: 'inherit',\n              width: '100%',\n              maxWidth: 420,\n            }}\n          >\n            <Typography variant=\"h4\" gutterBottom color=\"text.primary\">\n              Sign in\n            </Typography>\n            {error ? (\n              <Typography color=\"error\" sx={{ mb: 2 }}>\n                {error}\n              </Typography>\n            ) : null}\n            <LoginForm onSubmit={onSubmit} />\n          </Paper>\n        </Container>\n      </Box>\n    </>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AAPA;;;;;;;;AASe,SAAS;;IACtB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,6IAAU;IACjC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,wKAAK,CAAC,QAAQ,CAAgB;IACxD,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,SAAS;YACT,MAAM,IAAI,MAAM,IAAA,uIAAK,EAAC;YACtB,WAAW;YACX,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,GAAQ;YACf,SAAS,GAAG,WAAW;QACzB;IACF;IACA,qBACE;;0BACE,6LAAC,+JAAe;;;;;0BAChB,6LAAC,kMAAG;gBACF,IAAI;oBACF,WAAW;oBACX,SAAS;oBACT,OAAO;oBACP,SAAS;oBACT,YAAY;oBACZ,gBAAgB;oBAChB,IAAI;gBACN;0BAEA,cAAA,6LAAC,0NAAS;oBAAC,UAAS;oBAAK,IAAI;wBAAE,SAAS;wBAAQ,gBAAgB;oBAAS;8BACvE,cAAA,6LAAC,0MAAK;wBACJ,eAAY;wBACZ,WAAW;wBACX,IAAI;4BACF,GAAG;4BACH,cAAc;4BACd,SAAS;4BACT,OAAO;4BACP,OAAO;4BACP,UAAU;wBACZ;;0CAEA,6LAAC,8NAAU;gCAAC,SAAQ;gCAAK,YAAY;gCAAC,OAAM;0CAAe;;;;;;4BAG1D,sBACC,6LAAC,8NAAU;gCAAC,OAAM;gCAAQ,IAAI;oCAAE,IAAI;gCAAE;0CACnC;;;;;uCAED;0CACJ,6LAAC,8IAAS;gCAAC,UAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMjC;GAvDwB;;QACC,6IAAU;QAClB,kJAAS;;;KAFF"}}]
}