{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/ai/AICounselorGate.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport Alert from '@mui/material/Alert';\nimport { useTenant } from '@/tenancy/TenantContext';\n\nexport function AICounselorGate({ children }: { children: React.ReactNode }) {\n  const tenant = useTenant();\n  if (!tenant.flags.aiCounselor) {\n    return <Alert severity=\"info\">AI Counselor is disabled for this tenant</Alert>;\n  }\n  return <>{children}</>;\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKO,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;;IACzE,MAAM,SAAS,IAAA,yIAAS;IACxB,IAAI,CAAC,OAAO,KAAK,CAAC,WAAW,EAAE;QAC7B,qBAAO,6LAAC,wKAAK;YAAC,UAAS;sBAAO;;;;;;IAChC;IACA,qBAAO;kBAAG;;AACZ;GANgB;;QACC,yIAAS;;;KADV"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/config/index.ts"],"sourcesContent":["export type ServiceConfig = {\n  apiBaseUrl: string;\n};\n\nexport type TenantBrand = {\n  primary: string;\n  secondary: string;\n};\n\nexport type TenantRegistryEntry = {\n  id: string;\n  name: string;\n  brand: TenantBrand;\n  flags: Record<string, boolean>;\n  assets?: {\n    logo?: string;\n    favicon?: string;\n  };\n};\n\nexport type TenantRegistry = Record<string, TenantRegistryEntry>;\n\nlet cachedServiceConfig: ServiceConfig | null = null;\nlet cachedTenantRegistry: TenantRegistry | null = null;\n\nexport function getServiceConfig(): ServiceConfig {\n  if (cachedServiceConfig) return cachedServiceConfig;\n  // Single source of truth; override via env if needed\n  const apiBaseUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'https://api.example.com';\n  cachedServiceConfig = { apiBaseUrl };\n  return cachedServiceConfig;\n}\n\nexport function getTenantRegistry(): TenantRegistry {\n  if (cachedTenantRegistry) return cachedTenantRegistry;\n  cachedTenantRegistry = {\n    default: {\n      id: 'default',\n      name: 'AthleteNarrative',\n      brand: {\n        primary: '#1976d2',\n        secondary: '#9c27b0'\n      },\n      flags: {}\n    },\n    acme: {\n      id: 'acme',\n      name: 'Acme Athletics',\n      brand: {\n        primary: '#1976d2',\n        secondary: '#ff4081'\n      },\n      flags: {}\n    }\n  };\n  return cachedTenantRegistry;\n}\n\n\n"],"names":[],"mappings":";;;;;;AA4BqB;AANrB,IAAI,sBAA4C;AAChD,IAAI,uBAA8C;AAE3C,SAAS;IACd,IAAI,qBAAqB,OAAO;IAChC,qDAAqD;IACrD,MAAM,aAAa,2KAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI;IAC3D,sBAAsB;QAAE;IAAW;IACnC,OAAO;AACT;AAEO,SAAS;IACd,IAAI,sBAAsB,OAAO;IACjC,uBAAuB;QACrB,SAAS;YACP,IAAI;YACJ,MAAM;YACN,OAAO;gBACL,SAAS;gBACT,WAAW;YACb;YACA,OAAO,CAAC;QACV;QACA,MAAM;YACJ,IAAI;YACJ,MAAM;YACN,OAAO;gBACL,SAAS;gBACT,WAAW;YACb;YACA,OAAO,CAAC;QACV;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/http.ts"],"sourcesContent":["import { getServiceConfig } from '@/config';\n\ntype HttpMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\nexport async function http<T>(path: string, options: { method?: HttpMethod; body?: unknown; headers?: Record<string, string> } = {}): Promise<T> {\n  const { apiBaseUrl } = getServiceConfig();\n  const url = `${apiBaseUrl}${path}`;\n  const res = await fetch(url, {\n    method: options.method ?? 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      ...(options.headers ?? {})\n    },\n    body: options.body ? JSON.stringify(options.body) : undefined,\n    cache: 'no-store'\n  });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`HTTP ${res.status}: ${text || res.statusText}`);\n  }\n  return (await res.json()) as T;\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;;AAIO,eAAe,KAAQ,IAAY,EAAE,UAAqF,CAAC,CAAC;IACjI,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,sIAAgB;IACvC,MAAM,MAAM,GAAG,aAAa,MAAM;IAClC,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B,QAAQ,QAAQ,MAAM,IAAI;QAC1B,SAAS;YACP,gBAAgB;YAChB,GAAI,QAAQ,OAAO,IAAI,CAAC,CAAC;QAC3B;QACA,MAAM,QAAQ,IAAI,GAAG,KAAK,SAAS,CAAC,QAAQ,IAAI,IAAI;QACpD,OAAO;IACT;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAC1C,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,QAAQ,IAAI,UAAU,EAAE;IACjE;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/ai/service.ts"],"sourcesContent":["import { http } from '@/services/http';\nimport { z } from 'zod';\n\nconst AskSchema = z.object({\n  question: z.string().min(1)\n});\n\nexport type AskInput = z.infer<typeof AskSchema>;\n\nexport async function askCounselor(input: AskInput) {\n  const body = AskSchema.parse(input);\n  return http<{ answer: string }>('/ai/counselor', { method: 'POST', body });\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,YAAY,qLAAC,CAAC,MAAM,CAAC;IACzB,UAAU,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;AAC3B;AAIO,eAAe,aAAa,KAAe;IAChD,MAAM,OAAO,UAAU,KAAK,CAAC;IAC7B,OAAO,IAAA,2HAAI,EAAqB,iBAAiB;QAAE,QAAQ;QAAQ;IAAK;AAC1E"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/ai/AICounselor.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport Stack from '@mui/material/Stack';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Alert from '@mui/material/Alert';\nimport { askCounselor } from '@/features/ai/service';\n\nexport function AICounselor() {\n  const [question, setQuestion] = React.useState('');\n  const [answer, setAnswer] = React.useState<string | null>(null);\n  const [error, setError] = React.useState<string | null>(null);\n  const [loading, setLoading] = React.useState(false);\n\n  const onAsk = async () => {\n    setError(null);\n    setAnswer(null);\n    try {\n      setLoading(true);\n      const res = await askCounselor({ question });\n      setAnswer(res.answer);\n    } catch (e) {\n      setError('Failed to get answer');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Stack spacing={2} sx={{ maxWidth: 600 }}>\n      <TextField label=\"Question\" value={question} onChange={(e) => setQuestion(e.target.value)} />\n      {error && <Alert severity=\"error\">{error}</Alert>}\n      <Button variant=\"contained\" onClick={onAsk} disabled={loading || !question}>\n        Ask\n      </Button>\n      {answer && <Alert severity=\"success\">{answer}</Alert>}\n    </Stack>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAQO,SAAS;;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAC/C,MAAM,CAAC,QAAQ,UAAU,GAAG,wKAAK,CAAC,QAAQ,CAAgB;IAC1D,MAAM,CAAC,OAAO,SAAS,GAAG,wKAAK,CAAC,QAAQ,CAAgB;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAE7C,MAAM,QAAQ;QACZ,SAAS;QACT,UAAU;QACV,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,IAAA,4IAAY,EAAC;gBAAE;YAAS;YAC1C,UAAU,IAAI,MAAM;QACtB,EAAE,OAAO,GAAG;YACV,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC,wKAAK;QAAC,SAAS;QAAG,IAAI;YAAE,UAAU;QAAI;;0BACrC,6LAAC,gLAAS;gBAAC,OAAM;gBAAW,OAAO;gBAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;YACvF,uBAAS,6LAAC,wKAAK;gBAAC,UAAS;0BAAS;;;;;;0BACnC,6LAAC,0KAAM;gBAAC,SAAQ;gBAAY,SAAS;gBAAO,UAAU,WAAW,CAAC;0BAAU;;;;;;YAG3E,wBAAU,6LAAC,wKAAK;gBAAC,UAAS;0BAAW;;;;;;;;;;;;AAG5C;GA9BgB;KAAA"}}]
}