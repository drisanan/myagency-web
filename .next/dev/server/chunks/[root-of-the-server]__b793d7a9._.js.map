{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/api/google/oauth/url/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nconst SCOPES = ['https://www.googleapis.com/auth/gmail.compose'];\n\nexport async function GET(req: Request) {\n  const { searchParams } = new URL(req.url);\n  const clientId = searchParams.get('clientId') || '';\n\n  const { google } = await import('googleapis');\n  const oAuth2Client = new google.auth.OAuth2(\n    process.env.GOOGLE_CLIENT_ID,\n    process.env.GOOGLE_CLIENT_SECRET,\n    process.env.GOOGLE_REDIRECT_URI\n  );\n\n  const url = oAuth2Client.generateAuthUrl({\n    access_type: 'offline',\n    prompt: 'consent',\n    scope: SCOPES,\n    include_granted_scopes: true,\n    state: clientId,\n  });\n\n  // Log minimal, non-sensitive info\n  console.info('[gmail-oauth:url]', {\n    clientId,\n    hasRedirect: Boolean(process.env.GOOGLE_REDIRECT_URI),\n  });\n\n  return NextResponse.json({ url });\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,SAAS;IAAC;CAAgD;AAEzD,eAAe,IAAI,GAAY;IACpC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IACxC,MAAM,WAAW,aAAa,GAAG,CAAC,eAAe;IAEjD,MAAM,EAAE,MAAM,EAAE,GAAG;IACnB,MAAM,eAAe,IAAI,OAAO,IAAI,CAAC,MAAM,CACzC,QAAQ,GAAG,CAAC,gBAAgB,EAC5B,QAAQ,GAAG,CAAC,oBAAoB,EAChC,QAAQ,GAAG,CAAC,mBAAmB;IAGjC,MAAM,MAAM,aAAa,eAAe,CAAC;QACvC,aAAa;QACb,QAAQ;QACR,OAAO;QACP,wBAAwB;QACxB,OAAO;IACT;IAEA,kCAAkC;IAClC,QAAQ,IAAI,CAAC,qBAAqB;QAChC;QACA,aAAa,QAAQ,QAAQ,GAAG,CAAC,mBAAmB;IACtD;IAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE;IAAI;AACjC"}}]
}