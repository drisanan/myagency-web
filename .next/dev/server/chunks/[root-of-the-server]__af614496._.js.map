{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/api/ai/intro/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nconst INTRO_URL = 'https://sjdvjfu3u5eaukakzmqitoxtme0hvvqw.lambda-url.us-west-2.on.aws/';\n\nexport async function POST(req: Request) {\n  try {\n    const body = await req.json();\n    const upstream = await fetch(INTRO_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n    const text = await upstream.text();\n    if (!upstream.ok) {\n      return NextResponse.json({ error: `Upstream ${upstream.status}: ${text}` }, { status: 502 });\n    }\n    let data: any;\n    try {\n      data = JSON.parse(text);\n    } catch {\n      data = { intro: text };\n    }\n    if (data?.error) {\n      return NextResponse.json({ error: data.error }, { status: 502 });\n    }\n    return NextResponse.json({ intro: data.intro ?? '' });\n  } catch (e: any) {\n    return NextResponse.json({ error: e?.message || 'Proxy error' }, { status: 500 });\n  }\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY;AAEX,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,WAAW,MAAM,MAAM,WAAW;YACtC,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,UAAU;YACZ;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,CAAC,SAAS,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,MAAM;YAAC,GAAG;gBAAE,QAAQ;YAAI;QAC5F;QACA,IAAI;QACJ,IAAI;YACF,OAAO,KAAK,KAAK,CAAC;QACpB,EAAE,OAAM;YACN,OAAO;gBAAE,OAAO;YAAK;QACvB;QACA,IAAI,MAAM,OAAO;YACf,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,KAAK,KAAK;YAAC,GAAG;gBAAE,QAAQ;YAAI;QAChE;QACA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,KAAK,KAAK,IAAI;QAAG;IACrD,EAAE,OAAO,GAAQ;QACf,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,GAAG,WAAW;QAAc,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF"}}]
}