{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/authGHL.ts"],"sourcesContent":["'use server';\n\nconst bearerToken =\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2NhdGlvbl9pZCI6InNreFdlMVVIV29URXJURHBienFVIiwiY29tcGFueV9pZCI6IlFEQUxhVGNVQWNpNTdVT2hwaUVxIiwidmVyc2lvbiI6MSwiaWF0IjoxNjk0NzEyNDAzMDYzLCJzdWIiOiJ1c2VyX2lkIn0.N_UmYQr-Ls_THm8iYDBBEZI1_RKqZGlOUPI2t0ncfRE';\n\nconst accessCodeFieldId = 't6VuS58tw4n5DEfHTAmp';\n\nexport type GHLLoginResult =\n  | { ok: true; contact: { id: string; email: string; firstName?: string; lastName?: string; phone?: string; accessCode: string } }\n  | { ok: false; error: string };\n\nexport async function loginWithGHL(email: string, phone: string, accessCodeInput: string): Promise<GHLLoginResult> {\n  const encodedEmail = encodeURIComponent(email);\n  const encodedPhone = encodeURIComponent(phone);\n  const apiUrl = `https://rest.gohighlevel.com/v1/contacts/lookup?email=${encodedEmail}&phone=${encodedPhone}`;\n\n  const res = await fetch(apiUrl, {\n    headers: {\n      Authorization: `Bearer ${bearerToken}`,\n      'Content-Type': 'application/json',\n    },\n    cache: 'no-store',\n  });\n\n  if (!res.ok) return { ok: false, error: 'Lookup failed' };\n\n  const data = await res.json();\n  const contact = data?.contacts?.[0];\n  if (!contact) return { ok: false, error: 'Contact not found' };\n\n  const accessField = (contact.customField || []).find((f: any) => f.id === accessCodeFieldId);\n  const storedAccessCode = accessField?.value || '';\n  if (!storedAccessCode || storedAccessCode !== accessCodeInput) {\n    return { ok: false, error: 'Invalid access code' };\n  }\n\n  return {\n    ok: true,\n    contact: {\n      id: contact.id,\n      email: contact.email,\n      firstName: contact.firstName,\n      lastName: contact.lastName,\n      phone: contact.phone,\n      accessCode: storedAccessCode,\n    },\n  };\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA,MAAM,cACJ;AAEF,MAAM,oBAAoB;AAMnB,eAAe,aAAa,KAAa,EAAE,KAAa,EAAE,eAAuB;IACtF,MAAM,eAAe,mBAAmB;IACxC,MAAM,eAAe,mBAAmB;IACxC,MAAM,SAAS,CAAC,sDAAsD,EAAE,aAAa,OAAO,EAAE,cAAc;IAE5G,MAAM,MAAM,MAAM,MAAM,QAAQ;QAC9B,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,aAAa;YACtC,gBAAgB;QAClB;QACA,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QAAE,IAAI;QAAO,OAAO;IAAgB;IAExD,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,UAAU,MAAM,UAAU,CAAC,EAAE;IACnC,IAAI,CAAC,SAAS,OAAO;QAAE,IAAI;QAAO,OAAO;IAAoB;IAE7D,MAAM,cAAc,CAAC,QAAQ,WAAW,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;IAC1E,MAAM,mBAAmB,aAAa,SAAS;IAC/C,IAAI,CAAC,oBAAoB,qBAAqB,iBAAiB;QAC7D,OAAO;YAAE,IAAI;YAAO,OAAO;QAAsB;IACnD;IAEA,OAAO;QACL,IAAI;QACJ,SAAS;YACP,IAAI,QAAQ,EAAE;YACd,OAAO,QAAQ,KAAK;YACpB,WAAW,QAAQ,SAAS;YAC5B,UAAU,QAAQ,QAAQ;YAC1B,OAAO,QAAQ,KAAK;YACpB,YAAY;QACd;IACF;AACF;;;IApCsB;;AAAA,+OAAA"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/.next-internal/server/app/auth/login/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {loginWithGHL as '7082ae8be2a06385f53f5f02ae6f2178ef4b712919'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0]}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}}]
}