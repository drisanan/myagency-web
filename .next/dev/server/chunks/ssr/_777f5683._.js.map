{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/tenancy/TenantThemeProvider.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TenantThemeProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call TenantThemeProvider() from the server but TenantThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/tenancy/TenantThemeProvider.tsx <module evaluation>\",\n    \"TenantThemeProvider\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,sBAAsB,IAAA,wQAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,iEACA","ignoreList":[0]}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/tenancy/TenantThemeProvider.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TenantThemeProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call TenantThemeProvider() from the server but TenantThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/tenancy/TenantThemeProvider.tsx\",\n    \"TenantThemeProvider\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,sBAAsB,IAAA,wQAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,6CACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/config/index.ts"],"sourcesContent":["export type ServiceConfig = {\n  apiBaseUrl: string;\n};\n\nexport type TenantBrand = {\n  primary: string;\n  secondary: string;\n};\n\nexport type TenantRegistryEntry = {\n  id: string;\n  name: string;\n  brand: TenantBrand;\n  flags: Record<string, boolean>;\n  assets?: {\n    logo?: string;\n    favicon?: string;\n  };\n};\n\nexport type TenantRegistry = Record<string, TenantRegistryEntry>;\n\nlet cachedServiceConfig: ServiceConfig | null = null;\nlet cachedTenantRegistry: TenantRegistry | null = null;\n\nexport function getServiceConfig(): ServiceConfig {\n  if (cachedServiceConfig) return cachedServiceConfig;\n  // Single source of truth; hardwired to prod API base\n  const apiBaseUrl = 'https://iakaowunc5.execute-api.us-west-1.amazonaws.com';\n  cachedServiceConfig = { apiBaseUrl };\n  return cachedServiceConfig;\n}\n\nexport function getTenantRegistry(): TenantRegistry {\n  if (cachedTenantRegistry) return cachedTenantRegistry;\n  cachedTenantRegistry = {\n    default: {\n      id: 'default',\n      name: 'AthleteNarrative',\n      brand: {\n        primary: '#1976d2',\n        secondary: '#9c27b0'\n      },\n      flags: {\n        aiCounselor: true,\n        voiceInput: true,\n        voiceOutput: true,\n        recruiterEnabled: true,\n        clientsEnabled: true\n      }\n    },\n    acme: {\n      id: 'acme',\n      name: 'Acme Athletics',\n      brand: {\n        primary: '#1976d2',\n        secondary: '#ff4081'\n      },\n      flags: {\n        aiCounselor: true,\n        voiceInput: true,\n        voiceOutput: true,\n        recruiterEnabled: true,\n        clientsEnabled: true\n      }\n    }\n  };\n  return cachedTenantRegistry;\n}\n\n\n"],"names":[],"mappings":";;;;;;AAsBA,IAAI,sBAA4C;AAChD,IAAI,uBAA8C;AAE3C,SAAS;IACd,IAAI,qBAAqB,OAAO;IAChC,qDAAqD;IACrD,MAAM,aAAa;IACnB,sBAAsB;QAAE;IAAW;IACnC,OAAO;AACT;AAEO,SAAS;IACd,IAAI,sBAAsB,OAAO;IACjC,uBAAuB;QACrB,SAAS;YACP,IAAI;YACJ,MAAM;YACN,OAAO;gBACL,SAAS;gBACT,WAAW;YACb;YACA,OAAO;gBACL,aAAa;gBACb,YAAY;gBACZ,aAAa;gBACb,kBAAkB;gBAClB,gBAAgB;YAClB;QACF;QACA,MAAM;YACJ,IAAI;YACJ,MAAM;YACN,OAAO;gBACL,SAAS;gBACT,WAAW;YACb;YACA,OAAO;gBACL,aAAa;gBACb,YAAY;gBACZ,aAAa;gBACb,kBAAkB;gBAClB,gBAAgB;YAClB;QACF;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/tenancy/tenantResolver.ts"],"sourcesContent":["import { getTenantRegistry } from '@/config';\n\nexport function resolveTenantFromHost(hostname: string): string {\n  // e.g., acme.example.com -> acme\n  const parts = hostname.split('.').filter(Boolean);\n  if (parts.length > 2) {\n    return parts[0];\n  }\n  // if hostname is localhost or root domain, use default\n  return 'default';\n}\n\nexport function resolveTenantFromPath(pathname: string): string {\n  // /t/<tenantId>/... -> <tenantId>\n  const parts = pathname.split('/').filter(Boolean);\n  if (parts[0] === 't' && parts[1]) {\n    return parts[1];\n  }\n  return 'default';\n}\n\nexport function ensureKnownTenant(tenantId: string): string {\n  const reg = getTenantRegistry();\n  return reg[tenantId] ? tenantId : 'default';\n}\n\n\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,SAAS,sBAAsB,QAAgB;IACpD,iCAAiC;IACjC,MAAM,QAAQ,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IACzC,IAAI,MAAM,MAAM,GAAG,GAAG;QACpB,OAAO,KAAK,CAAC,EAAE;IACjB;IACA,uDAAuD;IACvD,OAAO;AACT;AAEO,SAAS,sBAAsB,QAAgB;IACpD,kCAAkC;IAClC,MAAM,QAAQ,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IACzC,IAAI,KAAK,CAAC,EAAE,KAAK,OAAO,KAAK,CAAC,EAAE,EAAE;QAChC,OAAO,KAAK,CAAC,EAAE;IACjB;IACA,OAAO;AACT;AAEO,SAAS,kBAAkB,QAAgB;IAChD,MAAM,MAAM,IAAA,oIAAiB;IAC7B,OAAO,GAAG,CAAC,SAAS,GAAG,WAAW;AACpC"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/tenancy/serverTenant.ts"],"sourcesContent":["import { headers } from 'next/headers';\nimport { getTenantRegistry } from '@/config';\nimport { ensureKnownTenant, resolveTenantFromHost, resolveTenantFromPath } from '@/tenancy/tenantResolver';\n\nexport async function getServerTenant() {\n  const hdrs = await headers();\n  const host = hdrs.get('host') || '';\n  const path = hdrs.get('x-invoke-path') || ''; // non-standard, may be empty; fallback to default\n\n  const fromHost = ensureKnownTenant(resolveTenantFromHost(host));\n  if (fromHost !== 'default') {\n    return getTenantRegistry()[fromHost];\n  }\n  const fromPath = ensureKnownTenant(resolveTenantFromPath(path));\n  return getTenantRegistry()[fromPath];\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe;IACpB,MAAM,OAAO,MAAM,IAAA,0IAAO;IAC1B,MAAM,OAAO,KAAK,GAAG,CAAC,WAAW;IACjC,MAAM,OAAO,KAAK,GAAG,CAAC,oBAAoB,IAAI,kDAAkD;IAEhG,MAAM,WAAW,IAAA,8IAAiB,EAAC,IAAA,kJAAqB,EAAC;IACzD,IAAI,aAAa,WAAW;QAC1B,OAAO,IAAA,oIAAiB,GAAE,CAAC,SAAS;IACtC;IACA,MAAM,WAAW,IAAA,8IAAiB,EAAC,IAAA,kJAAqB,EAAC;IACzD,OAAO,IAAA,oIAAiB,GAAE,CAAC,SAAS;AACtC"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/providers.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Providers = registerClientReference(\n    function() { throw new Error(\"Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/providers.tsx <module evaluation>\",\n    \"Providers\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,mDACA","ignoreList":[0]}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/providers.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Providers = registerClientReference(\n    function() { throw new Error(\"Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/providers.tsx\",\n    \"Providers\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,+BACA","ignoreList":[0]}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/layout.tsx"],"sourcesContent":["import React from 'react';\nimport type { Metadata } from 'next';\nimport { TenantThemeProvider } from '@/tenancy/TenantThemeProvider';\nimport { getServerTenant } from '@/tenancy/serverTenant';\nimport { Providers } from './providers';\n\nexport const metadata: Metadata = {\n  title: 'AthleteNarrative Web',\n  description: 'Multi-tenant white-label web app'\n};\n\nexport default async function RootLayout({ children }: { children: React.ReactNode }) {\n  const tenant = await getServerTenant();\n  return (\n    <html lang=\"en\">\n      <body>\n        <Providers>\n          <TenantThemeProvider tenant={tenant}>{children}</TenantThemeProvider>\n        </Providers>\n      </body>\n    </html>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;;;;;AAEO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;AACf;AAEe,eAAe,WAAW,EAAE,QAAQ,EAAiC;IAClF,MAAM,SAAS,MAAM,IAAA,0IAAe;IACpC,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC;sBACC,cAAA,8OAAC,8HAAS;0BACR,cAAA,8OAAC,sJAAmB;oBAAC,QAAQ;8BAAS;;;;;;;;;;;;;;;;;;;;;AAKhD"}}]
}