{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/audit.ts"],"sourcesContent":["export type AuditEventType = 'impersonation_start' | 'impersonation_end' | 'navigation' | 'action';\nexport type AuditEvent = {\n  id: string;\n  type: AuditEventType;\n  timestamp: number;\n  actorEmail: string;\n  actorRole: string;\n  targetAgencyEmail?: string;\n  details?: Record<string, any>;\n};\n\nconst STORAGE_KEY = 'audit_log';\n\nfunction readLog(): AuditEvent[] {\n  if (typeof window === 'undefined') return [];\n  const raw = window.localStorage.getItem(STORAGE_KEY);\n  if (!raw) return [];\n  try {\n    return JSON.parse(raw) as AuditEvent[];\n  } catch {\n    return [];\n  }\n}\n\nfunction writeLog(events: AuditEvent[]) {\n  if (typeof window === 'undefined') return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(events));\n}\n\nexport function logEvent(event: Omit<AuditEvent, 'id' | 'timestamp'>) {\n  const ev: AuditEvent = {\n    ...event,\n    id: `${Date.now()}-${Math.random().toString(36).slice(2)}`,\n    timestamp: Date.now(),\n  };\n  const current = readLog();\n  current.push(ev);\n  writeLog(current);\n  return ev.id;\n}\n\nexport function logImpersonationStart(parentEmail: string, agencyEmail: string) {\n  return logEvent({\n    type: 'impersonation_start',\n    actorEmail: parentEmail,\n    actorRole: 'parent',\n    targetAgencyEmail: agencyEmail,\n  });\n}\n\nexport function logImpersonationEnd(parentEmail: string, agencyEmail: string) {\n  return logEvent({\n    type: 'impersonation_end',\n    actorEmail: parentEmail,\n    actorRole: 'parent',\n    targetAgencyEmail: agencyEmail,\n  });\n}\n\nexport function listAuditLog(): AuditEvent[] {\n  return readLog();\n}\n\nexport function clearAuditLog() {\n  writeLog([]);\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAWA,MAAM,cAAc;AAEpB,SAAS;IACP,wCAAmC,OAAO,EAAE;;;IAC5C,MAAM;AAOR;AAEA,SAAS,SAAS,MAAoB;IACpC,wCAAmC;;;AAErC;AAEO,SAAS,SAAS,KAA2C;IAClE,MAAM,KAAiB;QACrB,GAAG,KAAK;QACR,IAAI,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,IAAI;QAC1D,WAAW,KAAK,GAAG;IACrB;IACA,MAAM,UAAU;IAChB,QAAQ,IAAI,CAAC;IACb,SAAS;IACT,OAAO,GAAG,EAAE;AACd;AAEO,SAAS,sBAAsB,WAAmB,EAAE,WAAmB;IAC5E,OAAO,SAAS;QACd,MAAM;QACN,YAAY;QACZ,WAAW;QACX,mBAAmB;IACrB;AACF;AAEO,SAAS,oBAAoB,WAAmB,EAAE,WAAmB;IAC1E,OAAO,SAAS;QACd,MAAM;QACN,YAAY;QACZ,WAAW;QACX,mBAAmB;IACrB;AACF;AAEO,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,SAAS,EAAE;AACb"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/tasks.ts"],"sourcesContent":["export type TaskStatus = 'todo' | 'in-progress' | 'done';\n\nexport type Task = {\n  id: string;\n  agencyEmail: string;\n  athleteId?: string | null;\n  title: string;\n  description?: string;\n  status: TaskStatus;\n  dueAt?: number; // ms epoch\n  createdAt: number;\n  updatedAt: number;\n};\n\nconst STORAGE_KEY = 'tasks_data';\n\nfunction readStore(): Task[] {\n  if (typeof window === 'undefined') return [];\n  const raw = window.localStorage.getItem(STORAGE_KEY);\n  if (!raw) return [];\n  try {\n    const parsed = JSON.parse(raw) as Task[];\n    return Array.isArray(parsed) ? parsed : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction writeStore(items: Task[]) {\n  if (typeof window === 'undefined') return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n\nlet TASKS: Task[] = readStore();\n\nexport function listTasks(input: { agencyEmail: string; athleteId?: string | null; status?: TaskStatus }) {\n  const { agencyEmail, athleteId, status } = input;\n  if (typeof window !== 'undefined') TASKS = readStore();\n  return TASKS.filter((t) => {\n    if (t.agencyEmail !== agencyEmail) return false;\n    if (athleteId && t.athleteId !== athleteId) return false;\n    if (status && t.status !== status) return false;\n    return true;\n  });\n}\n\nexport function createTask(input: {\n  agencyEmail: string;\n  athleteId?: string | null;\n  title: string;\n  description?: string;\n  status?: TaskStatus;\n  dueAt?: number;\n}) {\n  const now = Date.now();\n  const task: Task = {\n    id: `task-${now}-${Math.random().toString(36).slice(2, 8)}`,\n    agencyEmail: input.agencyEmail,\n    athleteId: input.athleteId || null,\n    title: input.title,\n    description: input.description,\n    status: input.status ?? 'todo',\n    dueAt: input.dueAt,\n    createdAt: now,\n    updatedAt: now,\n  };\n  TASKS.unshift(task);\n  writeStore(TASKS);\n  return task;\n}\n\nexport function updateTask(id: string, patch: Partial<Omit<Task, 'id' | 'agencyEmail' | 'createdAt'>>) {\n  const idx = TASKS.findIndex((t) => t.id === id);\n  if (idx < 0) return null;\n  const next: Task = { ...TASKS[idx], ...patch, updatedAt: Date.now() };\n  TASKS[idx] = next;\n  writeStore(TASKS);\n  return next;\n}\n\nexport function deleteTask(id: string) {\n  const idx = TASKS.findIndex((t) => t.id === id);\n  if (idx >= 0) {\n    TASKS.splice(idx, 1);\n    writeStore(TASKS);\n  }\n}\n\nexport function tasksDueSoon(tasks: Task[], withinMs = 24 * 60 * 60 * 1000) {\n  const now = Date.now();\n  return tasks.filter((t) => t.dueAt && t.status !== 'done' && t.dueAt - now <= withinMs && t.dueAt >= now);\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAcA,MAAM,cAAc;AAEpB,SAAS;IACP,wCAAmC,OAAO,EAAE;;;IAC5C,MAAM;AAQR;AAEA,SAAS,WAAW,KAAa;IAC/B,wCAAmC;;;AAErC;AAEA,IAAI,QAAgB;AAEb,SAAS,UAAU,KAA8E;IACtG,MAAM,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG;IAC3C;;IACA,OAAO,MAAM,MAAM,CAAC,CAAC;QACnB,IAAI,EAAE,WAAW,KAAK,aAAa,OAAO;QAC1C,IAAI,aAAa,EAAE,SAAS,KAAK,WAAW,OAAO;QACnD,IAAI,UAAU,EAAE,MAAM,KAAK,QAAQ,OAAO;QAC1C,OAAO;IACT;AACF;AAEO,SAAS,WAAW,KAO1B;IACC,MAAM,MAAM,KAAK,GAAG;IACpB,MAAM,OAAa;QACjB,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,GAAG,IAAI;QAC3D,aAAa,MAAM,WAAW;QAC9B,WAAW,MAAM,SAAS,IAAI;QAC9B,OAAO,MAAM,KAAK;QAClB,aAAa,MAAM,WAAW;QAC9B,QAAQ,MAAM,MAAM,IAAI;QACxB,OAAO,MAAM,KAAK;QAClB,WAAW;QACX,WAAW;IACb;IACA,MAAM,OAAO,CAAC;IACd,WAAW;IACX,OAAO;AACT;AAEO,SAAS,WAAW,EAAU,EAAE,KAA8D;IACnG,MAAM,MAAM,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5C,IAAI,MAAM,GAAG,OAAO;IACpB,MAAM,OAAa;QAAE,GAAG,KAAK,CAAC,IAAI;QAAE,GAAG,KAAK;QAAE,WAAW,KAAK,GAAG;IAAG;IACpE,KAAK,CAAC,IAAI,GAAG;IACb,WAAW;IACX,OAAO;AACT;AAEO,SAAS,WAAW,EAAU;IACnC,MAAM,MAAM,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5C,IAAI,OAAO,GAAG;QACZ,MAAM,MAAM,CAAC,KAAK;QAClB,WAAW;IACb;AACF;AAEO,SAAS,aAAa,KAAa,EAAE,WAAW,KAAK,KAAK,KAAK,IAAI;IACxE,MAAM,MAAM,KAAK,GAAG;IACpB,OAAO,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK,IAAI,EAAE,MAAM,KAAK,UAAU,EAAE,KAAK,GAAG,OAAO,YAAY,EAAE,KAAK,IAAI;AACvG"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/app-shell.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { Box, CssBaseline, AppBar, Toolbar, Typography, Drawer, List, ListItemButton, ListItemText, Button, Alert, Stack, Avatar, Badge, IconButton, Menu, MenuItem, Divider } from '@mui/material';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useSession } from '@/features/auth/session';\nimport { logImpersonationEnd } from '@/services/audit';\nimport { colors } from '@/theme/colors';\nimport { IoAppsOutline, IoBarbellOutline, IoFlaskOutline, IoClipboardOutline, IoSchoolOutline } from 'react-icons/io5';\nimport { IoNotificationsOutline } from 'react-icons/io5';\nimport { useQuery } from '@tanstack/react-query';\nimport { tasksDueSoon, Task } from '@/services/tasks';\nimport { listTasks } from '@/services/tasks';\nconst drawerWidth = 240;\n\nexport function AppShell({ children }: { children: React.ReactNode }) {\n  const { session, setSession } = useSession();\n  const pathname = usePathname();\n\n  const stopImpersonation = React.useCallback(() => {\n    if (typeof window === 'undefined') return;\n    const baseRaw = window.localStorage.getItem('session_impersonation_base');\n    if (session?.impersonatedBy && baseRaw) {\n      const base = JSON.parse(baseRaw);\n      logImpersonationEnd(base.email, session.email);\n      setSession(base);\n      window.localStorage.removeItem('session_impersonation_base');\n    }\n  }, [session, setSession]);\n\n  const navItemSx = {\n    width: 'calc(100% - 20px)', // leave 10px inset on each side\n    mx: '10px',\n    px: 1.25, // ~10px horizontal padding inside\n    color: colors.sidebarText,\n    borderRadius: '5px',\n    py: 0.5,\n    '&:hover': {\n      bgcolor: 'rgba(255, 255, 255, 0.04)',\n    },\n    '&.Mui-selected, &.Mui-selected:hover': {\n      bgcolor: colors.navActiveBg,\n      color: colors.navActiveText,\n    },\n    justifyContent: 'flex-start',\n  };\n\n  const navItems = [\n    { href: '/dashboard', label: 'Dashboard', icon: <IoAppsOutline /> },\n    ...(session?.role === 'parent' && !session?.impersonatedBy ? [{ href: '/agencies', label: 'Agencies', icon: <IoAppsOutline /> }] : []),\n    { href: '/clients', label: 'Athletes', icon: <IoBarbellOutline /> },\n    { href: '/ai/prompts', label: 'Prompts', icon: <IoFlaskOutline /> },\n    { href: '/lists', label: 'Lists', icon: <IoClipboardOutline /> },\n    { href: '/tasks', label: 'Tasks', icon: <IoClipboardOutline /> },\n    { href: '/recruiter', label: 'Recruiter', icon: <IoSchoolOutline /> },\n  ];\n\n  const tasksQuery = useQuery({\n    queryKey: ['nav-tasks', session?.email],\n    enabled: Boolean(session?.email),\n    queryFn: async () => {\n      if (!session?.email) return [] as Task[];\n      return listTasks({ agencyEmail: session.email });\n    },\n    staleTime: 30_000,\n  });\n\n  const allTasks = tasksQuery.data || [];\n  const openTasks = allTasks.filter((t) => t.status !== 'done');\n  const dueSoon = tasksDueSoon(allTasks);\n\n  const [bellAnchor, setBellAnchor] = React.useState<null | HTMLElement>(null);\n  const openBell = Boolean(bellAnchor);\n  const handleBellOpen = (e: React.MouseEvent<HTMLElement>) => setBellAnchor(e.currentTarget);\n  const handleBellClose = () => setBellAnchor(null);\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        minHeight: '100vh',\n        backgroundImage: 'url(/marketing/bg-an.png)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n      }}\n    >\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        sx={{\n          zIndex: (t) => t.zIndex.drawer + 1,\n          bgcolor: 'transparent',\n          boxShadow: 'none',\n          color: 'inherit',\n        }}\n      >\n        <Toolbar sx={{ justifyContent: 'space-between', px: 2 }}>\n          <Box sx={{ display: 'flex', alignItems: 'center', minHeight: 48 }}>\n            {session?.agencyLogo ? (\n              <img src={session.agencyLogo} alt=\"Agency Logo\" style={{ height: 32, objectFit: 'contain' }} />\n            ) : (\n              <img src=\"/marketing/an-logo.png\" alt=\"Athlete Narrative\" style={{ height: 32, objectFit: 'contain' }} />\n            )}\n          </Box>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n            {session?.impersonatedBy && (\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n                <Typography variant=\"body2\" sx={{ color: '#212636' }}>\n                  Impersonating {typeof session.impersonatedBy === 'string'\n                    ? session.impersonatedBy\n                    : session.impersonatedBy?.email || session.impersonatedBy?.name || 'another user'}\n                </Typography>\n                <Button color=\"inherit\" variant=\"outlined\" onClick={stopImpersonation}>Stop Impersonating</Button>\n              </Box>\n            )}\n            {session ? (\n              <Stack direction=\"row\" spacing={2} alignItems=\"center\">\n                <Badge color=\"primary\" badgeContent={openTasks.length || null} anchorOrigin={{ vertical: 'top', horizontal: 'left' }}>\n                  <IconButton color=\"inherit\" onClick={handleBellOpen} aria-label=\"Tasks alerts\">\n                    <Badge variant=\"dot\" color=\"error\" invisible={dueSoon.length === 0}>\n                      <IoNotificationsOutline size={20} />\n                    </Badge>\n                  </IconButton>\n                </Badge>\n                <Avatar sx={{ bgcolor: '#5D4AFB', width: 32, height: 32 }}>\n                  {(session.name || session.email || '?').charAt(0).toUpperCase()}\n                </Avatar>\n              </Stack>\n            ) : null}\n          </Box>\n        </Toolbar>\n      </AppBar>\n      <Menu anchorEl={bellAnchor} open={openBell} onClose={handleBellClose}>\n        <Box sx={{ px: 2, py: 1 }}>\n          <Typography variant=\"subtitle2\">Tasks</Typography>\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            {openTasks.length} open Â· {dueSoon.length} due soon\n          </Typography>\n        </Box>\n        <Divider />\n        {dueSoon.length === 0 ? (\n          <MenuItem disabled>No tasks due soon</MenuItem>\n        ) : (\n          dueSoon.slice(0, 5).map((t) => (\n            <MenuItem key={t.id} sx={{ whiteSpace: 'normal', alignItems: 'flex-start' }}>\n              <Box>\n                <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>{t.title}</Typography>\n                {t.dueAt ? (\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Due {new Date(t.dueAt).toLocaleString()}\n                  </Typography>\n                ) : null}\n              </Box>\n            </MenuItem>\n          ))\n        )}\n        {dueSoon.length > 5 ? <MenuItem disabled>+{dueSoon.length - 5} more</MenuItem> : null}\n      </Menu>\n      <Drawer\n        variant=\"permanent\"\n        sx={{\n          width: drawerWidth,\n          '& .MuiDrawer-paper': {\n            width: drawerWidth,\n            boxSizing: 'border-box',\n            bgcolor: colors.sidebarBg,\n            color: colors.sidebarText,\n          },\n        }}\n      >\n        <Toolbar />\n        <List sx={{ display: 'flex', flexDirection: 'column', gap: '5px', mt: 2.5 /* ~20px */ }}>\n          {navItems.map((item) => {\n            const selected = pathname === item.href || pathname?.startsWith(`${item.href}/`);\n            return (\n              <ListItemButton\n                key={item.href}\n                LinkComponent={Link}\n                href={item.href}\n                sx={navItemSx}\n                selected={selected}\n              >\n                <Stack direction=\"row\" spacing={2} alignItems=\"center\">\n                  {item.icon}\n                  <ListItemText primary={item.label} />\n                </Stack>\n              </ListItemButton>\n            );\n          })}\n        </List>\n      </Drawer>\n      <Box\n        component=\"main\"\n        sx={{\n          flexGrow: 1,\n          p: 3,\n        }}\n      >\n        <Toolbar />\n        {session?.impersonatedBy && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            You are impersonating agency account: {session.email}. Actions will be logged.\n          </Alert>\n        )}\n        {children}\n      </Box>\n    </Box>\n  );\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 732, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/%28app%29/guard.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useSession } from '@/features/auth/session';\n\nexport function AuthGuard({ children }: { children: React.ReactNode }) {\n  const { session, loading } = useSession();\n  const router = useRouter();\n  React.useEffect(() => { if (!loading && !session) router.replace('/auth/login'); }, [loading, session, router]);\n  if (loading) return null;\n  return <>{children}</>;\n}\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,0IAAU;IACvC,MAAM,SAAS,IAAA,+IAAS;IACxB,gNAAK,CAAC,SAAS,CAAC;QAAQ,IAAI,CAAC,WAAW,CAAC,SAAS,OAAO,OAAO,CAAC;IAAgB,GAAG;QAAC;QAAS;QAAS;KAAO;IAC9G,IAAI,SAAS,OAAO;IACpB,qBAAO;kBAAG;;AACZ"}}]
}