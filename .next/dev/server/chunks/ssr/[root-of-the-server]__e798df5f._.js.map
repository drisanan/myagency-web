{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/services/commitsScraper.ts"],"sourcesContent":["import fetch from 'node-fetch';\n// lightweight cheerio import (installed in dev deps)\nimport * as cheerio from 'cheerio';\n\nexport type ScrapedCommit = {\n  id: string;\n  rank?: number;\n  name: string;\n  position?: string;\n  university?: string;\n  logo?: string;\n  commitDate?: string;\n  classYear?: string;\n};\n\nasync function scrapeESPNClass(year: string): Promise<ScrapedCommit[]> {\n  const url = `https://www.espn.com/college-sports/football/recruiting/rankings/scnext300boys/_/view/rn300?class=${year}`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error(`Failed to fetch ESPN ${year}: ${res.status}`);\n  const html = await res.text();\n  const $ = cheerio.load(html);\n  const rows: ScrapedCommit[] = [];\n\n  $('tbody tr').each((_: any, el: any) => {\n    const cols = $(el).find('td');\n    const rank = parseInt($(cols[0]).text().trim(), 10);\n    const name = $(cols[1]).text().trim();\n    const position = $(cols[2]).text().trim();\n    const school = $(cols[3]).text().trim();\n    const logo = $(cols[3]).find('img').attr('src') || '';\n    if (name) {\n      rows.push({\n        id: `fb-top-${year}-${rank || rows.length + 1}`,\n        rank: isNaN(rank) ? undefined : rank,\n        name,\n        position,\n        university: school || undefined,\n        logo: logo || undefined,\n        classYear: year,\n      });\n    }\n  });\n  return rows;\n}\n\nexport async function scrapeFootballTop(): Promise<ScrapedCommit[]> {\n  const classes = ['2026', '2027'];\n  const all: ScrapedCommit[] = [];\n  for (const yr of classes) {\n    try {\n      const rows = await scrapeESPNClass(yr);\n      all.push(...rows);\n    } catch (e) {\n      // continue\n    }\n  }\n  const sorted = all.sort((a, b) => (a.rank ?? 9999) - (b.rank ?? 9999));\n  return sorted.slice(0, 50);\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;;;;;;;;AAeA,eAAe,gBAAgB,IAAY;IACzC,MAAM,MAAM,CAAC,kGAAkG,EAAE,MAAM;IACvH,MAAM,MAAM,MAAM,IAAA,wKAAK,EAAC;IACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,KAAK,EAAE,EAAE,IAAI,MAAM,EAAE;IAC1E,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,IAAI,QAAQ,IAAI,CAAC;IACvB,MAAM,OAAwB,EAAE;IAEhC,EAAE,YAAY,IAAI,CAAC,CAAC,GAAQ;QAC1B,MAAM,OAAO,EAAE,IAAI,IAAI,CAAC;QACxB,MAAM,OAAO,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,GAAG,IAAI,IAAI;QAChD,MAAM,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,GAAG,IAAI;QACnC,MAAM,WAAW,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,GAAG,IAAI;QACvC,MAAM,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,GAAG,IAAI;QACrC,MAAM,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,IAAI,CAAC,UAAU;QACnD,IAAI,MAAM;YACR,KAAK,IAAI,CAAC;gBACR,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,QAAQ,KAAK,MAAM,GAAG,GAAG;gBAC/C,MAAM,MAAM,QAAQ,YAAY;gBAChC;gBACA;gBACA,YAAY,UAAU;gBACtB,MAAM,QAAQ;gBACd,WAAW;YACb;QACF;IACF;IACA,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,UAAU;QAAC;QAAQ;KAAO;IAChC,MAAM,MAAuB,EAAE;IAC/B,KAAK,MAAM,MAAM,QAAS;QACxB,IAAI;YACF,MAAM,OAAO,MAAM,gBAAgB;YACnC,IAAI,IAAI,IAAI;QACd,EAAE,OAAO,GAAG;QACV,WAAW;QACb;IACF;IACA,MAAM,SAAS,IAAI,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,IAAI;IACpE,OAAO,OAAO,KAAK,CAAC,GAAG;AACzB"}}]
}