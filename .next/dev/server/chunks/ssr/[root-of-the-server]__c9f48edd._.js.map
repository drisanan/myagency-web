{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/auth/validators.ts"],"sourcesContent":["export function validateEmail(email: string): boolean {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n}\n\nexport function validatePassword(password: string): boolean {\n  return typeof password === 'string' && password.length >= 8;\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,cAAc,KAAa;IACzC,MAAM,KAAK;IACX,OAAO,GAAG,IAAI,CAAC;AACjB;AAEO,SAAS,iBAAiB,QAAgB;IAC/C,OAAO,OAAO,aAAa,YAAY,SAAS,MAAM,IAAI;AAC5D"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/auth/LoginForm.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nimport MuiButton from '@mui/material/Button';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\nimport AlertTitle from '@mui/material/AlertTitle';\nimport { validateEmail } from '@/features/auth/validators';\n\ntype Credentials = { email: string; phone: string; accessCode: string };\ntype Props = {\n  onSubmit: (creds: Credentials) => Promise<void> | void;\n};\n\nexport function LoginForm({ onSubmit }: Props) {\n  const [email, setEmail] = React.useState('');\n  const [phone, setPhone] = React.useState('');\n  const [accessCode, setAccessCode] = React.useState('');\n  const [errors, setErrors] = React.useState<{ email?: string; phone?: string; accessCode?: string }>({});\n  const [submitting, setSubmitting] = React.useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const nextErrors: { email?: string; phone?: string; accessCode?: string } = {};\n    if (!email) nextErrors.email = 'Required';\n    else if (!validateEmail(email)) nextErrors.email = 'Invalid email';\n    const phoneTrim = phone.trim();\n    const accessTrim = accessCode.trim();\n    if (!phoneTrim) nextErrors.phone = 'Required';\n    else if (!/^\\+?\\d+$/.test(phoneTrim)) nextErrors.phone = 'Phone must be digits only';\n    if (!accessTrim) nextErrors.accessCode = 'Required';\n    else if (!/^\\d+$/.test(accessTrim)) nextErrors.accessCode = 'Access code must be digits only';\n    setErrors(nextErrors);\n    if (Object.keys(nextErrors).length > 0) return;\n    try {\n      setSubmitting(true);\n      await onSubmit({ email: email.trim(), phone: phoneTrim, accessCode: accessTrim });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} noValidate>\n      <Stack spacing={2} sx={{ maxWidth: 480 }}>\n        {(errors.email || errors.phone || errors.accessCode) && (\n          <Alert severity=\"error\" data-testid=\"error-list\">\n            <AlertTitle>There were problems with your submission</AlertTitle>\n            <ul style={{ margin: 0, paddingInlineStart: 20 }}>\n              {errors.email && <li>Email: {errors.email}</li>}\n              {errors.phone && <li>Phone: {errors.phone}</li>}\n              {errors.accessCode && <li>Access Code: {errors.accessCode}</li>}\n            </ul>\n          </Alert>\n        )}\n        <TextField\n          label=\"Email\"\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          error={Boolean(errors.email)}\n          helperText={errors.email}\n        />\n        <TextField\n          label=\"Phone\"\n          type=\"tel\"\n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n          error={Boolean(errors.phone)}\n          helperText={errors.phone}\n        />\n        <TextField\n          label=\"Access Code\"\n          type=\"text\"\n          value={accessCode}\n          onChange={(e) => setAccessCode(e.target.value)}\n          error={Boolean(errors.accessCode)}\n          helperText={errors.accessCode}\n        />\n        <MuiButton\n          type=\"submit\"\n          variant=\"contained\"\n          disabled={submitting}\n          data-testid=\"login-submit\"\n          startIcon={submitting ? <CircularProgress size={18} data-testid=\"login-spinner\" /> : null}\n        >\n          {submitting ? 'Signing inâ€¦' : 'Sign in'}\n        </MuiButton>\n      </Stack>\n    </form>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;;AAeO,SAAS,UAAU,EAAE,QAAQ,EAAS;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,gNAAK,CAAC,QAAQ,CAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,gNAAK,CAAC,QAAQ,CAAC;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,gNAAK,CAAC,QAAQ,CAAC;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,gNAAK,CAAC,QAAQ,CAA0D,CAAC;IACrG,MAAM,CAAC,YAAY,cAAc,GAAG,gNAAK,CAAC,QAAQ,CAAC;IAEnD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,aAAsE,CAAC;QAC7E,IAAI,CAAC,OAAO,WAAW,KAAK,GAAG;aAC1B,IAAI,CAAC,IAAA,+IAAa,EAAC,QAAQ,WAAW,KAAK,GAAG;QACnD,MAAM,YAAY,MAAM,IAAI;QAC5B,MAAM,aAAa,WAAW,IAAI;QAClC,IAAI,CAAC,WAAW,WAAW,KAAK,GAAG;aAC9B,IAAI,CAAC,WAAW,IAAI,CAAC,YAAY,WAAW,KAAK,GAAG;QACzD,IAAI,CAAC,YAAY,WAAW,UAAU,GAAG;aACpC,IAAI,CAAC,QAAQ,IAAI,CAAC,aAAa,WAAW,UAAU,GAAG;QAC5D,UAAU;QACV,IAAI,OAAO,IAAI,CAAC,YAAY,MAAM,GAAG,GAAG;QACxC,IAAI;YACF,cAAc;YACd,MAAM,SAAS;gBAAE,OAAO,MAAM,IAAI;gBAAI,OAAO;gBAAW,YAAY;YAAW;QACjF,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,UAAU;kBACtC,cAAA,8OAAC,qKAAK;YAAC,SAAS;YAAG,IAAI;gBAAE,UAAU;YAAI;;gBACpC,CAAC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,OAAO,UAAU,mBACjD,8OAAC,qKAAK;oBAAC,UAAS;oBAAQ,eAAY;;sCAClC,8OAAC,+KAAU;sCAAC;;;;;;sCACZ,8OAAC;4BAAG,OAAO;gCAAE,QAAQ;gCAAG,oBAAoB;4BAAG;;gCAC5C,OAAO,KAAK,kBAAI,8OAAC;;wCAAG;wCAAQ,OAAO,KAAK;;;;;;;gCACxC,OAAO,KAAK,kBAAI,8OAAC;;wCAAG;wCAAQ,OAAO,KAAK;;;;;;;gCACxC,OAAO,UAAU,kBAAI,8OAAC;;wCAAG;wCAAc,OAAO,UAAU;;;;;;;;;;;;;;;;;;;8BAI/D,8OAAC,6KAAS;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,OAAO,QAAQ,OAAO,KAAK;oBAC3B,YAAY,OAAO,KAAK;;;;;;8BAE1B,8OAAC,6KAAS;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,OAAO,QAAQ,OAAO,KAAK;oBAC3B,YAAY,OAAO,KAAK;;;;;;8BAE1B,8OAAC,6KAAS;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oBAC7C,OAAO,QAAQ,OAAO,UAAU;oBAChC,YAAY,OAAO,UAAU;;;;;;8BAE/B,8OAAC,uKAAS;oBACR,MAAK;oBACL,SAAQ;oBACR,UAAU;oBACV,eAAY;oBACZ,WAAW,2BAAa,8OAAC,2LAAgB;wBAAC,MAAM;wBAAI,eAAY;;;;;iCAAqB;8BAEpF,aAAa,gBAAgB;;;;;;;;;;;;;;;;;AAKxC"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/features/marketing/MarketingHeader.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { AppBar, Toolbar, Box, Button, Container } from '@mui/material';\nimport Link from 'next/link';\nimport Image from 'next/image';\n\nexport function MarketingHeader() {\n  return (\n    <AppBar position=\"static\" color=\"inherit\" elevation={0} className=\"marketing-header\">\n      <Container>\n        <Toolbar disableGutters>\n          <Box className=\"marketing-logo\" sx={{ flex: 1, display: 'inline-flex', alignItems: 'center' }}>\n            <Image src=\"/marketing/logo.svg\" alt=\"Athlete Narrative\" width={120} height={28} />\n          </Box>\n          <Box>\n            <Button LinkComponent={Link} href=\"/auth/login\" color=\"inherit\">Sign in</Button>\n            <Button LinkComponent={Link} href=\"/auth/signup\" variant=\"contained\" sx={{ ml: 1 }}>Sign up</Button>\n          </Box>\n        </Toolbar>\n      </Container>\n    </AppBar>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;;;;;AAMO,SAAS;IACd,qBACE,8OAAC,2MAAM;QAAC,UAAS;QAAS,OAAM;QAAU,WAAW;QAAG,WAAU;kBAChE,cAAA,8OAAC,uNAAS;sBACR,cAAA,8OAAC,+MAAO;gBAAC,cAAc;;kCACrB,8OAAC,+LAAG;wBAAC,WAAU;wBAAiB,IAAI;4BAAE,MAAM;4BAAG,SAAS;4BAAe,YAAY;wBAAS;kCAC1F,cAAA,8OAAC,wIAAK;4BAAC,KAAI;4BAAsB,KAAI;4BAAoB,OAAO;4BAAK,QAAQ;;;;;;;;;;;kCAE/E,8OAAC,+LAAG;;0CACF,8OAAC,2MAAM;gCAAC,eAAe,uKAAI;gCAAE,MAAK;gCAAc,OAAM;0CAAU;;;;;;0CAChE,8OAAC,2MAAM;gCAAC,eAAe,uKAAI;gCAAE,MAAK;gCAAe,SAAQ;gCAAY,IAAI;oCAAE,IAAI;gCAAE;0CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhG"}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrjames/Desktop/athletenarrative/web/web-app/app/auth/login/page.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { LoginForm } from '@/features/auth/LoginForm';\nimport { login } from '@/features/auth/service';\nimport { useSession } from '@/features/auth/session';\nimport { useRouter } from 'next/navigation';\nimport { Box, Container, Typography, Paper } from '@mui/material';\nimport { MarketingHeader } from '@/features/marketing/MarketingHeader';\n\nexport default function LoginPage() {\n  const { setSession } = useSession();\n  const router = useRouter();\n  const [error, setError] = React.useState<string | null>(null);\n  const onSubmit = async (creds: { email: string; phone: string; accessCode: string }) => {\n    try {\n      setError(null);\n      const s = await login(creds);\n      setSession(s);\n      router.push('/dashboard');\n    } catch (e: any) {\n      setError(e?.message || 'Login failed');\n    }\n  };\n  return (\n    <>\n      <MarketingHeader />\n      <Box\n        sx={{\n          minHeight: '100vh',\n          bgcolor: '#121212',\n          color: '#fff',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          py: 8,\n        }}\n      >\n        <Container maxWidth=\"xs\" sx={{ display: 'flex', justifyContent: 'center' }}>\n          <Paper\n            data-testid=\"login-card\"\n            elevation={4}\n            sx={{\n              p: 4,\n              borderRadius: 2,\n              bgcolor: '#fff',\n              color: 'inherit',\n              width: '100%',\n              maxWidth: 420,\n            }}\n          >\n            <Typography variant=\"h4\" gutterBottom color=\"text.primary\">\n              Sign in\n            </Typography>\n            {error ? (\n              <Typography color=\"error\" sx={{ mb: 2 }}>\n                {error}\n              </Typography>\n            ) : null}\n            <LoginForm onSubmit={onSubmit} />\n          </Paper>\n        </Container>\n      </Box>\n    </>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAPA;;;;;;;;;AASe,SAAS;IACtB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,0IAAU;IACjC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,gNAAK,CAAC,QAAQ,CAAgB;IACxD,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,SAAS;YACT,MAAM,IAAI,MAAM,IAAA,oIAAK,EAAC;YACtB,WAAW;YACX,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,GAAQ;YACf,SAAS,GAAG,WAAW;QACzB;IACF;IACA,qBACE;;0BACE,8OAAC,4JAAe;;;;;0BAChB,8OAAC,+LAAG;gBACF,IAAI;oBACF,WAAW;oBACX,SAAS;oBACT,OAAO;oBACP,SAAS;oBACT,YAAY;oBACZ,gBAAgB;oBAChB,IAAI;gBACN;0BAEA,cAAA,8OAAC,uNAAS;oBAAC,UAAS;oBAAK,IAAI;wBAAE,SAAS;wBAAQ,gBAAgB;oBAAS;8BACvE,cAAA,8OAAC,uMAAK;wBACJ,eAAY;wBACZ,WAAW;wBACX,IAAI;4BACF,GAAG;4BACH,cAAc;4BACd,SAAS;4BACT,OAAO;4BACP,OAAO;4BACP,UAAU;wBACZ;;0CAEA,8OAAC,2NAAU;gCAAC,SAAQ;gCAAK,YAAY;gCAAC,OAAM;0CAAe;;;;;;4BAG1D,sBACC,8OAAC,2NAAU;gCAAC,OAAM;gCAAQ,IAAI;oCAAE,IAAI;gCAAE;0CACnC;;;;;uCAED;0CACJ,8OAAC,2IAAS;gCAAC,UAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMjC"}}]
}