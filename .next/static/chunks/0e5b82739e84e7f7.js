(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32963,e=>{"use strict";var t=e.i(67719);e.s(["Paper",()=>t.default])},96928,e=>{"use strict";var t=e.i(71645);e.s(["default",0,function(e,a){return t.isValidElement(e)&&-1!==a.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)}],96928)},69437,e=>{"use strict";var t=e.i(36151);e.s(["TextField",()=>t.default])},89106,e=>{"use strict";let t,a="agencies_data";function r(e){window.localStorage.setItem(a,JSON.stringify(e))}let i=[{id:"agency-001",name:"Prime Sports",email:"agency1@an.test",settings:{primaryColor:"#1976d2"}},{id:"agency-002",name:"NextGen",email:"agency2@an.test",settings:{primaryColor:"#9c27b0"}},{id:"agency-003",name:"Elite Edge",email:"agency3@an.test",settings:{primaryColor:"#2e7d32"}}],o=(t=function(){let e=window.localStorage.getItem(a);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}()).length>0?t:(r(i),[...i]);async function l(){return o.map(e=>({id:e.id,name:e.name}))}async function n(){return[...o]}async function s(e){return o.find(t=>t.email===e)??null}async function d(e){return o.find(t=>t.id===e)??null}async function c(e){if(e.id){let t=o.findIndex(t=>t.id===e.id);if(t>=0)return o[t]={...o[t],...e,id:e.id},r(o),{id:e.id}}let t=`agency-${(1e6*Math.random()).toFixed(0)}`;return o.push({id:t,name:e.name,email:e.email,password:e.password,ownerFirstName:e.ownerFirstName,ownerLastName:e.ownerLastName,ownerEmail:e.ownerEmail,ownerPhone:e.ownerPhone,active:e.active??!0,settings:e.settings??{}}),r(o),{id:t}}e.s(["getAgencies",()=>n,"getAgencyByEmail",()=>s,"getAgencyById",()=>d,"listAgencies",()=>l,"upsertAgency",()=>c])},90349,e=>{"use strict";e.i(89106);let t="clients_data",a=new Date,r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),5)).toISOString(),i=new Date(Date.UTC(a.getFullYear(),a.getMonth()-1,12)).toISOString(),o=[{id:"ag1-c1",email:"a1@athletes.test",firstName:"Ava",lastName:"Smith",sport:"Football",agencyEmail:"agency1@an.test",createdAt:r},{id:"ag1-c2",email:"a2@athletes.test",firstName:"Ben",lastName:"Jones",sport:"Basketball",agencyEmail:"agency1@an.test",createdAt:r},{id:"ag1-c3",email:"a3@athletes.test",firstName:"Chloe",lastName:"Diaz",sport:"Soccer",agencyEmail:"agency1@an.test",createdAt:i},{id:"ag2-c1",email:"b1@athletes.test",firstName:"Cara",lastName:"Lee",sport:"Baseball",agencyEmail:"agency2@an.test",createdAt:i},{id:"ag3-c1",email:"c1@athletes.test",firstName:"Dan",lastName:"Kim",sport:"Soccer",agencyEmail:"agency3@an.test",createdAt:i},{id:"ag3-c2",email:"c2@athletes.test",firstName:"Eli",lastName:"Moore",sport:"Football",agencyEmail:"agency3@an.test",createdAt:i}];function l(){let e=window.localStorage.getItem(t);if(!e)return[...o];try{let t=JSON.parse(e);return t.length?t:[...o]}catch{return[...o]}}function n(e){window.localStorage.setItem(t,JSON.stringify(e))}let s=l();async function d(e){return(s=l()).filter(t=>t.agencyEmail===e)}async function c(e){let t=e.id??`c-${(1e6*Math.random()).toFixed(0)}`,a=s.findIndex(e=>e.id===t);console.debug("[clients] upsertClient payload",e);let r=e.createdAt??s[a]?.createdAt??new Date().toISOString(),i={...s[a],...e,id:t,createdAt:r};return a>=0?s[a]=i:s.push(i),n(s),i}async function u(e){s=l();try{let a=window.localStorage.getItem(t);if(a){let t=JSON.parse(a),r=t.find(t=>t.id===e);if(r)return s=t,r}}catch{}let a=s.find(t=>t.id===e);return a||(a=(s=l()).find(t=>t.id===e)),a??{id:e,email:"athlete1@example.com",firstName:"A1",lastName:"L1",sport:"Football",agencyEmail:""}}async function p(e){let t=s.findIndex(t=>t.id===e);return t>=0&&(s.splice(t,1),n(s)),{ok:!0}}async function f(){let e=window.localStorage.getItem("session");if(e)try{let t=JSON.parse(e);if("agency"===t.role){let e=await d(t.email);return console.debug("[clients] getClients list size",e.length),e}}catch{}return[]}function m(e,t){let a=s.findIndex(t=>t.id===e);a>=0&&(s[a]={...s[a],gmailTokens:t,gmailConnected:!0},n(s))}function h(e){let t=s.find(t=>t.id===e);return t?.gmailTokens??null}e.s(["deleteClient",()=>p,"getClient",()=>u,"getClientGmailTokens",()=>h,"getClients",()=>f,"listClientsByAgencyEmail",()=>d,"setClientGmailTokens",()=>m,"upsertClient",()=>c])},93641,e=>{"use strict";let t={Football:["D1","D1AA","D2","D3","JUCO","NAIA"],Baseball:["D1","D2","D3","JUCO","NAIA"],Softball:["D1","D2","D3","JUCO","NAIA"],WomensSoccer:["D1","D2","D3","JUCO","NAIA"],MensSoccer:["D1","D2","D3","JUCO","NAIA"],MensBasketball:["D1","D2","D3","JUCO","NAIA"],WomensBasketball:["D1","D2","D3","JUCO","NAIA"],WomensTrack:["D1","D2","D3","JUCO","NAIA"],WomensVolleyball:["D1","D2","D3","JUCO","NAIA"],WomensSwimming:["D1","D2","D3","JUCO","NAIA"],MensTrack:["D1","D2","D3","JUCO","NAIA"],MensSwimming:["D1","D2","D3","JUCO","NAIA"],WomensTennis:["D1","D2","D3","JUCO","NAIA"],MensTennis:["D1","D2","D3","JUCO","NAIA"],Dance:["D1","D2","D3","JUCO","NAIA"],MensGymnastics:["D1","D2","D3","JUCO","NAIA"],WomensGymnastics:["D1","D2","D3","JUCO","NAIA"],MensHockey:["D1","D2","D3","JUCO","NAIA"],WomensHockey:["D1","D2","D3","JUCO","NAIA"],Cheerleading:["D1","D2","D3","JUCO","NAIA"],WomensFlagFootball:["D1","D2","D3","JUCO","NAIA"],MensGolf:["D1","D2","D3","JUCO","NAIA"],WomensGolf:["D1","D2","D3","JUCO","NAIA"],MensVolleyball:["D1","D2","D3","JUCO","NAIA"],MensLacrosse:["D1","D2","D3","JUCO","NAIA"],WomensLacrosse:["D1","D2","D3","JUCO","NAIA"],WomensCrossCountry:["D1","D2","D3","JUCO","NAIA"],MensCrossCountry:["D1","D2","D3","JUCO","NAIA"]};function a(){return Object.keys(t)}function r(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2")}e.s(["formatSportLabel",()=>r,"getSports",()=>a])},97555,e=>{"use strict";var t=e.i(45679);e.s(["Chip",()=>t.default])},13607,68238,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),r=e.i(19130),i=e.i(40799),o=e.i(94425),l=e.i(67719),n=e.i(40672),s=e.i(19727);function d(e){return(0,s.default)("MuiCard",e)}(0,n.default)("MuiCard",["root"]);var c=e.i(43476);let u=(0,i.styled)(l.default,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),p=t.forwardRef(function(e,t){let i=(0,o.useDefaultProps)({props:e,name:"MuiCard"}),{className:l,raised:n=!1,...s}=i,p={...i,raised:n},f=(e=>{let{classes:t}=e;return(0,r.default)({root:["root"]},d,t)})(p);return(0,c.jsx)(u,{className:(0,a.default)(f.root,l),elevation:n?8:void 0,ref:t,ownerState:p,...s})});function f(e){return(0,s.default)("MuiCardContent",e)}e.s(["Card",0,p],13607),(0,n.default)("MuiCardContent",["root"]);let m=(0,i.styled)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),h=t.forwardRef(function(e,t){let i=(0,o.useDefaultProps)({props:e,name:"MuiCardContent"}),{className:l,component:n="div",...s}=i,d={...i,component:n},u=(e=>{let{classes:t}=e;return(0,r.default)({root:["root"]},f,t)})(d);return(0,c.jsx)(m,{as:n,className:(0,a.default)(u.root,l),ownerState:d,ref:t,...s})});e.s(["CardContent",0,h],68238)},88331,e=>{"use strict";let t="mail_log_v1";function a(){try{let e=window.localStorage.getItem(t);return e?JSON.parse(e):[]}catch{return[]}}function r(e,t){return a().some(a=>a.clientId===e&&a.email===t)}function i(e,r){let i=Date.now(),o=[...a()];r.forEach(t=>{let a=(t||"").trim();a&&(o.some(t=>t.clientId===e&&t.email===a)||o.push({clientId:e,email:a,mailedAt:i}))}),window.localStorage.setItem(t,JSON.stringify(o))}function o(){return a()}e.s(["getMailEntries",()=>o,"hasMailed",()=>r,"markMailed",()=>i])},3737,13892,4052,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),r=e.i(19130),i=e.i(42196);let o=t.createContext();e.s(["default",0,o],13892);let l=t.createContext();e.s(["default",0,l],4052);var n=e.i(40799),s=e.i(75149),d=e.i(94425),c=e.i(40672),u=e.i(19727);function p(e){return(0,u.default)("MuiTableCell",e)}let f=(0,c.default)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var m=e.i(43476);let h=(0,n.styled)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,i.default)(a.size)}`],"normal"!==a.padding&&t[`padding${(0,i.default)(a.padding)}`],"inherit"!==a.align&&t[`align${(0,i.default)(a.align)}`],a.stickyHeader&&t.stickyHeader]}})((0,s.default)(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${f.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),g=t.forwardRef(function(e,n){let s,c=(0,d.useDefaultProps)({props:e,name:"MuiTableCell"}),{align:u="inherit",className:f,component:g,padding:y,scope:x,size:b,sortDirection:v,variant:w,...C}=c,D=t.useContext(o),j=t.useContext(l),S=j&&"head"===j.variant,k=x;"td"===(s=g||(S?"th":"td"))?k=void 0:!k&&S&&(k="col");let A=w||j&&j.variant,$={...c,align:u,component:s,padding:y||(D&&D.padding?D.padding:"normal"),size:b||(D&&D.size?D.size:"medium"),sortDirection:v,stickyHeader:"head"===A&&D&&D.stickyHeader,variant:A},N=(e=>{let{classes:t,variant:a,align:o,padding:l,size:n,stickyHeader:s}=e,d={root:["root",a,s&&"stickyHeader","inherit"!==o&&`align${(0,i.default)(o)}`,"normal"!==l&&`padding${(0,i.default)(l)}`,`size${(0,i.default)(n)}`]};return(0,r.default)(d,p,t)})($),T=null;return v&&(T="asc"===v?"ascending":"descending"),(0,m.jsx)(h,{as:s,ref:n,className:(0,a.default)(N.root,f),"aria-sort":T,scope:k,ownerState:$,...C})});e.s(["default",0,g],3737)},60291,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),r=e.i(19130),i=e.i(42196),o=e.i(35057),l=e.i(94763),n=e.i(40799),s=e.i(75149),d=e.i(94425),c=e.i(40672),u=e.i(19727);function p(e){return(0,u.default)("MuiSwitch",e)}let f=(0,c.default)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var m=e.i(48106),h=e.i(43476);let g=(0,n.styled)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.edge&&t[`edge${(0,i.default)(a.edge)}`],t[`size${(0,i.default)(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${f.thumb}`]:{width:16,height:16},[`& .${f.switchBase}`]:{padding:4,[`&.${f.checked}`]:{transform:"translateX(16px)"}}}}]}),y=(0,n.styled)(l.default,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.switchBase,{[`& .${f.input}`]:t.input},"default"!==a.color&&t[`color${(0,i.default)(a.color)}`]]}})((0,s.default)(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${f.checked}`]:{transform:"translateX(20px)"},[`&.${f.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${f.checked} + .${f.track}`]:{opacity:.5},[`&.${f.disabled} + .${f.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${"light"===e.palette.mode?.12:.2}`},[`& .${f.input}`]:{left:"-100%",width:"300%"}})),(0,s.default)(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter((0,o.default)(["light"])).map(([t])=>({props:{color:t},style:{[`&.${f.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${f.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${"light"===e.palette.mode?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${f.checked} + .${f.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),x=(0,n.styled)("span",{name:"MuiSwitch",slot:"Track"})((0,s.default)(({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${"light"===e.palette.mode?.38:.3}`}))),b=(0,n.styled)("span",{name:"MuiSwitch",slot:"Thumb"})((0,s.default)(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),v=t.forwardRef(function(e,t){let o=(0,d.useDefaultProps)({props:e,name:"MuiSwitch"}),{className:l,color:n="primary",edge:s=!1,size:c="medium",sx:u,slots:f={},slotProps:v={},...w}=o,C={...o,color:n,edge:s,size:c},D=(e=>{let{classes:t,edge:a,size:o,color:l,checked:n,disabled:s}=e,d={root:["root",a&&`edge${(0,i.default)(a)}`,`size${(0,i.default)(o)}`],switchBase:["switchBase",`color${(0,i.default)(l)}`,n&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=(0,r.default)(d,p,t);return{...t,...c}})(C),j={slots:f,slotProps:v},[S,k]=(0,m.default)("root",{className:(0,a.default)(D.root,l),elementType:g,externalForwardedProps:j,ownerState:C,additionalProps:{sx:u}}),[A,$]=(0,m.default)("thumb",{className:D.thumb,elementType:b,externalForwardedProps:j,ownerState:C}),N=(0,h.jsx)(A,{...$}),[T,I]=(0,m.default)("track",{className:D.track,elementType:x,externalForwardedProps:j,ownerState:C});return(0,h.jsxs)(S,{...k,children:[(0,h.jsx)(y,{type:"checkbox",icon:N,checkedIcon:N,ref:t,ownerState:C,...w,classes:{...D,root:D.switchBase},slots:{...f.switchBase&&{root:f.switchBase},...f.input&&{input:f.input}},slotProps:{...v.switchBase&&{root:"function"==typeof v.switchBase?v.switchBase(C):v.switchBase},input:{role:"switch"},...v.input&&{input:"function"==typeof v.input?v.input(C):v.input}}}),(0,h.jsx)(T,{...I})]})});e.s(["default",0,v],60291)},94763,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(19130),r=e.i(42196),i=e.i(52039),o=e.i(40799),l=e.i(88088),n=e.i(47562),s=e.i(54033),d=e.i(40672),c=e.i(19727);function u(e){return(0,c.default)("PrivateSwitchBase",e)}(0,d.default)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var p=e.i(48106),f=e.i(43476);let m=(0,o.styled)(s.default,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>"start"===e&&"small"!==t.size,style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>"end"===e&&"small"!==t.size,style:{marginRight:-12}}]}),h=(0,o.styled)("input",{name:"MuiSwitchBase",shouldForwardProp:i.default})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),g=t.forwardRef(function(e,t){let{autoFocus:i,checked:o,checkedIcon:s,defaultChecked:d,disabled:c,disableFocusRipple:g=!1,edge:y=!1,icon:x,id:b,inputProps:v,inputRef:w,name:C,onBlur:D,onChange:j,onFocus:S,readOnly:k,required:A=!1,tabIndex:$,type:N,value:T,slots:I={},slotProps:M={},...R}=e,[B,F]=(0,l.default)({controlled:o,default:!!d,name:"SwitchBase",state:"checked"}),O=(0,n.default)(),P=c;O&&void 0===P&&(P=O.disabled);let z="checkbox"===N||"radio"===N,E={...e,checked:B,disabled:P,disableFocusRipple:g,edge:y},U=(e=>{let{classes:t,checked:i,disabled:o,edge:l}=e,n={root:["root",i&&"checked",o&&"disabled",l&&`edge${(0,r.default)(l)}`],input:["input"]};return(0,a.default)(n,u,t)})(E),J={slots:I,slotProps:{input:v,...M}},[L,H]=(0,p.default)("root",{ref:t,elementType:m,className:U.root,shouldForwardComponentProp:!0,externalForwardedProps:{...J,component:"span",...R},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),S&&S(t),O&&O.onFocus&&O.onFocus(t)},onBlur:t=>{e.onBlur?.(t),D&&D(t),O&&O.onBlur&&O.onBlur(t)}}),ownerState:E,additionalProps:{centerRipple:!0,focusRipple:!g,disabled:P,role:void 0,tabIndex:null}}),[W,q]=(0,p.default)("input",{ref:w,elementType:h,className:U.input,externalForwardedProps:J,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented)return;let t=e.target.checked;F(t),j&&j(e,t)})(t)}}),ownerState:E,additionalProps:{autoFocus:i,checked:o,defaultChecked:d,disabled:P,id:z?b:void 0,name:C,readOnly:k,required:A,tabIndex:$,type:N,..."checkbox"===N&&void 0===T?{}:{value:T}}});return(0,f.jsxs)(L,{...H,children:[(0,f.jsx)(W,{...q}),B?s:x]})});e.s(["default",0,g],94763)},53332,57675,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),r=e.i(19130),i=e.i(47562),i=i,o=e.i(40799),l=e.i(75149),n=e.i(94425),s=e.i(26863),d=e.i(42196),c=e.i(40672),u=e.i(19727);function p(e){return(0,u.default)("MuiFormControlLabel",e)}let f=(0,c.default)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);e.s(["default",0,f,"getFormControlLabelUtilityClasses",()=>p],57675);var m=e.i(49313),h=e.i(48106),g=e.i(43476);let y=(0,o.styled)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[{[`& .${f.label}`]:t.label},t.root,t[`labelPlacement${(0,d.default)(a.labelPlacement)}`]]}})((0,l.default)(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${f.disabled}`]:{cursor:"default"},[`& .${f.label}`]:{[`&.${f.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>"start"===e||"top"===e||"bottom"===e,style:{marginLeft:16}}]}))),x=(0,o.styled)("span",{name:"MuiFormControlLabel",slot:"Asterisk"})((0,l.default)(({theme:e})=>({[`&.${f.error}`]:{color:(e.vars||e).palette.error.main}}))),b=t.forwardRef(function(e,o){let l=(0,n.useDefaultProps)({props:e,name:"MuiFormControlLabel"}),{checked:c,className:u,componentsProps:f={},control:b,disabled:v,disableTypography:w,inputRef:C,label:D,labelPlacement:j="end",name:S,onChange:k,required:A,slots:$={},slotProps:N={},value:T,...I}=l,M=(0,i.default)(),R=v??b.props.disabled??M?.disabled,B=A??b.props.required,F={disabled:R,required:B};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===b.props[e]&&void 0!==l[e]&&(F[e]=l[e])});let O=(0,m.default)({props:l,muiFormControl:M,states:["error"]}),P={...l,disabled:R,labelPlacement:j,required:B,error:O.error},z=(e=>{let{classes:t,disabled:a,labelPlacement:i,error:o,required:l}=e,n={root:["root",a&&"disabled",`labelPlacement${(0,d.default)(i)}`,o&&"error",l&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,r.default)(n,p,t)})(P),E={slots:$,slotProps:{...f,...N}},[U,J]=(0,h.default)("typography",{elementType:s.default,externalForwardedProps:E,ownerState:P}),L=D;return null==L||L.type===s.default||w||(L=(0,g.jsx)(U,{component:"span",...J,className:(0,a.default)(z.label,J?.className),children:L})),(0,g.jsxs)(y,{className:(0,a.default)(z.root,u),ownerState:P,ref:o,...I,children:[t.cloneElement(b,F),B?(0,g.jsxs)("div",{children:[L,(0,g.jsxs)(x,{ownerState:P,"aria-hidden":!0,className:z.asterisk,children:[" ","*"]})]}):L]})});e.s(["default",0,b],53332)},39855,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),r=e.i(19130),i=e.i(94763),o=e.i(54624),l=e.i(43476);let n=(0,o.default)((0,l.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),s=(0,o.default)((0,l.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),d=(0,o.default)((0,l.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var c=e.i(42196),u=e.i(52039),p=e.i(40672),f=e.i(19727);function m(e){return(0,f.default)("MuiCheckbox",e)}let h=(0,p.default)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]);var g=e.i(40799),y=e.i(75149),x=e.i(35057),b=e.i(94425),v=e.i(84476),w=e.i(48106);let C=(0,g.styled)(i.default,{shouldForwardProp:e=>(0,u.default)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.indeterminate&&t.indeterminate,t[`size${(0,c.default)(a.size)}`],"default"!==a.color&&t[`color${(0,c.default)(a.color)}`]]}})((0,y.default)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,x.default)()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,x.default)()).map(([t])=>({props:{color:t},style:{[`&.${h.checked}, &.${h.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${h.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),D=(0,l.jsx)(s,{}),j=(0,l.jsx)(n,{}),S=(0,l.jsx)(d,{}),k=t.forwardRef(function(e,i){let o=(0,b.useDefaultProps)({props:e,name:"MuiCheckbox"}),{checkedIcon:n=D,color:s="primary",icon:d=j,indeterminate:u=!1,indeterminateIcon:p=S,inputProps:f,size:h="medium",disableRipple:g=!1,className:y,slots:x={},slotProps:k={},...A}=o,$=u?p:d,N=u?p:n,T={...o,disableRipple:g,color:s,indeterminate:u,size:h},I=(e=>{let{classes:t,indeterminate:a,color:i,size:o}=e,l={root:["root",a&&"indeterminate",`color${(0,c.default)(i)}`,`size${(0,c.default)(o)}`]},n=(0,r.default)(l,m,t);return{...t,...n}})(T),M=k.input??f,[R,B]=(0,w.default)("root",{ref:i,elementType:C,className:(0,a.default)(I.root,y),shouldForwardComponentProp:!0,externalForwardedProps:{slots:x,slotProps:k,...A},ownerState:T,additionalProps:{type:"checkbox",icon:t.cloneElement($,{fontSize:$.props.fontSize??h}),checkedIcon:t.cloneElement(N,{fontSize:N.props.fontSize??h}),disableRipple:g,slots:x,slotProps:{input:(0,v.mergeSlotProps)("function"==typeof M?M(T):M,{"data-indeterminate":u})}}});return(0,l.jsx)(R,{...B,classes:I})});e.s(["default",0,k],39855)},14570,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),r=e.i(19130),i=e.i(13892),o=e.i(40799),l=e.i(75149),n=e.i(94425),s=e.i(40672),d=e.i(19727);function c(e){return(0,d.default)("MuiTable",e)}(0,s.default)("MuiTable",["root","stickyHeader"]);var u=e.i(43476);let p=(0,o.styled)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})((0,l.default)(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),f="table",m=t.forwardRef(function(e,o){let l=(0,n.useDefaultProps)({props:e,name:"MuiTable"}),{className:s,component:d=f,padding:m="normal",size:h="medium",stickyHeader:g=!1,...y}=l,x={...l,component:d,padding:m,size:h,stickyHeader:g},b=(e=>{let{classes:t,stickyHeader:a}=e;return(0,r.default)({root:["root",a&&"stickyHeader"]},c,t)})(x),v=t.useMemo(()=>({padding:m,size:h,stickyHeader:g}),[m,h,g]);return(0,u.jsx)(i.default.Provider,{value:v,children:(0,u.jsx)(p,{as:d,role:d===f?null:"table",ref:o,className:(0,a.default)(b.root,s),ownerState:x,...y})})});e.s(["default",0,m],14570)},55668,17693,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),r=e.i(19130),i=e.i(4052),o=e.i(40799),l=e.i(94425),n=e.i(40672),s=e.i(19727);function d(e){return(0,s.default)("MuiTableHead",e)}(0,n.default)("MuiTableHead",["root"]);var c=e.i(43476);let u=(0,o.styled)("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),p={variant:"head"},f="thead",m=t.forwardRef(function(e,t){let o=(0,l.useDefaultProps)({props:e,name:"MuiTableHead"}),{className:n,component:s=f,...m}=o,h={...o,component:s},g=(e=>{let{classes:t}=e;return(0,r.default)({root:["root"]},d,t)})(h);return(0,c.jsx)(i.default.Provider,{value:p,children:(0,c.jsx)(u,{as:s,className:(0,a.default)(g.root,n),ref:t,role:s===f?null:"rowgroup",ownerState:h,...m})})});e.s(["default",0,m],55668);var h=e.i(75149);function g(e){return(0,s.default)("MuiTableRow",e)}let y=(0,n.default)("MuiTableRow",["root","selected","hover","head","footer"]),x=(0,o.styled)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})((0,h.default)(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${y.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${y.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)}}}))),b=t.forwardRef(function(e,o){let n=(0,l.useDefaultProps)({props:e,name:"MuiTableRow"}),{className:s,component:d="tr",hover:u=!1,selected:p=!1,...f}=n,m=t.useContext(i.default),h={...n,component:d,hover:u,selected:p,head:m&&"head"===m.variant,footer:m&&"footer"===m.variant},y=(e=>{let{classes:t,selected:a,hover:i,head:o,footer:l}=e;return(0,r.default)({root:["root",a&&"selected",i&&"hover",o&&"head",l&&"footer"]},g,t)})(h);return(0,c.jsx)(x,{as:d,ref:o,className:(0,a.default)(y.root,s),role:"tr"===d?null:"row",ownerState:h,...f})});e.s(["default",0,b],17693)},3626,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),r=e.i(19130),i=e.i(4052),o=e.i(40799),l=e.i(94425),n=e.i(40672),s=e.i(19727);function d(e){return(0,s.default)("MuiTableBody",e)}(0,n.default)("MuiTableBody",["root"]);var c=e.i(43476);let u=(0,o.styled)("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),p={variant:"body"},f="tbody",m=t.forwardRef(function(e,t){let o=(0,l.useDefaultProps)({props:e,name:"MuiTableBody"}),{className:n,component:s=f,...m}=o,h={...o,component:s},g=(e=>{let{classes:t}=e;return(0,r.default)({root:["root"]},d,t)})(h);return(0,c.jsx)(i.default.Provider,{value:p,children:(0,c.jsx)(u,{className:(0,a.default)(g.root,n),as:s,ref:t,role:s===f?null:"rowgroup",ownerState:h,...m})})});e.s(["default",0,m],3626)},45388,e=>{"use strict";var t=e.i(47167),a=e.i(43476),r=e.i(71645),i=e.i(33906),o=e.i(66027),l=e.i(89106),n=e.i(90349),s=e.i(66796),d=e.i(76552),c=e.i(53967),u=e.i(88331),p=e.i(69620),f=e.i(13607),m=e.i(68238);function h(e,t){let a=e.replace("#","");if(6!==a.length)return`rgba(0,0,0,${t})`;let r=parseInt(a.slice(0,2),16),i=parseInt(a.slice(2,4),16),o=parseInt(a.slice(4,6),16);return`rgba(${r},${i},${o},${t})`}function g({title:e,value:t,icon:r,footer:i,bgColor:o,textColor:l,bgImage:n,overlayOpacity:c=.82}){let u=n?`linear-gradient(${h(o||"#000000",c)}, ${h(o||"#000000",c)}), url(${n})`:void 0;return(0,a.jsx)(f.Card,{sx:{borderRadius:"20px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",border:`1px solid ${o||"#dcdfe4"}`,backgroundColor:o,backgroundImage:u,backgroundSize:u?"cover":void 0,backgroundPosition:u?"center":void 0,backgroundRepeat:u?"no-repeat":void 0,color:l},children:(0,a.jsxs)(m.CardContent,{sx:{p:0},children:[(0,a.jsx)(d.Box,{sx:{px:2,pt:1,pb:.6,borderBottom:i?"1px solid #dcdfe4":"none"},children:(0,a.jsxs)(d.Box,{sx:{display:"grid",gridTemplateColumns:r?"auto 1fr":"1fr",gridTemplateRows:"auto auto",columnGap:1.5*!!r,rowGap:.75,alignItems:"start"},children:[r?(0,a.jsx)(d.Box,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:l?`${l}1a`:"#FFFFFF",color:l||"#000000",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.12)",gridRow:"1 / span 2"},children:r}):null,(0,a.jsx)(s.Typography,{variant:"subtitle2",color:l?void 0:"text.secondary",sx:{fontSize:"0.95rem",color:l},children:e}),(0,a.jsx)(s.Typography,{variant:"h3",sx:{fontSize:"2.1rem",lineHeight:1.05,color:l},children:t})]})}),i?(0,a.jsx)(d.Box,{sx:{display:"flex",alignItems:"center",gap:1,mt:1,px:2,pb:.35,color:"#667085"},children:i}):null]})})}var y=e.i(32963),x=e.i(63745),b=e.i(97555),v=e.i(26678),v=v,w=e.i(11458),C=e.i(93641);let D={dead:"#f04438",contact:"#15b79f",quiet:"#5D4AFB",eval:"#5D4AFB",test:"#5D4AFB",other:"#999DAA"};function j(){let e=(0,C.getSports)(),[t,i]=r.default.useState(e[0]||"Football"),{data:l=[],isLoading:n}=(0,o.useQuery)({queryKey:["recruiting-periods",t],queryFn:async()=>{let e=await fetch(`/api/recruiting-periods?sport=${encodeURIComponent(t||"Football")}`);if(!e.ok)throw Error("Failed to load periods");let a=await e.json();return a?.data||[]}}),c=new Date,u=Array.from({length:7}).map((e,t)=>{let a=new Date(c);return a.setDate(c.getDate()+t),a.setHours(0,0,0,0),a});return(0,a.jsxs)(y.Paper,{variant:"outlined",sx:{p:2,mb:3,borderRadius:"16px"},children:[(0,a.jsxs)(x.Stack,{direction:{xs:"column",md:"row"},alignItems:"center",justifyContent:"space-between",spacing:2,sx:{mb:2},children:[(0,a.jsx)(s.Typography,{variant:"h6",children:"Recruiting Calendar"}),(0,a.jsx)(v.default,{size:"small",value:t,onChange:e=>i(e.target.value),"data-testid":"recruiting-calendar-sport",children:e.map(e=>(0,a.jsx)(w.MenuItem,{value:e,children:(0,C.formatSportLabel)(e)},e))})]}),(0,a.jsxs)(x.Stack,{direction:"row",spacing:1,sx:{mb:2,flexWrap:"wrap"},children:[(0,a.jsx)(b.Chip,{size:"small",label:"Dead",sx:{bgcolor:D.dead,color:"#fff"}}),(0,a.jsx)(b.Chip,{size:"small",label:"Contact",sx:{bgcolor:D.contact,color:"#fff"}}),(0,a.jsx)(b.Chip,{size:"small",label:"Quiet",sx:{bgcolor:D.quiet,color:"#fff"}}),(0,a.jsx)(b.Chip,{size:"small",label:"Other/Test",sx:{bgcolor:D.test,color:"#fff"}}),(0,a.jsx)(b.Chip,{size:"small",label:"Today",sx:{bgcolor:"#fff",color:"#14151E",border:"1px solid #dcdfe4"}})]}),n?(0,a.jsx)(s.Typography,{color:"text.secondary",children:"Loading periods…"}):0===l.length?(0,a.jsx)(s.Typography,{color:"text.secondary",children:"No periods available."}):(0,a.jsx)(d.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(7, minmax(110px, 1fr))",gap:1},children:u.map(e=>{var t,r;let i,o,n=l.filter(t=>{let a=new Date(t.startDate),r=new Date(t.endDate);return a.setHours(0,0,0,0),r.setHours(23,59,59,999),e>=a&&e<=r}),d=n[0]?D[n[0].type]||D.other:"#dcdfe4",u=e.toDateString()===c.toDateString();return(0,a.jsxs)(y.Paper,{"data-testid":"calendar-day",variant:"outlined",sx:{position:"relative",p:1.25,borderRadius:"12px",minHeight:90,bgcolor:u?"#fff":n[0]?`${d}1a`:"#fff",border:`1px solid ${u?"#dcdfe4":n[0]?d:"#dcdfe4"}`},children:[(0,a.jsxs)(x.Stack,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,a.jsx)(s.Typography,{variant:"subtitle2",children:e.toLocaleDateString(void 0,{month:"short",day:"numeric"})}),(0,a.jsxs)(x.Stack,{direction:"row",spacing:.5,justifyContent:"flex-end",sx:{flexWrap:"wrap",maxWidth:"70%"},children:[n.slice(0,2).map(e=>{let t=D[e.type]||D.other;return(0,a.jsx)(b.Chip,{size:"small",label:e.label,sx:{bgcolor:t,color:"#fff"},"data-testid":"calendar-period-chip"},e.id)}),n.length>2?(0,a.jsx)(b.Chip,{size:"small",label:`+${n.length-2}`,sx:{bgcolor:"#999DAA",color:"#fff"}}):null]})]}),n.length>0?(0,a.jsx)(s.Typography,{variant:"caption",color:"text.secondary",children:(t=n[0].startDate,r=n[0].endDate,i=new Date(t).toLocaleDateString(),i===(o=new Date(r).toLocaleDateString())?i:`${i} – ${o}`)}):(0,a.jsx)(s.Typography,{variant:"caption",color:"text.secondary",children:"No period"})]},e.toISOString())})})]})}var S=e.i(14570),S=S,k=e.i(55668),k=k,A=e.i(17693),A=A,$=e.i(3737),$=$,N=e.i(3626),N=N,T=e.i(69437);let I=["QB","RB","WR","DL","LB","CB","S","TE","OL"],M=["PG","SG","SF","PF","C"],R=["ESPN","Rivals","247Sports"],B=["Alabama","Georgia","Ohio State","Texas","Duke","Kentucky","Kansas","Gonzaga","Michigan"];function F(e,t,a){return Array.from({length:50}).map((r,i)=>{var o;let l;return{id:`${t}-${i+1}`,sport:e,list:"recent",name:`${e} Recent ${i+1}`,position:a[i%a.length],university:B[i%B.length],commitDate:(o=5*i+1,(l=new Date).setDate(l.getDate()-o),l.toISOString().slice(0,10)),source:R[i%R.length]}})}function O(e,t,a){return Array.from({length:50}).map((r,i)=>({id:`${t}-${i+1}`,sport:e,list:"top",rank:i+1,name:`${e} Top ${i+1}`,position:a[i%a.length],university:B[i%B.length],stars:5-i%3||5,source:R[i%R.length]}))}let P=[...F("Football","fb-rec",I),...F("Basketball","bb-rec",M),...O("Football","fb-top",I),...O("Basketball","bb-top",M)];function z({title:e,rows:t,showRank:i,dataTestId:o}){var l;let[n,c]=r.default.useState(""),[u,p]=r.default.useState(""),f=(l={position:n,university:u},t.filter(e=>{let t=!l.position||(e.position||"").toLowerCase().includes(l.position.toLowerCase()),a=!l.university||(e.university||"").toLowerCase().includes(l.university.toLowerCase());return t&&a}));return(0,a.jsxs)(y.Paper,{variant:"outlined",sx:{p:2,borderRadius:2},children:[(0,a.jsxs)(x.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,a.jsx)(s.Typography,{variant:"h6",children:e}),(0,a.jsxs)(x.Stack,{direction:"row",spacing:1,children:[(0,a.jsx)(T.TextField,{size:"small",label:"Position",value:n,onChange:e=>c(e.target.value),"data-testid":`${o}-filter-position`}),(0,a.jsx)(T.TextField,{size:"small",label:"University",value:u,onChange:e=>p(e.target.value),"data-testid":`${o}-filter-university`})]})]}),(0,a.jsx)(d.Box,{sx:{maxHeight:420,overflow:"auto"},children:(0,a.jsxs)(S.default,{size:"small",stickyHeader:!0,"data-testid":o,children:[(0,a.jsx)(k.default,{children:(0,a.jsxs)(A.default,{children:[i&&(0,a.jsx)($.default,{children:"Rank"}),(0,a.jsx)($.default,{children:"Name"}),(0,a.jsx)($.default,{children:"Position"}),(0,a.jsx)($.default,{children:"University"}),(0,a.jsx)($.default,{children:"Logo"}),!i&&(0,a.jsx)($.default,{children:"Commit Date"}),(0,a.jsx)($.default,{children:"Source"})]})}),(0,a.jsxs)(N.default,{children:[f.map(e=>(0,a.jsxs)(A.default,{children:[i&&(0,a.jsx)($.default,{children:e.rank??"-"}),(0,a.jsx)($.default,{children:e.name}),(0,a.jsx)($.default,{children:e.position||"-"}),(0,a.jsx)($.default,{children:e.university||"-"}),(0,a.jsx)($.default,{children:e.logo?(0,a.jsx)(d.Box,{component:"img",src:e.logo,alt:e.university||"logo",sx:{width:28,height:28,objectFit:"contain"}}):"-"}),!i&&(0,a.jsx)($.default,{children:e.commitDate||"-"}),(0,a.jsx)($.default,{children:e.source||"-"})]},e.id)),0===f.length&&(0,a.jsx)(A.default,{children:(0,a.jsx)($.default,{colSpan:5,align:"center",children:"No commits match the filters."})})]})]})})]})}async function E(e,t){let a=await fetch(`/api/commits?sport=${e}&list=${t}`);if(!a.ok)throw Error("Failed to load commits");let r=await a.json();return r?.data||[]}function U({sport:e}){let t={staleTime:864e5,gcTime:9e7,refetchOnWindowFocus:!1,refetchOnMount:!1},r=(0,o.useQuery)({queryKey:["commits",e,"recent"],queryFn:()=>E(e,"recent"),...t}),i=(0,o.useQuery)({queryKey:["commits",e,"top"],queryFn:()=>E(e,"top"),...t});return(0,a.jsxs)(x.Stack,{spacing:2,children:[(0,a.jsxs)(s.Typography,{variant:"h5",children:[e," Commits"]}),(0,a.jsx)(z,{title:"Recent Commits (last 365 days)",rows:r.data||[],showRank:!1,dataTestId:`commits-${e.toLowerCase()}-recent-table`}),(0,a.jsx)(z,{title:"Top 50 Recruits",rows:i.data||[],showRank:!0,dataTestId:`commits-${e.toLowerCase()}-top-table`})]})}function J(e,t){let a=Math.max(1,t);return{current:e.slice(-a),previous:e.slice(-(2*a),-a)}}function L(e,t){return e.reduce((e,a)=>e+(Number(a?.[t])||0),0)}function H(e,t){return t>0?(e-t)/t*100:100*(e>0)}function W(e){let t=Math.round(e||0);return`${t>=0?"+":""}${t}%`}function q(){let e,{session:f}=(0,i.useSession)(),m=f?.role==="parent",h=(0,o.useQuery)({queryKey:["dashboard",f?.role,f?.agencyId],queryFn:()=>m?(0,l.listAgencies)():(0,n.listClientsByAgencyEmail)(f.email)}),[y,x]=r.default.useState(""),[b,v]=r.default.useState(null);if(r.default.useEffect(()=>{!f?.email||m||"undefined"!=typeof fetch&&(fetch(`/api/metrics/stats?agencyEmail=${encodeURIComponent(f.email)}&days=60`).then(e=>e.json()).then(e=>{e?.ok&&v(e)}).catch(()=>{}),x(String(function(e){try{let t=localStorage.getItem("dashboard_scholarships_v1");return(t?JSON.parse(t):{})[e]??0}catch{return 0}}(f.email))))},[f?.email,m]),!f||!h.data)return null;if(m){let e=h.data;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Typography,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,a.jsx)("div",{style:{height:520},children:(0,a.jsx)(c.DataGrid,{rows:e,columns:[{field:"name",headerName:"Agency",flex:1}],getRowId:e=>e.id})})]})}let w=h.data,C=new Set(w.map(e=>e.id)),D=w.length,S=(0,u.getMailEntries)().filter(e=>C.has(e.clientId)).length,k=Number(t.default.env.NEXT_PUBLIC_OPEN_RATE_PLACEHOLDER??""),{emailsSent:A,deltaPct:$}=function(e,t,a=30){let{current:r,previous:i}=J(e?.days??[],a),o=L(r,"sends"),l=L(i,"sends");return{emailsSent:o||e?.totals?.sends||t||0,deltaPct:H(o,l)}}(b,S),{openRate:N,deltaPct:T}=function(e,t,a=30){let{current:r,previous:i}=J(e?.days??[],a),o=L(r,"sends"),l=L(r,"opens"),n=L(i,"sends"),s=L(i,"opens"),d=Number.isFinite(t)&&t>=0?t:void 0,c=o>0?l/o:e?.openRate??0,u=d??c,p=H(u,n>0?s/n:u);return{openRate:u,deltaPct:p}}(b,Number.isFinite(k)?k:void 0),I=(e=new Date,w.reduce((t,a)=>{if(!a?.createdAt)return t;let r=new Date(a.createdAt);return Number.isNaN(r.getTime())?t:r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()?t+1:t},0)),M=new Date().getFullYear(),R=[M,M+1,M+2,M+3],B={[R[0]]:0,[R[1]]:0,[R[2]]:0,[R[3]]:0};return w.forEach(e=>{let t=Number(e?.radar?.graduationYear||e?.graduationYear||0);R.includes(t)&&(B[t]=(B[t]||0)+1)}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Typography,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,a.jsx)(j,{}),(0,a.jsxs)(d.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(3, 1fr)"},gap:2,mb:3},children:[(0,a.jsx)(g,{title:"Emails Sent",value:A,icon:(0,a.jsx)(p.IoPaperPlaneOutline,{size:20}),footer:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.IoTrendingUpOutline,{color:"#15b79f",size:18}),(0,a.jsxs)(s.Typography,{variant:"body2",sx:{color:"#667085"},children:[(0,a.jsx)(d.Box,{component:"span",sx:{color:"#15b79f"},children:W($)})," vs last 30d"]})]})}),(0,a.jsx)(g,{title:"Open Rate",value:`${Math.round(100*(N||0))}%`,icon:(0,a.jsx)(p.IoMailOpenOutline,{size:20}),footer:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.IoTrendingUpOutline,{color:"#15b79f",size:18}),(0,a.jsxs)(s.Typography,{variant:"body2",sx:{color:"#667085"},children:[(0,a.jsx)(d.Box,{component:"span",sx:{color:"#15b79f"},children:W(T)})," vs last 30d"]})]})}),(0,a.jsx)(g,{title:"Total Athletes",value:D,icon:(0,a.jsx)(p.IoPersonAddOutline,{size:20}),footer:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.IoTrendingUpOutline,{color:"#15b79f",size:18}),(0,a.jsxs)(s.Typography,{variant:"body2",sx:{color:"#667085"},children:[(0,a.jsxs)(d.Box,{component:"span",sx:{color:"#15b79f"},children:["+",I]})," added this month"]})]})})]}),(0,a.jsx)(d.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(4, 1fr)"},gap:2,mb:3},children:R.map((e,t)=>(0,a.jsx)(g,{title:`Class of ${e}`,value:B[e]||0,icon:(0,a.jsx)(p.IoFastFoodOutline,{size:20}),bgColor:0===t?"#5D4AFB":void 0,textColor:0===t?"#FFFFFF":void 0,bgImage:0===t?"/marketing/bg-an.png":void 0},e))}),(0,a.jsxs)(d.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:3,mb:4},children:[(0,a.jsx)(U,{sport:"Football"}),(0,a.jsx)(U,{sport:"Basketball"})]})]})}!function(){let e=window.localStorage.getItem("commits_data");if(!e)return[...P];try{JSON.parse(e).length||[...P]}catch{return[...P]}}(),e.s(["default",()=>q],45388)}]);