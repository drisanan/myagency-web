(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32963,e=>{"use strict";var t=e.i(67719);e.s(["Paper",()=>t.default])},96928,e=>{"use strict";var t=e.i(71645);e.s(["default",0,function(e,i){return t.isValidElement(e)&&-1!==i.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)}],96928)},69437,e=>{"use strict";var t=e.i(36151);e.s(["TextField",()=>t.default])},89106,e=>{"use strict";let t,i="agencies_data";function a(e){window.localStorage.setItem(i,JSON.stringify(e))}let n=[{id:"agency-001",name:"Prime Sports",email:"agency1@an.test",settings:{primaryColor:"#1976d2"}},{id:"agency-002",name:"NextGen",email:"agency2@an.test",settings:{primaryColor:"#9c27b0"}},{id:"agency-003",name:"Elite Edge",email:"agency3@an.test",settings:{primaryColor:"#2e7d32"}}],r=(t=function(){let e=window.localStorage.getItem(i);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}()).length>0?t:(a(n),[...n]);async function o(){return r.map(e=>({id:e.id,name:e.name}))}async function s(){return[...r]}async function l(e){return r.find(t=>t.email===e)??null}async function d(e){return r.find(t=>t.id===e)??null}async function u(e){if(e.id){let t=r.findIndex(t=>t.id===e.id);if(t>=0)return r[t]={...r[t],...e,id:e.id},a(r),{id:e.id}}let t=`agency-${(1e6*Math.random()).toFixed(0)}`;return r.push({id:t,name:e.name,email:e.email,password:e.password,ownerFirstName:e.ownerFirstName,ownerLastName:e.ownerLastName,ownerEmail:e.ownerEmail,ownerPhone:e.ownerPhone,active:e.active??!0,settings:e.settings??{}}),a(r),{id:t}}e.s(["getAgencies",()=>s,"getAgencyByEmail",()=>l,"getAgencyById",()=>d,"listAgencies",()=>o,"upsertAgency",()=>u])},90349,e=>{"use strict";e.i(89106);let t="clients_data",i=new Date,a=new Date(Date.UTC(i.getFullYear(),i.getMonth(),5)).toISOString(),n=new Date(Date.UTC(i.getFullYear(),i.getMonth()-1,12)).toISOString(),r=[{id:"ag1-c1",email:"a1@athletes.test",firstName:"Ava",lastName:"Smith",sport:"Football",agencyEmail:"agency1@an.test",createdAt:a},{id:"ag1-c2",email:"a2@athletes.test",firstName:"Ben",lastName:"Jones",sport:"Basketball",agencyEmail:"agency1@an.test",createdAt:a},{id:"ag1-c3",email:"a3@athletes.test",firstName:"Chloe",lastName:"Diaz",sport:"Soccer",agencyEmail:"agency1@an.test",createdAt:n},{id:"ag2-c1",email:"b1@athletes.test",firstName:"Cara",lastName:"Lee",sport:"Baseball",agencyEmail:"agency2@an.test",createdAt:n},{id:"ag3-c1",email:"c1@athletes.test",firstName:"Dan",lastName:"Kim",sport:"Soccer",agencyEmail:"agency3@an.test",createdAt:n},{id:"ag3-c2",email:"c2@athletes.test",firstName:"Eli",lastName:"Moore",sport:"Football",agencyEmail:"agency3@an.test",createdAt:n}];function o(){let e=window.localStorage.getItem(t);if(!e)return[...r];try{let t=JSON.parse(e);return t.length?t:[...r]}catch{return[...r]}}function s(e){window.localStorage.setItem(t,JSON.stringify(e))}let l=o();async function d(e){return(l=o()).filter(t=>t.agencyEmail===e)}async function u(e){let t=e.id??`c-${(1e6*Math.random()).toFixed(0)}`,i=l.findIndex(e=>e.id===t);console.debug("[clients] upsertClient payload",e);let a=e.createdAt??l[i]?.createdAt??new Date().toISOString(),n={...l[i],...e,id:t,createdAt:a};return i>=0?l[i]=n:l.push(n),s(l),n}async function c(e){l=o();try{let i=window.localStorage.getItem(t);if(i){let t=JSON.parse(i),a=t.find(t=>t.id===e);if(a)return l=t,a}}catch{}let i=l.find(t=>t.id===e);return i||(i=(l=o()).find(t=>t.id===e)),i??{id:e,email:"athlete1@example.com",firstName:"A1",lastName:"L1",sport:"Football",agencyEmail:""}}async function p(e){let t=l.findIndex(t=>t.id===e);return t>=0&&(l.splice(t,1),s(l)),{ok:!0}}async function h(){let e=window.localStorage.getItem("session");if(e)try{let t=JSON.parse(e);if("agency"===t.role){let e=await d(t.email);return console.debug("[clients] getClients list size",e.length),e}}catch{}return[]}function m(e,t){let i=l.findIndex(t=>t.id===e);i>=0&&(l[i]={...l[i],gmailTokens:t,gmailConnected:!0},s(l))}function f(e){let t=l.find(t=>t.id===e);return t?.gmailTokens??null}e.s(["deleteClient",()=>p,"getClient",()=>c,"getClientGmailTokens",()=>f,"getClients",()=>h,"listClientsByAgencyEmail",()=>d,"setClientGmailTokens",()=>m,"upsertClient",()=>u])},97555,e=>{"use strict";var t=e.i(45679);e.s(["Chip",()=>t.default])},54616,e=>{"use strict";var t=e.i(71645),i=e.i(14272),a=e.i(40143),n=e.i(15823),r=e.i(19273),o=class extends n.Subscribable{#e;#t=void 0;#i;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,r.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,r.hashKey)(t.mutationKey)!==(0,r.hashKey)(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#r(e)}getCurrentResult(){return this.#t}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#n(),this.#r()}mutate(e,t){return this.#a=t,this.#i?.removeObserver(this),this.#i=this.#e.getMutationCache().build(this.#e,this.options),this.#i.addObserver(this),this.#i.execute(e)}#n(){let e=this.#i?.state??(0,i.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#r(e){a.notifyManager.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,i=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,t,i,a),this.#a.onSettled?.(e.data,null,t,i,a)):e?.type==="error"&&(this.#a.onError?.(e.error,t,i,a),this.#a.onSettled?.(void 0,e.error,t,i,a))}this.listeners.forEach(e=>{e(this.#t)})})}},s=e.i(12598);function l(e,i){let n=(0,s.useQueryClient)(i),[l]=t.useState(()=>new o(n,e));t.useEffect(()=>{l.setOptions(e)},[l,e]);let d=t.useSyncExternalStore(t.useCallback(e=>l.subscribe(a.notifyManager.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u=t.useCallback((e,t)=>{l.mutate(e,t).catch(r.noop)},[l]);if(d.error&&(0,r.shouldThrowError)(l.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:u,mutateAsync:d.mutate}}e.s(["useMutation",()=>l],54616)},65801,e=>{"use strict";e.i(47167);var t=e.i(71645),i=e.i(7670),a=e.i(19130),n=e.i(93224),r=e.i(40799),o=e.i(75149),s=e.i(94425),l=e.i(96928),d=e.i(19636),u=e.i(36561),c=e.i(40672),p=e.i(19727);function h(e){return(0,p.default)("MuiListItem",e)}(0,c.default)("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);var m=e.i(67687),m=m;function f(e){return(0,p.default)("MuiListItemSecondaryAction",e)}(0,c.default)("MuiListItemSecondaryAction",["root","disableGutters"]);var g=e.i(43476);let y=(0,r.styled)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),x=t.forwardRef(function(e,n){let r=(0,s.useDefaultProps)({props:e,name:"MuiListItemSecondaryAction"}),{className:o,...l}=r,d=t.useContext(u.default),c={...r,disableGutters:d.disableGutters},p=(e=>{let{disableGutters:t,classes:i}=e;return(0,a.default)({root:["root",t&&"disableGutters"]},f,i)})(c);return(0,g.jsx)(y,{className:(0,i.default)(p.root,o),ownerState:c,ref:n,...l})});x.muiName="ListItemSecondaryAction";let v=(0,r.styled)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.dense&&t.dense,"flex-start"===i.alignItems&&t.alignItemsFlexStart,i.divider&&t.divider,!i.disableGutters&&t.gutters,!i.disablePadding&&t.padding,i.hasSecondaryAction&&t.secondaryAction]}})((0,o.default)(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${m.default.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),b=(0,r.styled)("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),w=t.forwardRef(function(e,r){let o=(0,s.useDefaultProps)({props:e,name:"MuiListItem"}),{alignItems:c="center",children:p,className:m,component:f,components:y={},componentsProps:w={},ContainerComponent:S="li",ContainerProps:{className:j,...C}={},dense:M=!1,disableGutters:T=!1,disablePadding:I=!1,divider:A=!1,secondaryAction:D,slotProps:k={},slots:N={},...R}=o,E=t.useContext(u.default),P=t.useMemo(()=>({dense:M||E.dense||!1,alignItems:c,disableGutters:T}),[c,E.dense,M,T]),F=t.useRef(null),O=t.Children.toArray(p),$=O.length&&(0,l.default)(O[O.length-1],["ListItemSecondaryAction"]),W={...o,alignItems:c,dense:P.dense,disableGutters:T,disablePadding:I,divider:A,hasSecondaryAction:$},B=(e=>{let{alignItems:t,classes:i,dense:n,disableGutters:r,disablePadding:o,divider:s,hasSecondaryAction:l}=e;return(0,a.default)({root:["root",n&&"dense",!r&&"gutters",!o&&"padding",s&&"divider","flex-start"===t&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]},h,i)})(W),L=(0,d.default)(F,r),U=N.root||y.Root||v,z=k.root||w.root||{},G={className:(0,i.default)(B.root,z.className,m),...R},J=f||"li";return $?(J=G.component||f?J:"div","li"===S&&("li"===J?J="div":"li"===G.component&&(G.component="div")),(0,g.jsx)(u.default.Provider,{value:P,children:(0,g.jsxs)(b,{as:S,className:(0,i.default)(B.container,j),ref:L,ownerState:W,...C,children:[(0,g.jsx)(U,{...z,...!(0,n.default)(U)&&{as:J,ownerState:{...W,...z.ownerState}},...G,children:O}),O.pop()]})})):(0,g.jsx)(u.default.Provider,{value:P,children:(0,g.jsxs)(U,{...z,as:J,ref:L,...!(0,n.default)(U)&&{ownerState:{...W,...z.ownerState}},...G,children:[O,D&&(0,g.jsx)(x,{children:D})]})})});e.s(["default",0,w],65801)},81974,71364,e=>{"use strict";e.i(47167);var t=e.i(71645),i=e.i(7670),a=e.i(19130),n=e.i(57242),r=e.i(42196),o=e.i(18005),s=e.i(44202),l=e.i(67719),d=e.i(40672),u=e.i(19727);function c(e){return(0,u.default)("MuiDialog",e)}let p=(0,d.default)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),h=t.createContext({});e.s(["default",0,h],71364);var m=e.i(9e4),f=e.i(40799),g=e.i(49925),y=e.i(75149),x=e.i(94425),v=e.i(48106),b=e.i(43476);let w=(0,f.styled)(m.default,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),S=(0,f.styled)(o.default,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),j=(0,f.styled)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.container,t[`scroll${(0,r.default)(i.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),C=(0,f.styled)(l.default,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.paper,t[`scrollPaper${(0,r.default)(i.scroll)}`],t[`paperWidth${(0,r.default)(String(i.maxWidth))}`],i.fullWidth&&t.paperFullWidth,i.fullScreen&&t.paperFullScreen]}})((0,y.default)(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${p.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(e=>"xs"!==e).map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${p.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${p.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),M=t.forwardRef(function(e,o){let d=(0,x.useDefaultProps)({props:e,name:"MuiDialog"}),u=(0,g.useTheme)(),p={enter:u.transitions.duration.enteringScreen,exit:u.transitions.duration.leavingScreen},{"aria-describedby":m,"aria-labelledby":f,"aria-modal":y=!0,BackdropComponent:M,BackdropProps:T,children:I,className:A,disableEscapeKeyDown:D=!1,fullScreen:k=!1,fullWidth:N=!1,maxWidth:R="sm",onClick:E,onClose:P,open:F,PaperComponent:O=l.default,PaperProps:$={},scroll:W="paper",slots:B={},slotProps:L={},TransitionComponent:U=s.default,transitionDuration:z=p,TransitionProps:G,...J}=d,K={...d,disableEscapeKeyDown:D,fullScreen:k,fullWidth:N,maxWidth:R,scroll:W},H=(e=>{let{classes:t,scroll:i,maxWidth:n,fullWidth:o,fullScreen:s}=e,l={root:["root"],container:["container",`scroll${(0,r.default)(i)}`],paper:["paper",`paperScroll${(0,r.default)(i)}`,`paperWidth${(0,r.default)(String(n))}`,o&&"paperFullWidth",s&&"paperFullScreen"]};return(0,a.default)(l,c,t)})(K),Y=t.useRef(),Q=(0,n.default)(f),_=t.useMemo(()=>({titleId:Q}),[Q]),q={slots:{transition:U,...B},slotProps:{transition:G,paper:$,backdrop:T,...L}},[X,V]=(0,v.default)("root",{elementType:S,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:K,className:(0,i.default)(H.root,A),ref:o}),[Z,ee]=(0,v.default)("backdrop",{elementType:w,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:K}),[et,ei]=(0,v.default)("paper",{elementType:C,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:K,className:(0,i.default)(H.paper,$.className)}),[ea,en]=(0,v.default)("container",{elementType:j,externalForwardedProps:q,ownerState:K,className:H.container}),[er,eo]=(0,v.default)("transition",{elementType:s.default,externalForwardedProps:q,ownerState:K,additionalProps:{appear:!0,in:F,timeout:z,role:"presentation"}});return(0,b.jsx)(X,{closeAfterTransition:!0,slots:{backdrop:Z},slotProps:{backdrop:{transitionDuration:z,as:M,...ee}},disableEscapeKeyDown:D,onClose:P,open:F,onClick:e=>{E&&E(e),Y.current&&(Y.current=null,P&&P(e,"backdropClick"))},...V,...J,children:(0,b.jsx)(er,{...eo,children:(0,b.jsx)(ea,{onMouseDown:e=>{Y.current=e.target===e.currentTarget},...en,children:(0,b.jsx)(et,{as:O,elevation:24,role:"dialog","aria-describedby":m,"aria-labelledby":Q,"aria-modal":y,...ei,children:(0,b.jsx)(h.Provider,{value:_,children:I})})})})})});e.s(["default",0,M],81974)},10081,e=>{"use strict";e.i(47167);var t=e.i(71645),i=e.i(7670),a=e.i(19130),n=e.i(40799),r=e.i(94425),o=e.i(40672),s=e.i(19727);function l(e){return(0,s.default)("MuiDialogActions",e)}(0,o.default)("MuiDialogActions",["root","spacing"]);var d=e.i(43476);let u=(0,n.styled)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),c=t.forwardRef(function(e,t){let n=(0,r.useDefaultProps)({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:s=!1,...c}=n,p={...n,disableSpacing:s},h=(e=>{let{classes:t,disableSpacing:i}=e;return(0,a.default)({root:["root",!i&&"spacing"]},l,t)})(p);return(0,d.jsx)(u,{className:(0,i.default)(h.root,o),ownerState:p,ref:t,...c})});e.s(["default",0,c],10081)},56575,e=>{"use strict";var t=e.i(40672),i=e.i(19727);function a(e){return(0,i.default)("MuiDialogContent",e)}(0,t.default)("MuiDialogContent",["root","dividers"]),e.s(["getDialogContentUtilityClass",()=>a])},22883,e=>{"use strict";var t=e.i(40672),i=e.i(19727);function a(e){return(0,i.default)("MuiDialogTitle",e)}let n=(0,t.default)("MuiDialogTitle",["root"]);e.s(["default",0,n,"getDialogTitleUtilityClass",()=>a])},39126,e=>{"use strict";var t=e.i(71645),i=e.i(7670),a=e.i(19130),n=e.i(40799),r=e.i(75149),o=e.i(94425),s=e.i(56575),l=e.i(22883),d=e.i(43476);let u=(0,n.styled)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.dividers&&t.dividers]}})((0,r.default)(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${l.default.root} + &`]:{paddingTop:0}}}]}))),c=t.forwardRef(function(e,t){let n=(0,o.useDefaultProps)({props:e,name:"MuiDialogContent"}),{className:r,dividers:l=!1,...c}=n,p={...n,dividers:l},h=(e=>{let{classes:t,dividers:i}=e;return(0,a.default)({root:["root",i&&"dividers"]},s.getDialogContentUtilityClass,t)})(p);return(0,d.jsx)(u,{className:(0,i.default)(h.root,r),ownerState:p,ref:t,...c})});e.s(["default",0,c])},24167,e=>{"use strict";var t=e.i(71645),i=e.i(7670),a=e.i(19130),n=e.i(26863),r=e.i(40799),o=e.i(94425),s=e.i(22883),l=e.i(71364),d=e.i(43476);let u=(0,r.styled)(n.default,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),c=t.forwardRef(function(e,n){let r=(0,o.useDefaultProps)({props:e,name:"MuiDialogTitle"}),{className:c,id:p,...h}=r,m=(e=>{let{classes:t}=e;return(0,a.default)({root:["root"]},s.getDialogTitleUtilityClass,t)})(r),{titleId:f=p}=t.useContext(l.default);return(0,d.jsx)(u,{component:"h2",className:(0,i.default)(m.root,c),ownerState:r,ref:n,variant:"h6",id:p??f,...h})});e.s(["default",0,c])},13607,68238,e=>{"use strict";e.i(47167);var t=e.i(71645),i=e.i(7670),a=e.i(19130),n=e.i(40799),r=e.i(94425),o=e.i(67719),s=e.i(40672),l=e.i(19727);function d(e){return(0,l.default)("MuiCard",e)}(0,s.default)("MuiCard",["root"]);var u=e.i(43476);let c=(0,n.styled)(o.default,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),p=t.forwardRef(function(e,t){let n=(0,r.useDefaultProps)({props:e,name:"MuiCard"}),{className:o,raised:s=!1,...l}=n,p={...n,raised:s},h=(e=>{let{classes:t}=e;return(0,a.default)({root:["root"]},d,t)})(p);return(0,u.jsx)(c,{className:(0,i.default)(h.root,o),elevation:s?8:void 0,ref:t,ownerState:p,...l})});function h(e){return(0,l.default)("MuiCardContent",e)}e.s(["Card",0,p],13607),(0,s.default)("MuiCardContent",["root"]);let m=(0,n.styled)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),f=t.forwardRef(function(e,t){let n=(0,r.useDefaultProps)({props:e,name:"MuiCardContent"}),{className:o,component:s="div",...l}=n,d={...n,component:s},c=(e=>{let{classes:t}=e;return(0,a.default)({root:["root"]},h,t)})(d);return(0,u.jsx)(m,{as:s,className:(0,i.default)(c.root,o),ownerState:d,ref:t,...l})});e.s(["CardContent",0,f],68238)},88331,e=>{"use strict";let t="mail_log_v1";function i(){try{let e=window.localStorage.getItem(t);return e?JSON.parse(e):[]}catch{return[]}}function a(e,t){return i().some(i=>i.clientId===e&&i.email===t)}function n(e,a){let n=Date.now(),r=[...i()];a.forEach(t=>{let i=(t||"").trim();i&&(r.some(t=>t.clientId===e&&t.email===i)||r.push({clientId:e,email:i,mailedAt:n}))}),window.localStorage.setItem(t,JSON.stringify(r))}function r(){return i()}e.s(["getMailEntries",()=>r,"hasMailed",()=>a,"markMailed",()=>n])},12401,e=>{"use strict";e.i(47167);var t=e.i(71645),i=e.i(7670),a=e.i(6586),n=e.i(52836),r=e.i(19130),o=e.i(40799),s=e.i(49925),l=e.i(75149),d=e.i(94425),u=e.i(95595),c=e.i(1226),p=e.i(19636),p=p,h=e.i(48106),m=e.i(40672),f=e.i(19727);function g(e){return(0,f.default)("MuiCollapse",e)}(0,m.default)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var y=e.i(43476);let x=(0,o.styled)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[i.orientation],"entered"===i.state&&t.entered,"exited"===i.state&&!i.in&&"0px"===i.collapsedSize&&t.hidden]}})((0,l.default)(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>"exited"===e.state&&!e.in&&"0px"===e.collapsedSize,style:{visibility:"hidden"}}]}))),v=(0,o.styled)("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),b=(0,o.styled)("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),w=t.forwardRef(function(e,o){let l=(0,d.useDefaultProps)({props:e,name:"MuiCollapse"}),{addEndListener:m,children:f,className:w,collapsedSize:S="0px",component:j,easing:C,in:M,onEnter:T,onEntered:I,onEntering:A,onExit:D,onExited:k,onExiting:N,orientation:R="vertical",slots:E={},slotProps:P={},style:F,timeout:O=u.duration.standard,TransitionComponent:$=a.Transition,...W}=l,B={...l,orientation:R,collapsedSize:S},L=(e=>{let{orientation:t,classes:i}=e,a={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,r.default)(a,g,i)})(B),U=(0,s.useTheme)(),z=(0,n.default)(),G=t.useRef(null),J=t.useRef(),K="number"==typeof S?`${S}px`:S,H="horizontal"===R,Y=H?"width":"height",Q=t.useRef(null),_=(0,p.default)(o,Q),q=e=>t=>{if(e){let i=Q.current;void 0===t?e(i):e(i,t)}},X=()=>G.current?G.current[H?"clientWidth":"clientHeight"]:0,V=q((e,t)=>{G.current&&H&&(G.current.style.position="absolute"),e.style[Y]=K,T&&T(e,t)}),Z=q((e,t)=>{let i=X();G.current&&H&&(G.current.style.position="");let{duration:a,easing:n}=(0,c.getTransitionProps)({style:F,timeout:O,easing:C},{mode:"enter"});if("auto"===O){let t=U.transitions.getAutoHeightDuration(i);e.style.transitionDuration=`${t}ms`,J.current=t}else e.style.transitionDuration="string"==typeof a?a:`${a}ms`;e.style[Y]=`${i}px`,e.style.transitionTimingFunction=n,A&&A(e,t)}),ee=q((e,t)=>{e.style[Y]="auto",I&&I(e,t)}),et=q(e=>{e.style[Y]=`${X()}px`,D&&D(e)}),ei=q(k),ea=q(e=>{let t=X(),{duration:i,easing:a}=(0,c.getTransitionProps)({style:F,timeout:O,easing:C},{mode:"exit"});if("auto"===O){let i=U.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${i}ms`,J.current=i}else e.style.transitionDuration="string"==typeof i?i:`${i}ms`;e.style[Y]=K,e.style.transitionTimingFunction=a,N&&N(e)}),en={slots:E,slotProps:P,component:j},[er,eo]=(0,h.default)("root",{ref:_,className:(0,i.default)(L.root,w),elementType:x,externalForwardedProps:en,ownerState:B,additionalProps:{style:{[H?"minWidth":"minHeight"]:K,...F}}}),[es,el]=(0,h.default)("wrapper",{ref:G,className:L.wrapper,elementType:v,externalForwardedProps:en,ownerState:B}),[ed,eu]=(0,h.default)("wrapperInner",{className:L.wrapperInner,elementType:b,externalForwardedProps:en,ownerState:B});return(0,y.jsx)($,{in:M,onEnter:V,onEntered:ee,onEntering:Z,onExit:et,onExited:ei,onExiting:ea,addEndListener:e=>{"auto"===O&&z.start(J.current||0,e),m&&m(Q.current,e)},nodeRef:Q,timeout:"auto"===O?null:O,...W,children:(e,{ownerState:t,...a})=>{let n={...B,state:e};return(0,y.jsx)(er,{...eo,className:(0,i.default)(eo.className,{entered:L.entered,exited:!M&&"0px"===K&&L.hidden}[e]),ownerState:n,...a,children:(0,y.jsx)(es,{...el,ownerState:n,children:(0,y.jsx)(ed,{...eu,ownerState:n,children:f})})})}})});w&&(w.muiSupportAuto=!0),e.s(["default",0,w],12401)},56011,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(38479),n=e.i(76552),r=e.i(34251),o=e.i(13607),s=e.i(68238),l=e.i(97555),d=e.i(12401),d=d,u=e.i(13995),c=e.i(81771),p=e.i(65801),p=p,h=e.i(16819),m=e.i(27581),f=e.i(11458),g=e.i(63745),y=e.i(23897),y=y,x=e.i(91052),x=x,v=e.i(66796),b=e.i(69620),w=e.i(18566),S=e.i(90349),j=e.i(88331),C=e.i(3566),M=e.i(56846),T=e.i(33329),I=e.i(59991),A=e.i(69120),D=e.i(69437),k=e.i(32963),N=e.i(11152),R=e.i(54616),E=e.i(66027),P=e.i(12598);async function F(e,t){let i=await fetch(`/api/notes?athleteId=${encodeURIComponent(e)}&agencyEmail=${encodeURIComponent(t)}`);if(!i.ok)throw Error("Failed to load notes");let a=await i.json();return(a?.data).sort((e,t)=>t.createdAt-e.createdAt)}async function O(e){let t=await fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json","x-agency-email":e.agencyEmail},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create note");let i=await t.json();return i?.data}async function $(e,t,i){let a=await fetch("/api/notes",{method:"PATCH",headers:{"Content-Type":"application/json","x-agency-email":i},body:JSON.stringify({id:e,...t,agencyEmail:i})});if(!a.ok)throw Error("Failed to update note");let n=await a.json();return n?.data}async function W(e,t){if(!(await fetch("/api/notes",{method:"DELETE",headers:{"Content-Type":"application/json","x-agency-email":t},body:JSON.stringify({id:e,agencyEmail:t})})).ok)throw Error("Failed to delete note");return!0}var B=e.i(33906);function L({athleteId:e}){let a,o,s,d,u,c,{session:p}=(0,B.useSession)(),h=p?.email||"",{notes:m,query:y,createNote:x,updateNote:b,deleteNote:w,creating:S,updating:j,deleting:L}=(a=(0,P.useQueryClient)(),o=["notes",e,h],s=(0,E.useQuery)({queryKey:o,queryFn:()=>F(e,h),enabled:!!(e&&h)}),d=(0,R.useMutation)({mutationFn:t=>O({...t,athleteId:e,agencyEmail:h,body:t.body}),onSuccess:()=>a.invalidateQueries({queryKey:o})}),u=(0,R.useMutation)({mutationFn:e=>$(e.id,e,h),onSuccess:()=>a.invalidateQueries({queryKey:o})}),c=(0,R.useMutation)({mutationFn:e=>W(e,h),onSuccess:()=>a.invalidateQueries({queryKey:o})}),{query:s,notes:s.data??[],createNote:d.mutateAsync,updateNote:u.mutateAsync,deleteNote:c.mutateAsync,creating:"pending"===d.status,updating:"pending"===u.status,deleting:"pending"===c.status}),[U,z]=i.default.useState(!1),[G,J]=i.default.useState(null),[K,H]=i.default.useState({body:"",type:"other"}),[Y,Q]=i.default.useState(""),_=()=>{H({title:"",body:"",type:"other"}),J(null),Q("")},q=async()=>{if(!K.body?.trim())return void Q("Body is required");try{G?await b({id:G.id,title:K.title,body:K.body,type:K.type}):await x({title:K.title,body:K.body,type:K.type,author:p?.email}),z(!1),_()}catch(e){Q(e?.message||"Failed to save")}},X=async e=>{await w(e)};return(0,t.jsxs)(n.Box,{children:[(0,t.jsxs)(g.Stack,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[(0,t.jsx)(v.Typography,{variant:"h6",children:"Notes"}),(0,t.jsx)(r.Button,{variant:"contained",onClick:()=>{_(),z(!0)},"data-testid":"note-add",startIcon:(0,t.jsx)(N.FaRegStickyNote,{}),children:"Add note"})]}),y.isLoading?(0,t.jsx)(v.Typography,{children:"Loading..."}):0===m.length?(0,t.jsx)(v.Typography,{color:"text.secondary",children:"No notes yet."}):(0,t.jsx)(g.Stack,{spacing:1.5,children:m.map(e=>(0,t.jsxs)(k.Paper,{variant:"outlined",sx:{p:1.5,display:"flex",gap:1,alignItems:"flex-start"},"data-testid":"note-item",children:[(0,t.jsxs)(g.Stack,{spacing:1,sx:{flex:1,minWidth:0},children:[(0,t.jsxs)(g.Stack,{direction:"row",alignItems:"center",spacing:1,sx:{flexWrap:"wrap"},children:[(0,t.jsx)(l.Chip,{size:"small",label:e.type||"other"}),(0,t.jsx)(v.Typography,{variant:"body2",color:"text.secondary",children:new Date(e.createdAt).toLocaleString()}),e.title?(0,t.jsx)(v.Typography,{variant:"subtitle2",sx:{fontWeight:700,ml:.5},noWrap:!0,children:e.title}):null]}),(0,t.jsx)(v.Typography,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:e.body})]}),(0,t.jsxs)(g.Stack,{direction:"row",spacing:1,children:[(0,t.jsx)(A.IconButton,{"aria-label":"Edit note",onClick:()=>{J(e),H({title:e.title||"",body:e.body||"",type:e.type||"other"}),Q(""),z(!0)},"data-testid":"note-edit",children:(0,t.jsx)(N.FaEdit,{})}),(0,t.jsx)(A.IconButton,{"aria-label":"Delete note",onClick:()=>X(e.id),"data-testid":"note-delete",children:(0,t.jsx)(N.FaTrash,{})})]})]},e.id))}),(0,t.jsxs)(C.Dialog,{open:U,onClose:()=>z(!1),fullWidth:!0,maxWidth:"xs",PaperProps:{sx:{minWidth:{xs:"80vw",md:"50vw"},minHeight:{xs:"20vh",md:"22vh"}}},children:[(0,t.jsxs)(I.DialogTitle,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1},children:[(0,t.jsxs)(n.Box,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,t.jsx)(n.Box,{component:"img",src:"/marketing/an-logo.png",alt:"Logo",sx:{width:32,height:32,objectFit:"contain"}}),(0,t.jsx)(v.Typography,{variant:"h6",children:G?"Edit note":"Add note"})]}),(0,t.jsx)(A.IconButton,{"aria-label":"Close",onClick:()=>z(!1),children:"×"})]}),(0,t.jsxs)(T.DialogContent,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[(0,t.jsx)(D.TextField,{label:"Subject",value:K.title||"",onChange:e=>H(t=>({...t,title:e.target.value})),"data-testid":"note-title"}),(0,t.jsx)(D.TextField,{label:"Type",select:!0,value:K.type||"other",onChange:e=>H(t=>({...t,type:e.target.value})),"data-testid":"note-type",children:["recruiting","account","advice","event","other"].map(e=>(0,t.jsx)(f.MenuItem,{value:e,children:e},e))}),(0,t.jsx)(D.TextField,{label:"Note",multiline:!0,minRows:3,value:K.body,onChange:e=>H(t=>({...t,body:e.target.value})),error:!!Y,helperText:Y,"data-testid":"note-body"})]}),(0,t.jsxs)(M.DialogActions,{children:[(0,t.jsx)(r.Button,{onClick:()=>z(!1),children:"Cancel"}),(0,t.jsx)(r.Button,{variant:"contained",onClick:q,disabled:S||j,"data-testid":"note-save",children:G?"Save changes":"Add note"})]})]})]})}var U=e.i(87345);function z(){var e;let C=(0,w.useParams)(),M=(0,w.useSearchParams)(),T=(0,w.useRouter)(),I=Array.isArray(C?.id)?C?.id[0]:C?.id,[A,D]=i.default.useState(null),[k,N]=i.default.useState(0),[R,E]=i.default.useState(null),[P,F]=i.default.useState(null);i.default.useEffect(()=>{let e=!0;return(async()=>{if(!I)return;let t=await (0,S.getClient)(I);e&&F(t)})(),()=>{e=!1}},[I]);let O=i.default.useMemo(()=>P?.id?(0,j.getMailEntries)().filter(e=>e.clientId===P.id):[],[P?.id]);if(i.default.useEffect(()=>{"notes"===M?.get("tab")&&N(1)},[M]),!P)return(0,t.jsx)(n.Box,{sx:{p:3},children:(0,t.jsx)(v.Typography,{variant:"h6",children:"Athlete not found"})});let $=`${P.firstName??""} ${P.lastName??""}`.trim()||"Unknown Athlete",W=(e=P.sport)?e.replace(/([a-z])([A-Z])/g,"$1 $2"):"Unknown sport",B=P.photoUrl||P.profileImageUrl||"/marketing/an-logo.png",z=()=>D(null);return(0,t.jsxs)(n.Box,{sx:{p:3,bgcolor:"#fff",borderRadius:2},children:[(0,t.jsxs)(g.Stack,{direction:"row",alignItems:"center",spacing:2,sx:{mb:2},children:[(0,t.jsx)(a.Avatar,{src:B,alt:$,sx:{width:56,height:56}}),(0,t.jsxs)(n.Box,{sx:{flex:1,minWidth:0},children:[(0,t.jsx)(v.Typography,{variant:"h6",noWrap:!0,children:$}),(0,t.jsx)(v.Typography,{variant:"body2",color:"text.secondary",noWrap:!0,children:W})]}),(0,t.jsx)(r.Button,{variant:"outlined",endIcon:(0,t.jsx)(b.IoChevronDownOutline,{}),onClick:e=>D(e.currentTarget),children:"Actions"}),(0,t.jsxs)(m.Menu,{anchorEl:A,open:!!A,onClose:z,children:[(0,t.jsx)(f.MenuItem,{onClick:()=>{z(),T.push(`/clients/${P.id}/edit`)},children:"Edit"}),(0,t.jsx)(f.MenuItem,{onClick:()=>{z(),T.push(`/clients/${P.id}/delete`)},sx:{color:"#f04438"},children:"Delete account"})]})]}),(0,t.jsx)(u.Divider,{sx:{mb:2}}),(0,t.jsxs)(x.default,{value:k,onChange:(e,t)=>N(t),sx:{mb:1},children:[(0,t.jsx)(y.default,{label:"Emails"}),(0,t.jsx)(y.default,{label:"Notes","data-testid":"notes-tab"}),(0,t.jsx)(y.default,{label:"Tasks","data-testid":"tasks-tab"})]}),0===k&&(0,t.jsx)(o.Card,{variant:"outlined",sx:{borderRadius:2},children:(0,t.jsxs)(s.CardContent,{sx:{p:0},children:[(0,t.jsxs)(n.Box,{sx:{px:2,pt:2,pb:1,display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(l.Chip,{label:"Sent",color:"primary",variant:"outlined"}),(0,t.jsxs)(v.Typography,{variant:"body2",color:"text.secondary",children:[O.length," sent"]})]}),(0,t.jsx)(u.Divider,{}),(0,t.jsxs)(c.List,{disablePadding:!0,children:[O.map(e=>{let a=e.id||`${e.email||e.to||""}-${e.subject||""}-${e.mailedAt||e.sentAt||e.date||""}`,o=R===a,s=e.sentAt||e.date||e.mailedAt||Date.now();return(0,t.jsxs)(i.default.Fragment,{children:[(0,t.jsx)(p.default,{secondaryAction:(0,t.jsxs)(g.Stack,{alignItems:"flex-end",spacing:.5,children:[(0,t.jsxs)(v.Typography,{variant:"body2",color:"text.secondary",children:[new Date(s).toLocaleDateString()," ",new Date(s).toLocaleTimeString()]}),(0,t.jsx)(r.Button,{size:"small",onClick:()=>E(o?null:a),children:o?"Hide":"View"})]}),children:(0,t.jsx)(h.ListItemText,{primary:(0,t.jsxs)(g.Stack,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",children:[(0,t.jsx)(v.Typography,{variant:"subtitle2",children:(e.recipientFirstName||"First")+" "+(e.recipientLastName||"Last")}),(0,t.jsxs)(v.Typography,{variant:"body2",color:"text.secondary",children:["• ",e.university||"University"]}),(0,t.jsxs)(v.Typography,{variant:"body2",color:"text.secondary",children:["• ",e.position||"Position"]})]}),secondary:(0,t.jsx)(v.Typography,{variant:"body2",color:"text.secondary",noWrap:!0,children:e.subject||"(No subject)"})})}),(0,t.jsx)(d.default,{in:o,timeout:"auto",unmountOnExit:!0,children:(0,t.jsx)(n.Box,{sx:{px:3,pb:2},children:(0,t.jsx)(v.Typography,{variant:"body2",color:"text.primary",sx:{whiteSpace:"pre-wrap"},children:e.body||e.html||"(No content)"})})}),(0,t.jsx)(u.Divider,{})]},a)}),0===O.length&&(0,t.jsx)(n.Box,{sx:{px:3,py:4},children:(0,t.jsx)(v.Typography,{variant:"body2",color:"text.secondary",children:"No sent emails yet."})})]})]})}),1===k&&(0,t.jsx)(n.Box,{sx:{mt:2},children:(0,t.jsx)(L,{athleteId:P.id})}),2===k&&(0,t.jsx)(n.Box,{sx:{mt:2},children:(0,t.jsx)(U.TasksPanel,{athleteId:P.id})})]})}e.s(["default",()=>z],56011)}]);