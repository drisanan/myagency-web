(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32963,e=>{"use strict";var t=e.i(67719);e.s(["Paper",()=>t.default])},96928,e=>{"use strict";var t=e.i(71645);e.s(["default",0,function(e,a){return t.isValidElement(e)&&-1!==a.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)}],96928)},69437,e=>{"use strict";var t=e.i(36151);e.s(["TextField",()=>t.default])},89106,e=>{"use strict";let t,a="agencies_data";function i(e){window.localStorage.setItem(a,JSON.stringify(e))}let r=[{id:"agency-001",name:"Prime Sports",email:"agency1@an.test",settings:{primaryColor:"#1976d2"}},{id:"agency-002",name:"NextGen",email:"agency2@an.test",settings:{primaryColor:"#9c27b0"}},{id:"agency-003",name:"Elite Edge",email:"agency3@an.test",settings:{primaryColor:"#2e7d32"}}],l=(t=function(){let e=window.localStorage.getItem(a);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}()).length>0?t:(i(r),[...r]);async function n(){return l.map(e=>({id:e.id,name:e.name}))}async function o(){return[...l]}async function s(e){return l.find(t=>t.email===e)??null}async function d(e){return l.find(t=>t.id===e)??null}async function c(e){if(e.id){let t=l.findIndex(t=>t.id===e.id);if(t>=0)return l[t]={...l[t],...e,id:e.id},i(l),{id:e.id}}let t=`agency-${(1e6*Math.random()).toFixed(0)}`;return l.push({id:t,name:e.name,email:e.email,password:e.password,ownerFirstName:e.ownerFirstName,ownerLastName:e.ownerLastName,ownerEmail:e.ownerEmail,ownerPhone:e.ownerPhone,active:e.active??!0,settings:e.settings??{}}),i(l),{id:t}}e.s(["getAgencies",()=>o,"getAgencyByEmail",()=>s,"getAgencyById",()=>d,"listAgencies",()=>n,"upsertAgency",()=>c])},90349,e=>{"use strict";e.i(89106);let t="clients_data",a=new Date,i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),5)).toISOString(),r=new Date(Date.UTC(a.getFullYear(),a.getMonth()-1,12)).toISOString(),l=[{id:"ag1-c1",email:"a1@athletes.test",firstName:"Ava",lastName:"Smith",sport:"Football",agencyEmail:"agency1@an.test",createdAt:i},{id:"ag1-c2",email:"a2@athletes.test",firstName:"Ben",lastName:"Jones",sport:"Basketball",agencyEmail:"agency1@an.test",createdAt:i},{id:"ag1-c3",email:"a3@athletes.test",firstName:"Chloe",lastName:"Diaz",sport:"Soccer",agencyEmail:"agency1@an.test",createdAt:r},{id:"ag2-c1",email:"b1@athletes.test",firstName:"Cara",lastName:"Lee",sport:"Baseball",agencyEmail:"agency2@an.test",createdAt:r},{id:"ag3-c1",email:"c1@athletes.test",firstName:"Dan",lastName:"Kim",sport:"Soccer",agencyEmail:"agency3@an.test",createdAt:r},{id:"ag3-c2",email:"c2@athletes.test",firstName:"Eli",lastName:"Moore",sport:"Football",agencyEmail:"agency3@an.test",createdAt:r}];function n(){let e=window.localStorage.getItem(t);if(!e)return[...l];try{let t=JSON.parse(e);return t.length?t:[...l]}catch{return[...l]}}function o(e){window.localStorage.setItem(t,JSON.stringify(e))}let s=n();async function d(e){return(s=n()).filter(t=>t.agencyEmail===e)}async function c(e){let t=e.id??`c-${(1e6*Math.random()).toFixed(0)}`,a=s.findIndex(e=>e.id===t);console.debug("[clients] upsertClient payload",e);let i=e.createdAt??s[a]?.createdAt??new Date().toISOString(),r={...s[a],...e,id:t,createdAt:i};return a>=0?s[a]=r:s.push(r),o(s),r}async function u(e){s=n();try{let a=window.localStorage.getItem(t);if(a){let t=JSON.parse(a),i=t.find(t=>t.id===e);if(i)return s=t,i}}catch{}let a=s.find(t=>t.id===e);return a||(a=(s=n()).find(t=>t.id===e)),a??{id:e,email:"athlete1@example.com",firstName:"A1",lastName:"L1",sport:"Football",agencyEmail:""}}async function p(e){let t=s.findIndex(t=>t.id===e);return t>=0&&(s.splice(t,1),o(s)),{ok:!0}}async function m(){let e=window.localStorage.getItem("session");if(e)try{let t=JSON.parse(e);if("agency"===t.role){let e=await d(t.email);return console.debug("[clients] getClients list size",e.length),e}}catch{}return[]}function h(e,t){let a=s.findIndex(t=>t.id===e);a>=0&&(s[a]={...s[a],gmailTokens:t,gmailConnected:!0},o(s))}function f(e){let t=s.find(t=>t.id===e);return t?.gmailTokens??null}e.s(["deleteClient",()=>p,"getClient",()=>u,"getClientGmailTokens",()=>f,"getClients",()=>m,"listClientsByAgencyEmail",()=>d,"setClientGmailTokens",()=>h,"upsertClient",()=>c])},3737,13892,4052,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),i=e.i(19130),r=e.i(42196);let l=t.createContext();e.s(["default",0,l],13892);let n=t.createContext();e.s(["default",0,n],4052);var o=e.i(40799),s=e.i(75149),d=e.i(94425),c=e.i(40672),u=e.i(19727);function p(e){return(0,u.default)("MuiTableCell",e)}let m=(0,c.default)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var h=e.i(43476);let f=(0,o.styled)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,r.default)(a.size)}`],"normal"!==a.padding&&t[`padding${(0,r.default)(a.padding)}`],"inherit"!==a.align&&t[`align${(0,r.default)(a.align)}`],a.stickyHeader&&t.stickyHeader]}})((0,s.default)(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${m.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),g=t.forwardRef(function(e,o){let s,c=(0,d.useDefaultProps)({props:e,name:"MuiTableCell"}),{align:u="inherit",className:m,component:g,padding:y,scope:b,size:v,sortDirection:x,variant:w,...k}=c,C=t.useContext(l),S=t.useContext(n),$=S&&"head"===S.variant,j=b;"td"===(s=g||($?"th":"td"))?j=void 0:!j&&$&&(j="col");let N=w||S&&S.variant,B={...c,align:u,component:s,padding:y||(C&&C.padding?C.padding:"normal"),size:v||(C&&C.size?C.size:"medium"),sortDirection:x,stickyHeader:"head"===N&&C&&C.stickyHeader,variant:N},z=(e=>{let{classes:t,variant:a,align:l,padding:n,size:o,stickyHeader:s}=e,d={root:["root",a,s&&"stickyHeader","inherit"!==l&&`align${(0,r.default)(l)}`,"normal"!==n&&`padding${(0,r.default)(n)}`,`size${(0,r.default)(o)}`]};return(0,i.default)(d,p,t)})(B),P=null;return x&&(P="asc"===x?"ascending":"descending"),(0,h.jsx)(f,{as:s,ref:o,className:(0,a.default)(z.root,m),"aria-sort":P,scope:j,ownerState:B,...k})});e.s(["default",0,g],3737)},60291,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),i=e.i(19130),r=e.i(42196),l=e.i(35057),n=e.i(94763),o=e.i(40799),s=e.i(75149),d=e.i(94425),c=e.i(40672),u=e.i(19727);function p(e){return(0,u.default)("MuiSwitch",e)}let m=(0,c.default)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var h=e.i(48106),f=e.i(43476);let g=(0,o.styled)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.edge&&t[`edge${(0,r.default)(a.edge)}`],t[`size${(0,r.default)(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${m.thumb}`]:{width:16,height:16},[`& .${m.switchBase}`]:{padding:4,[`&.${m.checked}`]:{transform:"translateX(16px)"}}}}]}),y=(0,o.styled)(n.default,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.switchBase,{[`& .${m.input}`]:t.input},"default"!==a.color&&t[`color${(0,r.default)(a.color)}`]]}})((0,s.default)(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${m.checked}`]:{transform:"translateX(20px)"},[`&.${m.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${m.checked} + .${m.track}`]:{opacity:.5},[`&.${m.disabled} + .${m.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${"light"===e.palette.mode?.12:.2}`},[`& .${m.input}`]:{left:"-100%",width:"300%"}})),(0,s.default)(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter((0,l.default)(["light"])).map(([t])=>({props:{color:t},style:{[`&.${m.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${m.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${"light"===e.palette.mode?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${m.checked} + .${m.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),b=(0,o.styled)("span",{name:"MuiSwitch",slot:"Track"})((0,s.default)(({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${"light"===e.palette.mode?.38:.3}`}))),v=(0,o.styled)("span",{name:"MuiSwitch",slot:"Thumb"})((0,s.default)(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),x=t.forwardRef(function(e,t){let l=(0,d.useDefaultProps)({props:e,name:"MuiSwitch"}),{className:n,color:o="primary",edge:s=!1,size:c="medium",sx:u,slots:m={},slotProps:x={},...w}=l,k={...l,color:o,edge:s,size:c},C=(e=>{let{classes:t,edge:a,size:l,color:n,checked:o,disabled:s}=e,d={root:["root",a&&`edge${(0,r.default)(a)}`,`size${(0,r.default)(l)}`],switchBase:["switchBase",`color${(0,r.default)(n)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=(0,i.default)(d,p,t);return{...t,...c}})(k),S={slots:m,slotProps:x},[$,j]=(0,h.default)("root",{className:(0,a.default)(C.root,n),elementType:g,externalForwardedProps:S,ownerState:k,additionalProps:{sx:u}}),[N,B]=(0,h.default)("thumb",{className:C.thumb,elementType:v,externalForwardedProps:S,ownerState:k}),z=(0,f.jsx)(N,{...B}),[P,T]=(0,h.default)("track",{className:C.track,elementType:b,externalForwardedProps:S,ownerState:k});return(0,f.jsxs)($,{...j,children:[(0,f.jsx)(y,{type:"checkbox",icon:z,checkedIcon:z,ref:t,ownerState:k,...w,classes:{...C,root:C.switchBase},slots:{...m.switchBase&&{root:m.switchBase},...m.input&&{input:m.input}},slotProps:{...x.switchBase&&{root:"function"==typeof x.switchBase?x.switchBase(k):x.switchBase},input:{role:"switch"},...x.input&&{input:"function"==typeof x.input?x.input(k):x.input}}}),(0,f.jsx)(P,{...T})]})});e.s(["default",0,x],60291)},94763,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(19130),i=e.i(42196),r=e.i(52039),l=e.i(40799),n=e.i(88088),o=e.i(47562),s=e.i(54033),d=e.i(40672),c=e.i(19727);function u(e){return(0,c.default)("PrivateSwitchBase",e)}(0,d.default)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var p=e.i(48106),m=e.i(43476);let h=(0,l.styled)(s.default,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>"start"===e&&"small"!==t.size,style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>"end"===e&&"small"!==t.size,style:{marginRight:-12}}]}),f=(0,l.styled)("input",{name:"MuiSwitchBase",shouldForwardProp:r.default})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),g=t.forwardRef(function(e,t){let{autoFocus:r,checked:l,checkedIcon:s,defaultChecked:d,disabled:c,disableFocusRipple:g=!1,edge:y=!1,icon:b,id:v,inputProps:x,inputRef:w,name:k,onBlur:C,onChange:S,onFocus:$,readOnly:j,required:N=!1,tabIndex:B,type:z,value:P,slots:T={},slotProps:R={},...M}=e,[A,I]=(0,n.default)({controlled:l,default:!!d,name:"SwitchBase",state:"checked"}),E=(0,o.default)(),F=c;E&&void 0===F&&(F=E.disabled);let O="checkbox"===z||"radio"===z,D={...e,checked:A,disabled:F,disableFocusRipple:g,edge:y},L=(e=>{let{classes:t,checked:r,disabled:l,edge:n}=e,o={root:["root",r&&"checked",l&&"disabled",n&&`edge${(0,i.default)(n)}`],input:["input"]};return(0,a.default)(o,u,t)})(D),H={slots:T,slotProps:{input:x,...R}},[U,J]=(0,p.default)("root",{ref:t,elementType:h,className:L.root,shouldForwardComponentProp:!0,externalForwardedProps:{...H,component:"span",...M},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),$&&$(t),E&&E.onFocus&&E.onFocus(t)},onBlur:t=>{e.onBlur?.(t),C&&C(t),E&&E.onBlur&&E.onBlur(t)}}),ownerState:D,additionalProps:{centerRipple:!0,focusRipple:!g,disabled:F,role:void 0,tabIndex:null}}),[W,G]=(0,p.default)("input",{ref:w,elementType:f,className:L.input,externalForwardedProps:H,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented)return;let t=e.target.checked;I(t),S&&S(e,t)})(t)}}),ownerState:D,additionalProps:{autoFocus:r,checked:l,defaultChecked:d,disabled:F,id:O?v:void 0,name:k,readOnly:j,required:N,tabIndex:B,type:z,..."checkbox"===z&&void 0===P?{}:{value:P}}});return(0,m.jsxs)(U,{...J,children:[(0,m.jsx)(W,{...G}),A?s:b]})});e.s(["default",0,g],94763)},53332,57675,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),i=e.i(19130),r=e.i(47562),r=r,l=e.i(40799),n=e.i(75149),o=e.i(94425),s=e.i(26863),d=e.i(42196),c=e.i(40672),u=e.i(19727);function p(e){return(0,u.default)("MuiFormControlLabel",e)}let m=(0,c.default)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);e.s(["default",0,m,"getFormControlLabelUtilityClasses",()=>p],57675);var h=e.i(49313),f=e.i(48106),g=e.i(43476);let y=(0,l.styled)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[{[`& .${m.label}`]:t.label},t.root,t[`labelPlacement${(0,d.default)(a.labelPlacement)}`]]}})((0,n.default)(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${m.disabled}`]:{cursor:"default"},[`& .${m.label}`]:{[`&.${m.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>"start"===e||"top"===e||"bottom"===e,style:{marginLeft:16}}]}))),b=(0,l.styled)("span",{name:"MuiFormControlLabel",slot:"Asterisk"})((0,n.default)(({theme:e})=>({[`&.${m.error}`]:{color:(e.vars||e).palette.error.main}}))),v=t.forwardRef(function(e,l){let n=(0,o.useDefaultProps)({props:e,name:"MuiFormControlLabel"}),{checked:c,className:u,componentsProps:m={},control:v,disabled:x,disableTypography:w,inputRef:k,label:C,labelPlacement:S="end",name:$,onChange:j,required:N,slots:B={},slotProps:z={},value:P,...T}=n,R=(0,r.default)(),M=x??v.props.disabled??R?.disabled,A=N??v.props.required,I={disabled:M,required:A};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===v.props[e]&&void 0!==n[e]&&(I[e]=n[e])});let E=(0,h.default)({props:n,muiFormControl:R,states:["error"]}),F={...n,disabled:M,labelPlacement:S,required:A,error:E.error},O=(e=>{let{classes:t,disabled:a,labelPlacement:r,error:l,required:n}=e,o={root:["root",a&&"disabled",`labelPlacement${(0,d.default)(r)}`,l&&"error",n&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",l&&"error"]};return(0,i.default)(o,p,t)})(F),D={slots:B,slotProps:{...m,...z}},[L,H]=(0,f.default)("typography",{elementType:s.default,externalForwardedProps:D,ownerState:F}),U=C;return null==U||U.type===s.default||w||(U=(0,g.jsx)(L,{component:"span",...H,className:(0,a.default)(O.label,H?.className),children:U})),(0,g.jsxs)(y,{className:(0,a.default)(O.root,u),ownerState:F,ref:l,...T,children:[t.cloneElement(v,I),A?(0,g.jsxs)("div",{children:[U,(0,g.jsxs)(b,{ownerState:F,"aria-hidden":!0,className:O.asterisk,children:[" ","*"]})]}):U]})});e.s(["default",0,v],53332)},39855,e=>{"use strict";e.i(47167);var t=e.i(71645),a=e.i(7670),i=e.i(19130),r=e.i(94763),l=e.i(54624),n=e.i(43476);let o=(0,l.default)((0,n.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),s=(0,l.default)((0,n.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),d=(0,l.default)((0,n.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var c=e.i(42196),u=e.i(52039),p=e.i(40672),m=e.i(19727);function h(e){return(0,m.default)("MuiCheckbox",e)}let f=(0,p.default)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]);var g=e.i(40799),y=e.i(75149),b=e.i(35057),v=e.i(94425),x=e.i(84476),w=e.i(48106);let k=(0,g.styled)(r.default,{shouldForwardProp:e=>(0,u.default)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.indeterminate&&t.indeterminate,t[`size${(0,c.default)(a.size)}`],"default"!==a.color&&t[`color${(0,c.default)(a.color)}`]]}})((0,y.default)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,b.default)()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,b.default)()).map(([t])=>({props:{color:t},style:{[`&.${f.checked}, &.${f.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${f.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),C=(0,n.jsx)(s,{}),S=(0,n.jsx)(o,{}),$=(0,n.jsx)(d,{}),j=t.forwardRef(function(e,r){let l=(0,v.useDefaultProps)({props:e,name:"MuiCheckbox"}),{checkedIcon:o=C,color:s="primary",icon:d=S,indeterminate:u=!1,indeterminateIcon:p=$,inputProps:m,size:f="medium",disableRipple:g=!1,className:y,slots:b={},slotProps:j={},...N}=l,B=u?p:d,z=u?p:o,P={...l,disableRipple:g,color:s,indeterminate:u,size:f},T=(e=>{let{classes:t,indeterminate:a,color:r,size:l}=e,n={root:["root",a&&"indeterminate",`color${(0,c.default)(r)}`,`size${(0,c.default)(l)}`]},o=(0,i.default)(n,h,t);return{...t,...o}})(P),R=j.input??m,[M,A]=(0,w.default)("root",{ref:r,elementType:k,className:(0,a.default)(T.root,y),shouldForwardComponentProp:!0,externalForwardedProps:{slots:b,slotProps:j,...N},ownerState:P,additionalProps:{type:"checkbox",icon:t.cloneElement(B,{fontSize:B.props.fontSize??f}),checkedIcon:t.cloneElement(z,{fontSize:z.props.fontSize??f}),disableRipple:g,slots:b,slotProps:{input:(0,x.mergeSlotProps)("function"==typeof R?R(P):R,{"data-indeterminate":u})}}});return(0,n.jsx)(M,{...A,classes:T})});e.s(["default",0,j],39855)},16293,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(66027),r=e.i(90349),l=e.i(53967),n=e.i(34251),o=e.i(63745),s=e.i(76552),d=e.i(66796),c=e.i(38479),u=e.i(32963),p=e.i(33906);function m(){let{session:e}=(0,p.useSession)(),a=e?.email||"",{data:m=[],refetch:h}=(0,i.useQuery)({queryKey:["clients",a],queryFn:()=>a?(0,r.listClientsByAgencyEmail)(a):[],enabled:!!a}),f=[{field:"athlete",headerName:"Athlete",flex:1.4,sortable:!1,renderCell:e=>{let a=e.row,i=`${a.firstName??""} ${a.lastName??""}`.trim()||"Unknown",r=a?.description||a?.radar?.description||"No description provided",l=a?.photoUrl||a?.profileImageUrl||"/marketing/an-logo.png";return(0,t.jsxs)(s.Box,{sx:{display:"flex",alignItems:"center",gap:1.5,minWidth:0,height:"100%"},children:[(0,t.jsx)(c.Avatar,{src:l,alt:i,sx:{width:40,height:40,borderRadius:"50%"}}),(0,t.jsxs)(s.Box,{sx:{minWidth:0,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,t.jsx)(d.Typography,{variant:"subtitle2",sx:{fontWeight:700,lineHeight:1.1},noWrap:!0,children:i}),(0,t.jsx)(d.Typography,{variant:"body2",color:"text.secondary",noWrap:!0,children:r})]})]})}},{field:"email",headerName:"Email",flex:1},{field:"sport",headerName:"Sport",width:120},{field:"actions",headerName:"Actions",width:200,sortable:!1,renderCell:e=>(0,t.jsxs)(o.Stack,{direction:"row",spacing:1,children:[(0,t.jsx)(n.Button,{size:"small",href:`/clients/${e.row.id}`,children:"View"}),(0,t.jsx)(n.Button,{size:"small",href:`/clients/${e.row.id}/edit`,children:"Edit"}),(0,t.jsx)(n.Button,{size:"small",color:"error",onClick:async()=>{await (0,r.deleteClient)(e.row.id),h()},children:"Delete"})]})}];return(0,t.jsx)(u.Paper,{sx:{height:520,width:"100%",borderRadius:2.5,overflow:"hidden"},children:(0,t.jsx)(l.DataGrid,{rows:m,columns:f,getRowId:e=>e.id,disableRowSelectionOnClick:!0,sx:{"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f9fafb",borderBottom:"none"},"& .MuiDataGrid-columnHeader":{borderRight:"none"}}})})}var h=e.i(69437),f=e.i(22016),g=e.i(12598);function y(){let{session:e}=(0,p.useSession)(),i=(0,g.useQueryClient)(),[l,s]=a.default.useState(""),[c,u]=a.default.useState(!1),[y,b]=a.default.useState(!1);async function v(){try{if(!e?.email)return;u(!0);let t=await fetch("/api/forms/issue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agencyEmail:e.email})}),a=await t.json();if(!t.ok||!a?.ok)throw Error(a?.error||"Failed to create link");s(a.url)}catch{s("")}finally{u(!1)}}async function x(){if(l)try{await navigator.clipboard.writeText(l),b(!0),setTimeout(()=>b(!1),1500)}catch{}}return a.default.useEffect(()=>{(async()=>{if(e?.email)try{let t=await fetch(`/api/forms/submissions?agencyEmail=${encodeURIComponent(e.email)}`),a=await t.json();if(!a?.ok)return;let l=Array.isArray(a.items)?a.items:[],n=[];for(let t of l){let a=t?.data||{},i={id:t.id,email:a.email||"",phone:a.phone||"",password:a.password||"",firstName:a.firstName||"",lastName:a.lastName||"",sport:a.sport||"",division:a.division||"",agencyEmail:e.email,photoUrl:a.profileImageUrl||"",radar:a.radar||{}};await (0,r.upsertClient)(i),n.push(t.id)}n.length&&(await fetch("/api/forms/consume",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agencyEmail:e.email,ids:n})}),i.invalidateQueries({queryKey:["clients",e.email]}))}catch{}})()},[e?.email]),(0,t.jsxs)(o.Stack,{spacing:2,children:[(0,t.jsxs)(o.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsx)(d.Typography,{variant:"h4",children:"Athletes"}),(0,t.jsxs)(o.Stack,{direction:"row",spacing:1,children:[(0,t.jsx)(n.Button,{LinkComponent:f.default,href:"/clients/new",variant:"contained",children:"New"}),(0,t.jsx)(n.Button,{variant:"outlined",onClick:v,disabled:c,children:c?"Generating…":"Generate Form Link"})]})]}),l?(0,t.jsxs)(o.Stack,{direction:{xs:"column",md:"row"},spacing:1,alignItems:"center",children:[(0,t.jsx)(h.TextField,{label:"Intake Link",value:l,fullWidth:!0,InputProps:{readOnly:!0}}),(0,t.jsx)(n.Button,{variant:"outlined",onClick:x,children:y?"Copied":"Copy"}),(0,t.jsx)(n.Button,{variant:"text",LinkComponent:f.default,href:l,target:"_blank",children:"Open"})]}):null,(0,t.jsx)(m,{})]})}e.s(["default",()=>y],16293)}]);