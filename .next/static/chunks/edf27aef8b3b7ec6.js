(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32963,e=>{"use strict";var t=e.i(67719);e.s(["Paper",()=>t.default])},96928,e=>{"use strict";var t=e.i(71645);e.s(["default",0,function(e,a){return t.isValidElement(e)&&-1!==a.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)}],96928)},69437,e=>{"use strict";var t=e.i(36151);e.s(["TextField",()=>t.default])},89106,e=>{"use strict";let t,a="agencies_data";function n(e){window.localStorage.setItem(a,JSON.stringify(e))}let i=[{id:"agency-001",name:"Prime Sports",email:"agency1@an.test",settings:{primaryColor:"#1976d2"}},{id:"agency-002",name:"NextGen",email:"agency2@an.test",settings:{primaryColor:"#9c27b0"}},{id:"agency-003",name:"Elite Edge",email:"agency3@an.test",settings:{primaryColor:"#2e7d32"}}],l=(t=function(){let e=window.localStorage.getItem(a);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}()).length>0?t:(n(i),[...i]);async function r(){return l.map(e=>({id:e.id,name:e.name}))}async function s(){return[...l]}async function o(e){return l.find(t=>t.email===e)??null}async function c(e){return l.find(t=>t.id===e)??null}async function d(e){if(e.id){let t=l.findIndex(t=>t.id===e.id);if(t>=0)return l[t]={...l[t],...e,id:e.id},n(l),{id:e.id}}let t=`agency-${(1e6*Math.random()).toFixed(0)}`;return l.push({id:t,name:e.name,email:e.email,password:e.password,ownerFirstName:e.ownerFirstName,ownerLastName:e.ownerLastName,ownerEmail:e.ownerEmail,ownerPhone:e.ownerPhone,active:e.active??!0,settings:e.settings??{}}),n(l),{id:t}}e.s(["getAgencies",()=>s,"getAgencyByEmail",()=>o,"getAgencyById",()=>c,"listAgencies",()=>r,"upsertAgency",()=>d])},90349,e=>{"use strict";e.i(89106);let t="clients_data",a=new Date,n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),5)).toISOString(),i=new Date(Date.UTC(a.getFullYear(),a.getMonth()-1,12)).toISOString(),l=[{id:"ag1-c1",email:"a1@athletes.test",firstName:"Ava",lastName:"Smith",sport:"Football",agencyEmail:"agency1@an.test",createdAt:n},{id:"ag1-c2",email:"a2@athletes.test",firstName:"Ben",lastName:"Jones",sport:"Basketball",agencyEmail:"agency1@an.test",createdAt:n},{id:"ag1-c3",email:"a3@athletes.test",firstName:"Chloe",lastName:"Diaz",sport:"Soccer",agencyEmail:"agency1@an.test",createdAt:i},{id:"ag2-c1",email:"b1@athletes.test",firstName:"Cara",lastName:"Lee",sport:"Baseball",agencyEmail:"agency2@an.test",createdAt:i},{id:"ag3-c1",email:"c1@athletes.test",firstName:"Dan",lastName:"Kim",sport:"Soccer",agencyEmail:"agency3@an.test",createdAt:i},{id:"ag3-c2",email:"c2@athletes.test",firstName:"Eli",lastName:"Moore",sport:"Football",agencyEmail:"agency3@an.test",createdAt:i}];function r(){let e=window.localStorage.getItem(t);if(!e)return[...l];try{let t=JSON.parse(e);return t.length?t:[...l]}catch{return[...l]}}function s(e){window.localStorage.setItem(t,JSON.stringify(e))}let o=r();async function c(e){return(o=r()).filter(t=>t.agencyEmail===e)}async function d(e){let t=e.id??`c-${(1e6*Math.random()).toFixed(0)}`,a=o.findIndex(e=>e.id===t);console.debug("[clients] upsertClient payload",e);let n=e.createdAt??o[a]?.createdAt??new Date().toISOString(),i={...o[a],...e,id:t,createdAt:n};return a>=0?o[a]=i:o.push(i),s(o),i}async function u(e){o=r();try{let a=window.localStorage.getItem(t);if(a){let t=JSON.parse(a),n=t.find(t=>t.id===e);if(n)return o=t,n}}catch{}let a=o.find(t=>t.id===e);return a||(a=(o=r()).find(t=>t.id===e)),a??{id:e,email:"athlete1@example.com",firstName:"A1",lastName:"L1",sport:"Football",agencyEmail:""}}async function m(e){let t=o.findIndex(t=>t.id===e);return t>=0&&(o.splice(t,1),s(o)),{ok:!0}}async function g(){let e=window.localStorage.getItem("session");if(e)try{let t=JSON.parse(e);if("agency"===t.role){let e=await c(t.email);return console.debug("[clients] getClients list size",e.length),e}}catch{}return[]}function p(e,t){let a=o.findIndex(t=>t.id===e);a>=0&&(o[a]={...o[a],gmailTokens:t,gmailConnected:!0},s(o))}function f(e){let t=o.find(t=>t.id===e);return t?.gmailTokens??null}e.s(["deleteClient",()=>m,"getClient",()=>u,"getClientGmailTokens",()=>f,"getClients",()=>g,"listClientsByAgencyEmail",()=>c,"setClientGmailTokens",()=>p,"upsertClient",()=>d])},51481,e=>{"use strict";async function t(e){let t=await fetch("/api/ai/intro",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.text().catch(()=>"");throw Error(`HTTP ${t.status}: ${e||t.statusText}`)}let a=await t.json();if(a?.error)throw Error(a.error);return String(a.intro??"")}e.s(["generateIntro",()=>t])},20995,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(76552),i=e.i(34251),l=e.i(69437),r=e.i(66796),s=e.i(11458),o=e.i(63745),c=e.i(32963),d=e.i(33906),u=e.i(90349);let m="ai_prompts_v1";function g(){try{let e=window.localStorage.getItem(m);return e?JSON.parse(e):[]}catch{return[]}}function p(e){window.localStorage.setItem(m,JSON.stringify(e))}var f=e.i(51481),h=e.i(89106);function y(){let{session:e}=(0,d.useSession)(),[m,y]=a.default.useState([]),[x,w]=a.default.useState(""),[S,v]=a.default.useState(""),[N,b]=a.default.useState([]),[C,j]=a.default.useState(""),[I,T]=a.default.useState(""),[A,E]=a.default.useState(""),[P,B]=a.default.useState(""),[k,F]=a.default.useState(!1),[O,M]=a.default.useState(null),[$,D]=a.default.useState(""),J=a.default.useMemo(()=>m.find(e=>e.id===x)||null,[m,x]);async function R(){try{F(!0),M(null),B("");let e=J?.firstName||"",t=J?.lastName||"",a=J?.sport||"",n=`${e} ${t}`.trim(),i=await (0,f.generateIntro)({sport:a,collegeName:$||"",coachMessage:S||"Write a concise, friendly intro email.",tone:"A highschool kid who loves sports",qualities:["Passionate","Hardworking","Determined"],additionalInsights:`Student full name: ${n}. FirstName: ${e}. LastName: ${t}. Sport: ${a}. Use the student’s actual name; no placeholders.`});B(String(i))}catch(e){M(e?.message||"Failed to run prompt")}finally{F(!1)}}return a.default.useEffect(()=>{e?.email&&((0,u.listClientsByAgencyEmail)(e.email).then(y),(0,h.getAgencyByEmail)(e.email).then(e=>D(e?.name||"")))},[e?.email]),a.default.useEffect(()=>{if(e?.email){var t;b((t={agencyEmail:e.email,clientId:x},g().filter(e=>e.agencyEmail===t.agencyEmail&&(!t.clientId||e.clientId===t.clientId)).sort((e,t)=>t.updatedAt-e.updatedAt)))}},[e?.email,x]),(0,t.jsxs)(n.Box,{sx:{display:"grid",gap:2},children:[(0,t.jsx)(c.Paper,{variant:"outlined",sx:{p:2,borderRadius:2.5,borderColor:"#dcdfe4"},children:(0,t.jsxs)(n.Box,{sx:{display:"grid",gap:2},children:[(0,t.jsx)(r.Typography,{variant:"h5",children:"AI Prompt Playground (Playground)"}),(0,t.jsx)(r.Typography,{variant:"body2",color:"text.secondary",children:"This area is used for testing, generating, and saving your prompts for athletes. You can name prompts (e.g., “John Doe – introduction”) and reuse them when generating that athlete’s introduction email."}),O&&(0,t.jsx)(r.Typography,{color:"error",children:O}),(0,t.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:[(0,t.jsxs)(l.TextField,{select:!0,label:"Athlete",value:x,onChange:e=>w(e.target.value),SelectProps:{MenuProps:{disablePortal:!0}},children:[(0,t.jsx)(s.MenuItem,{value:"",children:"(Select a client)"}),m.map(e=>(0,t.jsxs)(s.MenuItem,{value:e.id,children:[e.email," ",e.firstName?`- ${e.firstName} ${e.lastName}`:""]},e.id))]}),(0,t.jsxs)(l.TextField,{select:!0,label:"Saved Prompts",value:A,onChange:e=>{var t;let a;return t=String(e.target.value),void((a=N.find(e=>e.id===t))&&(v(a.text),E(t)))},SelectProps:{MenuProps:{disablePortal:!0}},children:[(0,t.jsx)(s.MenuItem,{value:"",children:"(Select a prompt)"}),N.map(e=>(0,t.jsx)(s.MenuItem,{value:e.id,children:e.name},e.id))]})]}),(0,t.jsx)(l.TextField,{label:"Prompt",multiline:!0,minRows:6,value:S,onChange:e=>v(e.target.value),placeholder:"e.g., Write a warm, concise introduction that highlights the athlete’s drive and recent accomplishments..."}),(0,t.jsx)(o.Stack,{direction:{xs:"column",md:"row"},spacing:1,alignItems:{xs:"stretch",md:"center"},justifyContent:"space-between",children:(0,t.jsxs)(o.Stack,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",children:[(0,t.jsx)(l.TextField,{size:"small",label:"Run name",value:I,onChange:e=>T(e.target.value),sx:{minWidth:180}}),(0,t.jsx)(i.Button,{variant:"contained",onClick:R,disabled:k||!x,children:k?"Running…":"Run"})]})})]})}),(0,t.jsxs)(n.Box,{sx:{p:2,borderRadius:2.5},children:[(0,t.jsx)(r.Typography,{variant:"subtitle1",sx:{mb:.5},children:"Response"}),(0,t.jsx)(r.Typography,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"The response is where you determine if what’s being generated satisfies your needs."}),(0,t.jsx)(c.Paper,{variant:"outlined",sx:{p:2,minHeight:160,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:P||"—"}),(0,t.jsxs)(n.Box,{sx:{pt:1.5,mt:2,display:"flex",flexWrap:"wrap",gap:1,justifyContent:"flex-end"},children:[(0,t.jsx)(l.TextField,{size:"small",label:"Prompt name",value:C,onChange:e=>j(e.target.value),sx:{width:220}}),(0,t.jsx)(i.Button,{variant:"outlined",onClick:function(){var t;let a,n,i,l;if(!e?.email)return;let r=C||`Prompt ${new Date().toLocaleString()}`;b([(t={agencyEmail:e.email,clientId:x,name:r,text:S},a=g(),n=`p-${Math.random().toString(36).slice(2,10)}`,i=Date.now(),p([l={id:n,agencyEmail:t.agencyEmail,clientId:t.clientId,name:t.name,text:t.text,createdAt:i,updatedAt:i},...a]),l),...N]),j("")},disabled:!e?.email||!S,children:"Save Prompt"}),(0,t.jsx)(i.Button,{variant:"outlined",color:"error",onClick:()=>{A&&(p(g().filter(e=>e.id!==A)),b(N.filter(e=>e.id!==A)),A==A&&E(""))},disabled:!A,children:"Delete Prompt"}),(0,t.jsx)(i.Button,{variant:"text",onClick:()=>navigator.clipboard.writeText(P||""),disabled:!P,children:"Copy Response"})]})]})]})}e.s(["default",()=>y],20995)}]);